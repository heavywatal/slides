<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<title>2. ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã€‚ â€” é€²åŒ–å­¦å®Ÿç¿’ 2023 ç‰§é‡ç ” æ±åŒ—å¤§å­¦</title>
<meta name="author" content="Watal M. Iwasaki">
<meta property="og:title" content="2. ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã€‚ â€” é€²åŒ–å­¦å®Ÿç¿’ 2023 ç‰§é‡ç ” æ±åŒ—å¤§å­¦">
<meta property="og:type" content="article">
<meta property="og:url" content="https://heavywatal.github.io/slides/tohoku2023r/2-visualization.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/heavywatal">
<meta property="og:description" content="">
<meta property="og:site_name" content="Slide decks â€” Heavy Watal">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@heavywatal">
<meta name="twitter:creator" content="@heavywatal">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V60H2JH0G6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-V60H2JH0G6');
</script>
<link rel="stylesheet" href="/slides/lib/reveal.js/reveal.css">
<script type="module">
import { Reveal } from "/slides/lib/reveal.js/reveal.js";
window.addEventListener('DOMContentLoaded', function() {
  Reveal.configure({width: 1440, height: 1080});
  document.querySelector('html').style.fontSize = '240%';
})
</script>
<link rel="stylesheet" href="/slides/lib/katex/katex.min.css">
<script src="/slides/lib/katex/katex.min.js"></script>
<script src="/slides/lib/iconify.js"></script>
<script defer src="/slides/lib/reload-img-onclick.js"></script>
<link rel="stylesheet" href="/slides/css/style-reveal.css">
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<h1 id="é€²åŒ–å­¦å®Ÿç¿’-2023-ç‰§é‡ç ”-æ±åŒ—å¤§å­¦"><a href=".">é€²åŒ–å­¦å®Ÿç¿’ 2023 ç‰§é‡ç ” æ±åŒ—å¤§å­¦</a></h1>
<div class="author">
å²©åµœ èˆª
</div>
<div class="affiliation">
æ±åŒ—å¤§å­¦ ç”Ÿå‘½ç§‘å­¦ç ”ç©¶ç§‘ é€²åŒ–ã‚²ãƒãƒŸã‚¯ã‚¹åˆ†é‡ ç‰§é‡ç ” ç‰¹ä»»åŠ©æ•™
</div>
<ol>
<li><a href="1-introduction.html">å°å…¥: ãƒ‡ãƒ¼ã‚¿è§£æã®å…¨ä½“åƒã€‚Rã®åŸºæœ¬ã€‚</a>
<li class="current-deck"><a href="2-visualization.html">ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã€‚</a>
<li><a href="3-structure1.html">ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†1: æŠ½å‡ºã€é›†ç´„ãªã©ã€‚</a>
<li><a href="4-structure2.html">ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†2: çµåˆã€å¤‰å½¢ãªã©ã€‚</a>
<li><a href="5-content.html">ãƒ‡ãƒ¼ã‚¿å†…å®¹ã®å‡¦ç†: æ•°å€¤ã€æ–‡å­—åˆ—ãªã©ã€‚</a>
<li><a href="6-input.html">ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã€ãƒ‡ãƒ¼ã‚¿è§£é‡ˆ</a>
<li><a href="7-distribution.html">çµ±è¨ˆãƒ¢ãƒ‡ãƒªãƒ³ã‚°1: ç¢ºç‡åˆ†å¸ƒã€å°¤åº¦</a>
<li><a href="8-glm.html">çµ±è¨ˆãƒ¢ãƒ‡ãƒªãƒ³ã‚°2: ä¸€èˆ¬åŒ–ç·šå½¢ãƒ¢ãƒ‡ãƒ«</a>
<li><a href="9-report.html">ç™ºè¡¨ä¼š</a>
</ol>
<div class="footnote">
2023-04-10 æ±åŒ—å¤§å­¦ ç†å­¦éƒ¨ç”Ÿç‰©å­¦ç§‘ é€²åŒ–å­¦å®Ÿç¿’<br>
<a href="https://heavywatal.github.io/slides/tohoku2023r/">https://heavywatal.github.io/slides/tohoku2023r/</a>
</div>

</section>
<section>
<h2 id="ãƒ‡ãƒ¼ã‚¿è§£æã®ãŠãŠã¾ã‹ãªæµã‚Œ">ãƒ‡ãƒ¼ã‚¿è§£æã®ãŠãŠã¾ã‹ãªæµã‚Œ</h2>
<ol>
<li>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ç’°å¢ƒã®æ•´å‚™</li>
<li>ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã€èª­ã¿è¾¼ã¿</li>
<li>æ¢ç´¢çš„ãƒ‡ãƒ¼ã‚¿è§£æ
<ul>
<li>å‰å‡¦ç†ã€åŠ å·¥ (åœ°å‘³ã€‚æ„å¤–ã¨é‡ã„) ğŸ‘ˆæ¬¡å›</li>
<li><strong>å¯è¦–åŒ–ã€ä»®èª¬ç”Ÿæˆ</strong> (æ´¾æ‰‹ï¼æ¥½ã—ã„ï¼) ğŸ‘ˆä»Šå›</li>
<li>çµ±è¨ˆè§£æã€ä»®èª¬æ¤œè¨¼ (ã¿ã‚“ãªå‹‰å¼·ã—ãŸãŒã‚‹)</li>
</ul>
</li>
<li>å ±å‘Šã€ç™ºè¡¨</li>
</ol>
<figure>
<a href="https://r4ds.had.co.nz/introduction.html">
<img src="/slides/image/r4ds/data-science.png" width="720">
<figcaption class="url">https://r4ds.had.co.nz/introduction.html</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="ä½œå›³ã—ã¦ã¿ã‚‹ã¨å…¨ä½“åƒæ§‹é€ ãŒè¦‹ã‚„ã™ã„">ä½œå›³ã—ã¦ã¿ã‚‹ã¨å…¨ä½“åƒãƒ»æ§‹é€ ãŒè¦‹ã‚„ã™ã„</h2>
<p>æƒ…å ±ã®æ•´ç† â†’ <strong>æ­£ã—ã„è§£æãƒ»æ–°ã—ã„ç™ºè¦‹ãƒ»ä»®èª¬ç”Ÿæˆ</strong></p>
<img src="figure/simplify-diamonds-1.png" alt="plot of chunk simplify-diamonds">
<p><code>carat</code> ãŒå¤§ãã„ã»ã© <code>price</code> ã‚‚é«˜ã„ã‚‰ã—ã„ã€‚<br>
ãã®åº¦åˆã„ã¯ <code>clarity</code> ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã‚‰ã—ã„ã€‚</p>

</section>
<section>
<h2 id="ä»£è¡¨å€¤ã°ã‹ã‚Šè¦‹ã¦å¯è¦–åŒ–ã‚’æ€ ã‚‹ã¨æ§‹é€ ã‚’è¦‹é€ƒã™">ä»£è¡¨å€¤ã°ã‹ã‚Šè¦‹ã¦å¯è¦–åŒ–ã‚’æ€ ã‚‹ã¨æ§‹é€ ã‚’è¦‹é€ƒã™</h2>
<figure style="position: relative;">
<a href="https://www.autodesk.com/research/publications/same-stats-different-graphs">
<img src="/slides/image/rstats/datasaurus.png" width="95%">
<figcaption class="url">https://www.autodesk.com/research/publications/same-stats-different-graphs</figcaption>
</a>
<img src="/slides/image/rstats/DataDino-600x455.gif" width="22%"
     style="position: absolute; left: 0; top: 0; z-index: 255;">
</figure>
</section>
<section>
<h2 id="ãã†ã¯è¨€ã£ã¦ã‚‚ã‚»ãƒ³ã‚¹ã§ã—ã‚‡-----no">ãã†ã¯è¨€ã£ã¦ã‚‚ã‚»ãƒ³ã‚¹ã§ã—ã‚‡? &mdash; NO!</h2>
<figure style="float: right; width: 670px; margin: 1rem 0;">
<a href="https://tsutawarudesign.com/">
<img src="/slides/image/tsutawaru/title-13.svg" style="margin: 0 -20px 0 0;">
<img src="/slides/image/tsutawaru/hajimeni-03.svg" style="margin: 0 -20px 0 0;">
<figcaption class="url">https://tsutawarudesign.com/</figcaption>
</a>
</figure>
<p>ã‚ã‚‹ç¨‹åº¦ã¯<strong>ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</strong>ã§ã‚ã‚Š<strong>æ•™é¤Š</strong>ã€‚<br>
ãƒ‡ã‚¶ã‚¤ãƒ³ã®åŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ«ã‚’<br>
çŸ¥ã‚Šã•ãˆã™ã‚Œã°èª°ã§ã‚‚ä¸Šé”ã™ã‚‹ã€‚<br></p>
</section>
<section>
<h2 id="ãŠã—ãªãŒã-rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã¨ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ">ãŠã—ãªãŒã: Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã¨ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</h2>
<h3 id="-delãƒ‡ãƒ¼ã‚¿è§£æå…¨ä½“ã®æµã‚Œå¯è¦–åŒ–ã ã„ã˜del">âœ… <del>ãƒ‡ãƒ¼ã‚¿è§£æå…¨ä½“ã®æµã‚Œã€‚å¯è¦–åŒ–ã ã„ã˜</del></h3>
<h3 id="-ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹ggplot2">â¬œ ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹ggplot2</h3>
<h3 id="-rã®ã‚³ãƒ¼ãƒ‰ã¨å®Ÿè¡Œçµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã«åŸ‹ã‚è¾¼ã‚€quarto">â¬œ Rã®ã‚³ãƒ¼ãƒ‰ã¨å®Ÿè¡Œçµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã«åŸ‹ã‚è¾¼ã‚€Quarto</h3>

</section>
<section>
<h2 id="iris-ã‚¢ãƒ¤ãƒ¡å±3ç¨®150å€‹ä½“ã®æ¸¬å®šãƒ‡ãƒ¼ã‚¿"><code>iris</code>: ã‚¢ãƒ¤ãƒ¡å±3ç¨®150å€‹ä½“ã®æ¸¬å®šãƒ‡ãƒ¼ã‚¿</h2>
<p>Rã«æœ€åˆã‹ã‚‰å…¥ã£ã¦ã¦ã€ä¾‹ã¨ã—ã¦ã‚ˆãä½¿ã‚ã‚Œã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>    Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
  1          5.1         3.5          1.4         0.2    setosa
  2          4.9         3.0          1.4         0.2    setosa
  3          4.7         3.2          1.3         0.2    setosa
  4          4.6         3.1          1.5         0.2    setosa
 --                                                            
147          6.3         2.5          5.0         1.9 virginica
148          6.5         3.0          5.2         2.0 virginica
149          6.2         3.4          5.4         2.3 virginica
150          5.9         3.0          5.1         1.8 virginica
</code></pre><p>é•·ã•150ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«4æœ¬ã¨å› å­ãƒ™ã‚¯ãƒˆãƒ«1æœ¬ã€‚</p>

</section>
<section>
<h2 id="ræ¨™æº–ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹">Ræ¨™æº–ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹</h2>
<p>æã‘ã‚‹ã£ã¡ã‚ƒæã‘ã‚‹ã‘ã©ã€‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã„ãã®ã¯é›£ã—ã„ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">boxplot</span><span class="p">(</span><span class="n">Petal.Width</span> <span class="o">~</span> <span class="n">Species</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">iris</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">plot</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">,</span> <span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">hist</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/base-plot-iris-1.png" alt="plot of chunk base-plot-iris"><img src="./figure/base-plot-iris-2.png" alt="plot of chunk base-plot-iris"><img src="./figure/base-plot-iris-3.png" alt="plot of chunk base-plot-iris"></p>
<p>ãã‚Œã„ãªã‚°ãƒ©ãƒ•ã‚’ç°¡å˜ã«æã‘ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã„ãŸã„ã€‚</p>

</section>
<section>
<h2 id="ggplot2-tidyverseã®å¯è¦–åŒ–æ‹…å½“">ggplot2: tidyverseã®å¯è¦–åŒ–æ‹…å½“</h2>
<a href="https://ggplot2.tidyverse.org/">
<img src="/_img/hex-stickers/ggplot2.webp" width="180" align="right">
</a>
<ul>
<li>&ldquo;The <strong><u>G</u></strong>rammer of <strong><u>G</u></strong>raphics&rdquo; ã¨ã„ã†ä½“ç³»ã«åŸºã¥ãè¨­è¨ˆ</li>
<li>å˜ã«ã„ã‚ã‚“ãªã‚°ãƒ©ãƒ•ã‚’ã€Œæã‘ã‚‹ã€ã ã‘ã˜ã‚ƒãªã<br>
<strong>ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹</strong></li>
</ul>
<br>
<p><img src="./figure/ggplot-iris-1.png" alt="plot of chunk ggplot-iris"><img src="./figure/ggplot-iris-2.png" alt="plot of chunk ggplot-iris"><img src="./figure/ggplot-iris-3.png" alt="plot of chunk ggplot-iris"></p>
</section>
<section>
<h2 id="ggplot2-tidyverseã®å¯è¦–åŒ–æ‹…å½“">ggplot2: tidyverseã®å¯è¦–åŒ–æ‹…å½“</h2>
<a href="https://ggplot2.tidyverse.org/">
<img src="/_img/hex-stickers/ggplot2.webp" width="180" align="right">
</a>
<ul>
<li>&ldquo;The <strong><u>G</u></strong>rammer of <strong><u>G</u></strong>raphics&rdquo; ã¨ã„ã†ä½“ç³»ã«åŸºã¥ãè¨­è¨ˆ</li>
<li>å˜ã«ã„ã‚ã‚“ãªã‚°ãƒ©ãƒ•ã‚’ã€Œæã‘ã‚‹ã€ã ã‘ã˜ã‚ƒãªã<br>
<strong>ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹</strong></li>
</ul>
<figure>
<!--
<a href="https://www.amazon.co.jp/dp/B00HWUVHXK/ref=as_li_ss_il?ie=UTF8&linkCode=li3&tag=heavywatal-22&linkId=d63d3627df82c09b0bb5ca8f47ee19cc&language=ja_JP" target="_blank"><img border="0" src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=B00HWUVHXK&Format=_SL250_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=heavywatal-22&language=ja_JP" ></a><img src="https://ir-jp.amazon-adsystem.com/e/ir?t=heavywatal-22&language=ja_JP&l=li3&o=9&a=B00HWUVHXK" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
<img src="/slides/image/nagoya/iris.png" width="24%">
<img src="/slides/image/nagoya/binhex.png" width="24%">
<img src="/slides/image/nagoya/faithful.png" width="24%">
-->
<img src="/slides/image/tumopp/paper/Fig1.png" height="360">
<img src="/slides/image/tumopp/param-p.png" height="360">
<img src="/slides/image/tumopp/param-k.png" height="360"><br>
<img src="/slides/image/tumopp/paper/Fig3.png" height="180">
<img src="/slides/image/tumopp/Cmoore_Lconst.gif" height="180">
<img src="/slides/image/tumopp/Cmoore_Llinear.gif" height="180">
<img src="/slides/image/tumopp/Chex_Lconst.gif" height="180">
<img src="/slides/image/tumopp/Chex_Llinear.gif" height="180">
<figcaption class="url">Iwasaki and Innan (2017)</figcaption>
</figure>
</section>
<section>
<h2 id="ã„ããªã‚Šggplot2ã‹ã‚‰ä½¿ã„å§‹ã‚ã¦ã‚‚å¤§ä¸ˆå¤«">ã„ããªã‚Šggplot2ã‹ã‚‰ä½¿ã„å§‹ã‚ã¦ã‚‚å¤§ä¸ˆå¤«</h2>
<p>Ræ¨™æº–ã®ã‚„ã¤ã¨ã¯æ ¹æœ¬çš„ã«é•ã†ã‚·ã‚¹ãƒ†ãƒ ã§ä½œå›³ã™ã‚‹ã€‚</p>
<figure>
<img src="/slides/image/rstats/r-graphics.svg" height="600">
<figcaption><cite>ã€ŒRã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã€Murrellè‘— ä¹…ä¿è¨³ ã‚ˆã‚Šæ”¹å¤‰</cite></figcaption>
</figure>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<img src="/slides/image/rstats/ggplot-layers.png" height="930">
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span>             <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl"><span class="c1"># aes(x = carat, y = price) +       # carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl"><span class="c1"># geom_point() +                    # æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># facet_wrap(vars(clarity)) +       # clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl"><span class="c1"># stat_smooth(method = lm) +        # ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus1-1.png" alt="plot of chunk ggplot-plus1"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span>         <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl"><span class="c1"># geom_point() +                    # æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># facet_wrap(vars(clarity)) +       # clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl"><span class="c1"># stat_smooth(method = lm) +        # ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus2-1.png" alt="plot of chunk ggplot-plus2"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span>                      <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># facet_wrap(vars(clarity)) +       # clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl"><span class="c1"># stat_smooth(method = lm) +        # ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus3-1.png" alt="plot of chunk ggplot-plus3"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>                    <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span>         <span class="c1"># clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl"><span class="c1"># stat_smooth(method = lm) +        # ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus4-1.png" alt="plot of chunk ggplot-plus4"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>                    <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>       <span class="c1"># clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl">  <span class="nf">stat_smooth</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="n">lm</span><span class="p">)</span>          <span class="c1"># ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus5-1.png" alt="plot of chunk ggplot-plus5"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>                    <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>       <span class="c1"># clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl">  <span class="nf">stat_smooth</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="n">lm</span><span class="p">)</span> <span class="o">+</span>        <span class="c1"># ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl">  <span class="nf">coord_cartesian</span><span class="p">(</span><span class="n">ylim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2e4</span><span class="p">))</span>   <span class="c1"># yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># theme_classic(base_size = 20)     # ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus6-1.png" alt="plot of chunk ggplot-plus6"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>                    <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>       <span class="c1"># clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl">  <span class="nf">stat_smooth</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="n">lm</span><span class="p">)</span> <span class="o">+</span>        <span class="c1"># ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl">  <span class="nf">coord_cartesian</span><span class="p">(</span><span class="n">ylim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2e4</span><span class="p">))</span> <span class="o">+</span> <span class="c1"># yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme_classic</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>     <span class="c1"># ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus7-1.png" alt="plot of chunk ggplot-plus7"></p>
</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>           <span class="c1"># diamondsãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒ³ãƒã‚¹æº–å‚™</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>       <span class="c1"># carat,priceåˆ—ã‚’x,yè»¸ã«mapping</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>                    <span class="c1"># æ•£å¸ƒå›³ã‚’æã</span>
</span></span><span class="line"><span class="cl"><span class="c1"># facet_wrap(vars(clarity)) +       # clarityåˆ—ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ†å‰²</span>
</span></span><span class="line"><span class="cl"><span class="c1"># stat_smooth(method = lm) +        # ç›´ç·šå›å¸°ã‚’è¿½åŠ </span>
</span></span><span class="line"><span class="cl"><span class="c1"># coord_cartesian(ylim = c(0, 2e4)) + # yè»¸ã®è¡¨ç¤ºç¯„å›²ã‚’ç‹­ã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme_classic</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span>     <span class="c1"># ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãªãƒ†ãƒ¼ãƒã§</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-plus8-1.png" alt="plot of chunk ggplot-plus8"></p>
</section>
<section>
<h2 id="é€”ä¸­çµŒéã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–ã£ã¦ãŠã‘ã‚‹">é€”ä¸­çµŒéã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–ã£ã¦ãŠã‘ã‚‹</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">p1</span> <span class="o">=</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">diamonds</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">p2</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">p3</span> <span class="o">=</span> <span class="n">p2</span> <span class="o">+</span> <span class="nf">geom_point</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">p4</span> <span class="o">=</span> <span class="n">p3</span> <span class="o">+</span> <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/ggplot-object-1.png" alt="plot of chunk ggplot-object"></p>
<p>ã“ã® <code>p3</code> ã¯å¾Œã§ä½¿ã„ã¾ã™ã€‚</p>

</section>
<section>
<h2 id="ã²ã¨ã¾ãšggplotã—ã¦ã¿ã‚ˆã†">ã²ã¨ã¾ãšggplotã—ã¦ã¿ã‚ˆã†</h2>
<p>è‡ªå‹•è»Šã®ã‚¹ãƒšãƒƒã‚¯ã«é–¢ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ <code>mpg</code> ã‚’ä½¿ã£ã¦ã€‚</p>
<pre tabindex="0"><code>    manufacturer  model displ year cyl      trans drv cty hwy fl   class
  1         audi     a4   1.8 1999   4   auto(l5)   f  18  29  p compact
  2         audi     a4   1.8 1999   4 manual(m5)   f  21  29  p compact
 --                                                                     
233   volkswagen passat   2.8 1999   6 manual(m5)   f  18  26  p midsize
234   volkswagen passat   3.6 2008   6   auto(s6)   f  17  26  p midsize
</code></pre><p>ğŸ”° æ’æ°—é‡ <code>displ</code> ã¨å¸‚è¡—åœ°ç‡ƒè²» <code>cty</code> ã®é–¢ä¿‚ã‚’æ•£å¸ƒå›³ã§ã€‚</p>
<p><img src="./figure/ggplot-mpg-1.png" alt="plot of chunk ggplot-mpg"></p>

</section>
<section>
<h2 id="ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼">ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼</h2>
<p>é–¢æ•°åã‚’ <code>ggplot2</code> ã¨æ›¸ã„ã¡ã‚ƒã†ã¨å‹˜é•ã„:</p>
<pre tabindex="0"><code>&gt; ggplot2(diamonds)
Error in ggplot2(diamonds) : could not find function &#34;ggplot2&#34;
</code></pre><p><strong>ggplot2</strong> ã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã€‚<br>
ä»Šåº¦ã“ãé–¢æ•°åã¯åˆã£ã¦ã‚‹ã¯ãšãªã®ã«&hellip;</p>
<pre tabindex="0"><code>&gt; ggplot(diamonds)
Error in ggplot(diamonds) : could not find function &#34;ggplot&#34;
</code></pre><p>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª­ã¿è¾¼ã¿ã‚’å¿˜ã‚Œã¦ãŸã€‚æ–°ã—ãRã‚’èµ·å‹•ã™ã‚‹ãŸã³ã«å¿…è¦:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">conflicted</span><span class="p">)</span> <span class="c1"># å®‰å…¨ã®ãŠã¾ã˜ãªã„</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>  <span class="c1"># including ggplot2</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span>    <span class="c1"># OK!</span>
</span></span></code></pre></div><p>ãã®ã»ã‹ <a href="https://comicalcommet.github.io/r-training-2022/R_training_2022_7.html">ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼é›† (çŸ³å·ç”±å¸Œã•ã‚“@åå¤å±‹å¤§)</a> ã‚’å‚ç…§ã€‚</p>

</section>
<section>
<h2 id="ggplot-ã«æ¸¡ã™ã®ã¯æ•´ç„¶ãƒ‡ãƒ¼ã‚¿-tidy-data"><code>ggplot()</code> ã«æ¸¡ã™ã®ã¯æ•´ç„¶ãƒ‡ãƒ¼ã‚¿ tidy data</h2>
<ul>
<li>1è¡Œã¯1ã¤ã®è¦³æ¸¬</li>
<li>1åˆ—ã¯1ã¤ã®å¤‰æ•°</li>
<li>1ã‚»ãƒ«ã¯1ã¤ã®å€¤</li>
<li>ã“ã®åˆ—ã‚’Xè»¸ã€ã“ã®åˆ—ã‚’Yè»¸ã€ã“ã®åˆ—ã§è‰²ã‚ã‘ã€ã¨æŒ‡å®šã§ãã‚‹ï¼</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      carat       cut color clarity depth table price    x    y    z
    1  0.23     Ideal     E     SI2  61.5    55   326 3.95 3.98 2.43
    2  0.21   Premium     E     SI1  59.8    61   326 3.89 3.84 2.31
    3  0.23      Good     E     VS1  56.9    65   327 4.05 4.07 2.31
    4  0.29   Premium     I     VS2  62.4    58   334 4.20 4.23 2.63
   --                                                               
53937  0.72      Good     D     SI1  63.1    55  2757 5.69 5.75 3.61
53938  0.70 Very Good     D     SI1  62.8    60  2757 5.66 5.68 3.56
53939  0.86   Premium     H     SI2  61.0    58  2757 6.15 6.12 3.74
53940  0.75     Ideal     D     SI2  62.2    55  2757 5.83 5.87 3.64
</code></pre><cite>
<a class="url" href="https://r4ds.had.co.nz/tidy-data.html">https://r4ds.had.co.nz/tidy-data.html</a><br>
<a class="url" href="https://speakerdeck.com/fnshr/zheng-ran-detatutenani">https://speakerdeck.com/fnshr/zheng-ran-detatutenani</a>
</cite>

</section>
<section>
<h2 id="aesthetic-mapping-ã§ãƒ‡ãƒ¼ã‚¿ã¨è¦‹ã›æ–¹ã‚’ç´ä»˜ã‘">Aesthetic mapping ã§ãƒ‡ãƒ¼ã‚¿ã¨è¦‹ã›æ–¹ã‚’ç´ä»˜ã‘</h2>
<p><code>aes()</code> ã®ä¸­ã§åˆ—åã‚’æŒ‡å®šã™ã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">mapping</span> <span class="o">=</span> <span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">clarity</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="n">cut</span><span class="p">))</span>
</span></span></code></pre></div><p><img src="./figure/aes-map-1.png" alt="plot of chunk aes-map"></p>

</section>
<section>
<h2 id="ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‰ãšä¸€å¾‹ã§aestheticsã‚’å¤‰ãˆã‚‹">ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‰ãšä¸€å¾‹ã§aestheticsã‚’å¤‰ãˆã‚‹</h2>
<p><code>aes()</code> ã®å¤–ã§å€¤ã‚’æŒ‡å®šã™ã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="s">&#34;darkorange&#34;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="m">6</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.4</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/aes-nomap-1.png" alt="plot of chunk aes-nomap"></p>

</section>
<section>
<h2 id="å¤–ã®-aes-ã¯å…¨ã¦ã®-geom_-ã«æ³¢åŠã™ã‚‹">å¤–ã® <code>aes()</code> ã¯å…¨ã¦ã® <code>geom_*()</code> ã«æ³¢åŠã™ã‚‹</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_line</span><span class="p">()</span>             <span class="c1"># NO color</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">carat</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">clarity</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>          <span class="c1"># color</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_line</span><span class="p">()</span>             <span class="c1"># color</span>
</span></span></code></pre></div><p><img src="./figure/aes-global-local-1.png" alt="plot of chunk aes-global-local"><img src="./figure/aes-global-local-2.png" alt="plot of chunk aes-global-local"></p>
</section>
<section>
<h2 id="aestheticsä¸€è¦§httpsggplot2tidyverseorgarticlesggplot2-specshtml"><a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html">aestheticsä¸€è¦§</a></h2>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/aes_colour_fill_alpha.html">è‰²ãƒ»é€æ˜åº¦ã‚’å¤‰ãˆã‚‹</a>
<ul>
<li><code>color</code>: ç‚¹ã€ç·šã€æ–‡å­—ã®è‰²</li>
<li><code>fill</code>: é¢ã®è‰²</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_alpha.html"><code>alpha</code></a>: ä¸é€æ˜åº¦ (0ãŒé€æ˜ã€1ãŒä¸é€æ˜)</li>
</ul>
</li>
<li><a href="https://ggplot2.tidyverse.org/reference/aes_linetype_size_shape.html">å¤§ãã•ãƒ»å½¢ã‚’å¤‰ãˆã‚‹</a>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_size.html"><code>size</code></a>,
<a href="https://ggplot2.tidyverse.org/reference/scale_shape.html"><code>shape</code></a>: ç‚¹ã®å¤§ãã•ã‚„å½¢</li>
<li><a href="https://ggplot2.tidyverse.org/reference/scale_linewidth.html"><code>linewidth</code></a>,
<a href="https://ggplot2.tidyverse.org/reference/scale_linetype.html"><code>linetype</code></a>: ç·šã®å¤ªã•ã‚„ç¨®é¡</li>
</ul>
</li>
<li><a href="https://ggplot2.tidyverse.org/reference/aes_group_order.html">å˜ã«ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘ã™ã‚‹</a>
<ul>
<li><code>group</code>: æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã‚„ãƒãƒªã‚´ãƒ³ã®åˆ‡ã‚Šåˆ†ã‘ãªã©</li>
</ul>
</li>
<li><a href="https://ggplot2.tidyverse.org/reference/aes_position.html">åº§æ¨™ã€å§‹ç‚¹ã€çµ‚ç‚¹</a>
<ul>
<li><strong><code>x</code></strong>, <strong><code>y</code></strong>, <code>xmin</code>, <code>xmax</code>, <code>ymin</code>, <code>ymax</code>, <code>xend</code>, <code>yend</code></li>
</ul>
</li>
</ul>

</section>
<section>
<h2 id="ç‚¹ã¨ç·šã¨æ–‡å­—ã¯-color-é¢ã¯-fill">ç‚¹ã¨ç·šã¨æ–‡å­—ã¯ <code>color</code>, é¢ã¯ <code>fill</code></h2>
<p>ä¸é€æ˜åº¦ã¯ <code>alpha</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">cut</span><span class="p">,</span> <span class="n">carat</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_boxplot</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="s">&#34;royalblue&#34;</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="s">&#34;gold&#34;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/fill-1.png" alt="plot of chunk fill"></p>

</section>
<section>
<h2 id="è‰²ã®å¤‰ãˆæ–¹ã®ç·´ç¿’">è‰²ã®å¤‰ãˆæ–¹ã®ç·´ç¿’</h2>
<p>è‡ªå‹•è»Šã®ã‚¹ãƒšãƒƒã‚¯ã«é–¢ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ <code>mpg</code> ã‚’ä½¿ã£ã¦ã€‚</p>
<pre tabindex="0"><code>    manufacturer  model displ year cyl      trans drv cty hwy fl   class
  1         audi     a4   1.8 1999   4   auto(l5)   f  18  29  p compact
  2         audi     a4   1.8 1999   4 manual(m5)   f  21  29  p compact
 --                                                                     
233   volkswagen passat   2.8 1999   6 manual(m5)   f  18  26  p midsize
234   volkswagen passat   3.6 2008   6   auto(s6)   f  17  26  p midsize
</code></pre><p>ğŸ”° æ’æ°—é‡ <code>displ</code> ã¨å¸‚è¡—åœ°ç‡ƒè²» <code>cty</code> ã®é–¢ä¿‚ã‚’é’ã„æ•£å¸ƒå›³ã§æã“ã†<br>
ğŸ”° é§†å‹•æ–¹å¼ <code>drv</code> ã‚„ã‚·ãƒªãƒ³ãƒ€ãƒ¼æ•° <code>cyl</code> ã«ã‚ˆã£ã¦è‰²ã‚’å¡—ã‚Šåˆ†ã‘ã—ã¦ã¿ã‚ˆã†</p>
<p><img src="./figure/ggplot-mpg-color-1.png" alt="plot of chunk ggplot-mpg-color"></p>

</section>
<section>
<h2 id="è‰²ã®è¦‹ãˆæ–¹ã¯äººã«ã‚ˆã£ã¦é•ã†">è‰²ã®è¦‹ãˆæ–¹ã¯äººã«ã‚ˆã£ã¦é•ã†</h2>
<p><span style="color: #F8766D;">èµ¤</span>
<span style="color: #00BA38;">ç·‘</span>
<span style="color: #619CFF;">é’</span>ã®3è‰²ã‚’ä½¿ã£ãŸå…ˆã»ã©ã®å›³ã¯å¤šãã®äººã«ã¯å•é¡Œãªã•ãã†ã€‚<br>
ã—ã‹ã—5%ãã‚‰ã„ã®äººã«ã¯å³ã®ã‚ˆã†ã«<span style="color: #B6A86A;">èµ¤</span>
<span style="color: #AC9C45;">ç·‘</span>
<span style="color: #5A96FD;">é’</span> ã‚„
<span style="color: #FF6074;">èµ¤</span>
<span style="color: #00B5A0;">ç·‘</span>
<span style="color: #00B2C1;">é’</span>ã®2è‰²ã«è¦‹ãˆã¦ã„ã‚‹ã€‚</p>
<p><img src="./figure/color-vision-diversity-1.png" alt="plot of chunk color-vision-diversity"><img src="./figure/color-vision-diversity-2.png" alt="plot of chunk color-vision-diversity"><img src="./figure/color-vision-diversity-3.png" alt="plot of chunk color-vision-diversity"></p>
<p>Macã‚„iOSãªã‚‰<a href="https://michelf.ca/projects/sim-daltonism/">Sim Daltonism</a>ã¨ã„ã†ã‚¢ãƒ—ãƒªã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚‹ã€‚<br>
Windowsãªã‚‰<a href="https://colororacle.org/">Color Oracle</a>ãŒä½¿ãˆãã†ã€‚</p>

</section>
<section>
<h2 id="å¤šæ§˜æ€§ã‚’å‰æã«ã‚ˆãè€ƒãˆã‚‰ã‚ŒãŸãƒ‘ãƒ¬ãƒƒãƒˆã‚‚ã‚ã‚‹">å¤šæ§˜æ€§ã‚’å‰æã«ã‚ˆãè€ƒãˆã‚‰ã‚ŒãŸãƒ‘ãƒ¬ãƒƒãƒˆã‚‚ã‚ã‚‹</h2>
<p>Sequential palette:<br>
<img src="./figure/palette-sequential-1.png" alt="plot of chunk palette-sequential"><img src="./figure/palette-sequential-2.png" alt="plot of chunk palette-sequential"><img src="./figure/palette-sequential-3.png" alt="plot of chunk palette-sequential"></p>
<p>Diverging palette:<br>
<img src="./figure/palette-diverging-1.png" alt="plot of chunk palette-diverging"><img src="./figure/palette-diverging-2.png" alt="plot of chunk palette-diverging"><img src="./figure/palette-diverging-3.png" alt="plot of chunk palette-diverging"></p>
<p>Qualitative (categorical, discrete) palette:<br>
<img src="./figure/palette-qualitative-1.png" alt="plot of chunk palette-qualitative"><img src="./figure/palette-qualitative-2.png" alt="plot of chunk palette-qualitative"><img src="./figure/palette-qualitative-3.png" alt="plot of chunk palette-qualitative"></p>

</section>
<section>
<h2 id="è‰²ãƒ‘ãƒ¬ãƒƒãƒˆã®å¤‰æ›´-scale_color_">è‰²ãƒ‘ãƒ¬ãƒƒãƒˆã®å¤‰æ›´ <code>scale_color_*()</code></h2>
<p><a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis</a>
ã¨
<a href="https://colorbrewer2.org/#type=diverging&amp;scheme=RdYlBu&amp;n=5">ColorBrewer</a>
ã®ãƒ‘ãƒ¬ãƒƒãƒˆã¯ggplot2ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã®ã§ç°¡å˜ã€‚<br>
ä¸Šè¨˜ãƒªãƒ³ã‚¯ã‹ã‚‰åå‰ã‚’æ¢ã—ã¦ã€<code>option =</code> ã‹ <code>palette =</code> ã§æŒ‡å®šã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">carat</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">mapping</span> <span class="o">=</span> <span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_color_viridis_d</span><span class="p">(</span><span class="n">option</span> <span class="o">=</span> <span class="s">&#34;inferno&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># scale_color_brewer(palette = &#34;YlGnBu&#34;)</span>
</span></span></code></pre></div><p><img src="./figure/scale-color-1.png" alt="plot of chunk scale-color"><img src="./figure/scale-color-2.png" alt="plot of chunk scale-color"></p>

</section>
<section>
<h2 id="é€£ç¶šå€¤continuousã¨é›¢æ•£å€¤discreteã‚’åŒºåˆ¥ã™ã‚‹">é€£ç¶šå€¤(continuous)ã¨é›¢æ•£å€¤(discrete)ã‚’åŒºåˆ¥ã™ã‚‹</h2>
<p>æ¸¡ã™å€¤ã¨scaleé–¢æ•°ãŒåˆã£ã¦ãªã„ã¨æ€’ã‚‰ã‚Œã‚‹:<br>
<code>Error: Continuous value supplied to discrete scale</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">carat</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">mapping</span> <span class="o">=</span> <span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">price</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_color_viridis_c</span><span class="p">(</span><span class="n">option</span> <span class="o">=</span> <span class="s">&#34;inferno&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># scale_color_distiller(palette = &#34;YlGnBu&#34;)</span>
</span></span></code></pre></div><p><img src="./figure/scale-color-continuous-1.png" alt="plot of chunk scale-color-continuous"><img src="./figure/scale-color-continuous-2.png" alt="plot of chunk scale-color-continuous"></p>
<ul>
<li>discrete: <code>scale_color_viridis_d()</code>, <code>scale_color_brewer()</code></li>
<li>continuous: <code>scale_color_viridis_c()</code>, <code>scale_color_distiller()</code></li>
<li>binned: <code>scale_color_viridis_b()</code>, <code>scale_color_fermenter()</code></li>
</ul>

</section>
<section>
<h2 id="viridisã‚„brewerä»¥å¤–ã®ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä½¿ã†ã«ã¯">viridisã‚„brewerä»¥å¤–ã®ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä½¿ã†ã«ã¯</h2>
<p>Ræ¨™æº–ã® <code>palette.colors()</code> ã‚„
<a href="https://colorspace.r-forge.r-project.org/articles/ggplot2_color_scales.html">colorspaceãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>
ã‚’ä½¿ã†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">okabe_ito</span> <span class="o">=</span> <span class="nf">palette.colors</span><span class="p">(</span><span class="m">9L</span><span class="p">,</span> <span class="s">&#34;Okabe-Ito&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">mpg</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">displ</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">cty</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">drv</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.66</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_color_discrete</span><span class="p">(</span><span class="n">type</span> <span class="o">=</span> <span class="nf">unname</span><span class="p">(</span><span class="n">okabe_ito</span><span class="p">)</span><span class="n">[</span><span class="m">-1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># scale_color_discrete(type = palette.colors(8L, &#34;R4&#34;)[-1])</span>
</span></span><span class="line"><span class="cl"><span class="c1"># colorspace::scale_colour_discrete_divergingx(&#34;Zissou 1&#34;)</span>
</span></span></code></pre></div><p><img src="./figure/other-palettes-1.png" alt="plot of chunk other-palettes"><img src="./figure/other-palettes-2.png" alt="plot of chunk other-palettes"><img src="./figure/other-palettes-3.png" alt="plot of chunk other-palettes"></p>
<p>è‡ªåˆ†ã§å…¨è‰²å€‹åˆ¥æŒ‡å®šã‚‚ã§ãã‚‹ãŒã€å°‚é–€å®¶ã®è€ƒãˆãŸã‚»ãƒƒãƒˆã‚’ä½¿ã†ã®ãŒç„¡é›£ã€‚</p>

</section>
<section>
<h2 id="scale_color_-ã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½"><code>scale_color_*</code> ã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«è¨­å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½</h2>
<p>é€£ç¶šå€¤viridis, é›¢æ•£å€¤Okabe-Itoã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã™ã‚‹ä¾‹:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">grDevices</span><span class="o">::</span><span class="nf">palette</span><span class="p">(</span><span class="s">&#34;Okabe-Ito&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">options</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="n">ggplot2.continuous.colour</span> <span class="o">=</span> <span class="s">&#34;viridis&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">ggplot2.continuous.fill</span> <span class="o">=</span> <span class="s">&#34;viridis&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">ggplot2.discrete.colour</span> <span class="o">=</span> <span class="n">grDevices</span><span class="o">::</span><span class="nf">palette</span><span class="p">()</span><span class="n">[</span><span class="m">-1</span><span class="n">]</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">ggplot2.discrete.fill</span> <span class="o">=</span> <span class="n">grDevices</span><span class="o">::</span><span class="nf">palette</span><span class="p">()</span><span class="n">[</span><span class="m">-1</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p><code>options()</code> ã«ã‚ˆã‚‹è¨­å®šã¯Rã‚’çµ‚äº†ã™ã‚‹ã¾ã§æœ‰åŠ¹ã€‚</p>

</section>
<section>
<h2 id="å€¤ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ‡ã‚Šåˆ†ã‘-1å¤‰æ•°facet">å€¤ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ‡ã‚Šåˆ†ã‘ (1å¤‰æ•°facet)</h2>
<p>ggplotã®çœŸéª¨é ‚ï¼
ã“ã‚Œã‚’Ræ¨™æº–æ©Ÿèƒ½ã§ã‚„ã‚‹ã®ã¯çµæ§‹ãŸã„ã¸ã‚“ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">p3</span> <span class="o">+</span> <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">),</span> <span class="n">ncol</span> <span class="o">=</span> <span class="m">4L</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/facet-wrap-1.png" alt="plot of chunk facet-wrap"></p>

</section>
<section>
<h2 id="å€¤ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ‡ã‚Šåˆ†ã‘-2å¤‰æ•°facet">å€¤ã«å¿œã˜ã¦ãƒ‘ãƒãƒ«åˆ‡ã‚Šåˆ†ã‘ (â‰¥2å¤‰æ•°facet)</h2>
<p>ggplotã®çœŸéª¨é ‚ï¼
ã“ã‚Œã‚’Ræ¨™æº–æ©Ÿèƒ½ã§ã‚„ã‚‹ã®ã¯çµæ§‹ãŸã„ã¸ã‚“ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">p3</span> <span class="o">+</span> <span class="nf">facet_grid</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">),</span> <span class="nf">vars</span><span class="p">(</span><span class="n">cut</span><span class="p">))</span>
</span></span></code></pre></div><p><img src="./figure/facet-grid-1.png" alt="plot of chunk facet-grid"></p>

</section>
<section>
<h2 id="å¤šå¤‰é‡ãƒ‡ãƒ¼ã‚¿ã®ä¿¯ç°5æ¬¡å…ƒãã‚‰ã„ã¾ã§æœ‰åŠ¹">å¤šå¤‰é‡ãƒ‡ãƒ¼ã‚¿ã®ä¿¯ç°ã€5æ¬¡å…ƒãã‚‰ã„ã¾ã§æœ‰åŠ¹</h2>
<p><img src="./figure/facet-diamonds-1.png" alt="plot of chunk facet-diamonds"></p>
</section>
<section>
<h2 id="å€¤ã«å¿œã˜ãŸfacetã®ç·´ç¿’">å€¤ã«å¿œã˜ãŸfacetã®ç·´ç¿’</h2>
<p>è‡ªå‹•è»Šã®ã‚¹ãƒšãƒƒã‚¯ã«é–¢ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ <code>mpg</code> ã‚’ä½¿ã£ã¦ã€‚</p>
<pre tabindex="0"><code>    manufacturer  model displ year cyl      trans drv cty hwy fl   class
  1         audi     a4   1.8 1999   4   auto(l5)   f  18  29  p compact
  2         audi     a4   1.8 1999   4 manual(m5)   f  21  29  p compact
 --                                                                     
233   volkswagen passat   2.8 1999   6 manual(m5)   f  18  26  p midsize
234   volkswagen passat   3.6 2008   6   auto(s6)   f  17  26  p midsize
</code></pre><p>ğŸ”° é§†å‹•æ–¹å¼ <code>drv</code> ã‚„ã‚·ãƒªãƒ³ãƒ€ãƒ¼æ•° <code>cyl</code> ã«ã‚ˆã£ã¦facetã—ã¦ã¿ã‚ˆã†</p>
<p><img src="./figure/ggplot-mpg-facet-1.png" alt="plot of chunk ggplot-mpg-facet"></p>

</section>
<section>
<h2 id="å€¤ã‚’å¤‰ãˆãšåº§æ¨™è»¸ã‚’å¤‰ãˆã‚‹-scale_httpsggplot2tidyverseorgreferencesection-scales-coord_httpsggplot2tidyverseorgreferencesection-coordinate-systems">å€¤ã‚’å¤‰ãˆãšåº§æ¨™è»¸ã‚’å¤‰ãˆã‚‹ <a href="https://ggplot2.tidyverse.org/reference/#section-scales"><code>scale_*</code></a>, <a href="https://ggplot2.tidyverse.org/reference/#section-coordinate-systems"><code>coord_*</code></a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">carat</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span> <span class="nf">geom_point</span><span class="p">(</span><span class="n">alpha</span> <span class="o">=</span> <span class="m">0.25</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_x_log10</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_y_log10</span><span class="p">(</span><span class="n">breaks</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span> <span class="o">*</span> <span class="m">1000</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">coord_cartesian</span><span class="p">(</span><span class="n">xlim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.1</span><span class="p">,</span> <span class="m">10</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">800</span><span class="p">,</span> <span class="m">12000</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&#34;Diamonds&#34;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Size (carat)&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Price (USD)&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/scale-axis-1.png" alt="plot of chunk scale-axis"></p>
</section>
<section>
<h2 id="ãƒ‡ãƒ¼ã‚¿ã¨é–¢ä¿‚ãªã„éƒ¨åˆ†ã®è¦‹ãŸç›®ã‚’èª¿æ•´-theme">ãƒ‡ãƒ¼ã‚¿ã¨é–¢ä¿‚ãªã„éƒ¨åˆ†ã®è¦‹ãŸç›®ã‚’èª¿æ•´ <code>theme</code></h2>
<p><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">æ—¢å­˜ã® <code>theme_*()</code></a>
ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<a href="https://ggplot2.tidyverse.org/reference/theme.html"><code>theme()</code></a>é–¢æ•°ã§å¾®èª¿æ•´ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">p3</span> <span class="o">+</span> <span class="nf">theme_bw</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">18</span><span class="p">)</span> <span class="o">+</span> <span class="nf">theme</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="n">panel.background</span> <span class="o">=</span> <span class="nf">element_rect</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="s">&#34;khaki&#34;</span><span class="p">),</span>      <span class="c1"># ç®±</span>
</span></span><span class="line"><span class="cl">  <span class="n">panel.grid</span>       <span class="o">=</span> <span class="nf">element_line</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="s">&#34;royalblue&#34;</span><span class="p">),</span> <span class="c1"># ç·š</span>
</span></span><span class="line"><span class="cl">  <span class="n">axis.title.x</span>     <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">32</span><span class="p">),</span>           <span class="c1"># æ–‡å­—</span>
</span></span><span class="line"><span class="cl">  <span class="n">axis.text.y</span>      <span class="o">=</span> <span class="nf">element_blank</span><span class="p">()</span>                    <span class="c1"># æ¶ˆã™</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/theme-1.png" alt="plot of chunk theme"></p>

</section>
<section>
<h2 id="åŸºæœ¬çš„ãªä½¿ã„æ–¹-æŒ‡ç¤ºã‚’--ã§é‡ã­ã¦ã„ã">åŸºæœ¬çš„ãªä½¿ã„æ–¹: æŒ‡ç¤ºã‚’ <code>+</code> ã§é‡ã­ã¦ã„ã</h2>
<img src="/slides/image/rstats/ggplot-layers.png" height="930">
</section>
<section>
<h2 id="è«–æ–‡ã®figureã¿ãŸã„ã«ä¸¦ã¹ã‚‹">è«–æ–‡ã®Figureã¿ãŸã„ã«ä¸¦ã¹ã‚‹</h2>
<p>åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
(<a href="https://wilkelab.org/cowplot/">cowplot</a>
ã‚„
<a href="https://patchwork.data-imaginist.com/">patchwork</a>)
ã®åŠ©ã‘ã‚’å€Ÿã‚Šã¦</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">pAB</span> <span class="o">=</span> <span class="n">cowplot</span><span class="o">::</span><span class="nf">plot_grid</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;A&#34;</span><span class="p">,</span> <span class="s">&#34;B&#34;</span><span class="p">),</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">1L</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">cowplot</span><span class="o">::</span><span class="nf">plot_grid</span><span class="p">(</span><span class="n">pAB</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="s">&#34;C&#34;</span><span class="p">),</span> <span class="n">ncol</span> <span class="o">=</span> <span class="m">1L</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="./figure/cowplot-1.png" alt="plot of chunk cowplot"></p>

</section>
<section>
<h2 id="ãƒ•ã‚¡ã‚¤ãƒ«åã‚‚ã‚µã‚¤ã‚ºã‚‚å†ç¾å¯èƒ½ãªä½œå›³">ãƒ•ã‚¡ã‚¤ãƒ«åã‚‚ã‚µã‚¤ã‚ºã‚‚å†ç¾å¯èƒ½ãªä½œå›³</h2>
<p><code>width</code>ã‚„<code>height</code>ãŒå°ã•ã„ã»ã©ã€æ–‡å­—ãƒ»ç‚¹ãƒ»ç·šãŒç›¸å¯¾çš„ã«å¤§ãã</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1"># 7inch x 300dpi = 2100pxå››æ–¹ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggsave</span><span class="p">(</span><span class="s">&#34;dia1.png&#34;</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span> <span class="c1"># width = 7, height = 7, dpi = 300</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4     x 300    = 1200  å…¨ä½“7/4å€ã‚ºãƒ¼ãƒ </span>
</span></span><span class="line"><span class="cl"><span class="nf">ggsave</span><span class="p">(</span><span class="s">&#34;dia2.png&#34;</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span> <span class="c1"># dpi = 300</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 2     x 600    = 1200  å…¨ä½“ã‚’ã•ã‚‰ã«2å€ã‚ºãƒ¼ãƒ </span>
</span></span><span class="line"><span class="cl"><span class="nf">ggsave</span><span class="p">(</span><span class="s">&#34;dia3.png&#34;</span><span class="p">,</span> <span class="n">p3</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="m">600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 4     x 300    = 1200  ãƒ†ãƒ¼ãƒã‚’ä½¿ã£ã¦æ–‡å­—ã ã‘æ‹¡å¤§</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggsave</span><span class="p">(</span><span class="s">&#34;dia4.png&#34;</span><span class="p">,</span> <span class="n">p3</span> <span class="o">+</span> <span class="nf">theme_bw</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">22</span><span class="p">),</span> <span class="n">width</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="m">4</span><span class="p">)</span>
</span></span></code></pre></div><figure>
<img src="../sendair2/image/dia1.png" width="24%">
<img src="../sendair2/image/dia2.png" width="24%">
<img src="../sendair2/image/dia3.png" width="24%">
<img src="../sendair2/image/dia4.png" width="24%">
</figure>
</section>
<section>
<h2 id="æ—¥æœ¬èªãŒè±†è…ã«ãªã‚‰ãªã„ãŸã‚ã®è¨­å®š">æ—¥æœ¬èªãŒâ—»ï¸â—»ï¸â—»ï¸è±†è…ã«ãªã‚‰ãªã„ãŸã‚ã®è¨­å®š</h2>
<p>ç’°å¢ƒè¨­å®š â†’ General â†’ Graphics â†’ Backend: <a href="https://ragg.r-lib.org/"><strong>AGG</strong></a></p>
<figure>
<img src="/slides/image/rstudio/options-graphics-agg.png" width="80%">
</figure>
<p>è‹±æ•°å­—ä»¥å¤–ã‚’ä½¿ã‚ãšã«æ¸ˆã¾ã›ã‚‰ã‚Œã‚Œã°ãã‚Œã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã‘ã©&hellip;</p>

</section>
<section>
<h2 id="ä»–ã«ã©ã‚“ãªç¨®é¡ã®-geom_-ãŒä½¿ãˆã‚‹">ä»–ã«ã©ã‚“ãªç¨®é¡ã® <code>geom_*()</code> ãŒä½¿ãˆã‚‹ï¼Ÿ</h2>
<p>ãªã‚“ã§ã‚‚ã‚ã‚‹ã€‚
<a href="https://ggplot2.tidyverse.org/reference/index.html">å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã«è¡Œã“ã†ã€‚</p>
<figure>
<img src="/slides/image/rstats/ggplot2-reference-geoms.png" width="80%">
</figure>
</section>
<section>
<figure style="margin: 0;">
<a href="https://ggplot2.tidyverse.org/">
<img src="/slides/image/cheatsheet/data-visualization.png" width="100%">
<figcaption class="url">https://ggplot2.tidyverse.org/</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="å¾®èª¿æ•´ã—ã¦ãã¨æœ€çµ‚çš„ã«é•·ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã­">å¾®èª¿æ•´ã—ã¦ãã¨æœ€çµ‚çš„ã«é•·ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã­&hellip;</h2>
<p>ã†ã‚“ã€‚ã§ã‚‚ã™ã¹ã¦ã®ç‚¹ã«ã¤ã„ã¦å¾Œã‹ã‚‰ç¢ºèªã§ãã‚‹ã—ã€ä½¿ã„å›ã›ã‚‹ï¼</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">set.seed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">p</span> <span class="o">=</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">diamonds</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">cut</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">price</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_jitter</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">cut</span><span class="p">),</span> <span class="n">height</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">0.2</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="m">0.1</span><span class="p">,</span> <span class="n">stroke</span> <span class="o">=</span> <span class="m">0</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_boxplot</span><span class="p">(</span><span class="n">fill</span> <span class="o">=</span> <span class="kc">NA</span><span class="p">,</span> <span class="n">outlier.shape</span> <span class="o">=</span> <span class="kc">NA</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_color_viridis_d</span><span class="p">(</span><span class="n">option</span> <span class="o">=</span> <span class="s">&#34;plasma&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="nf">vars</span><span class="p">(</span><span class="n">clarity</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">coord_flip</span><span class="p">(</span><span class="n">xlim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0.5</span><span class="p">,</span> <span class="m">5.5</span><span class="p">),</span> <span class="n">ylim</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">20000</span><span class="p">),</span> <span class="n">expand</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&#34;Diamonds&#34;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&#34;Cut&#34;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&#34;Price (USD)&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme_bw</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">20</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">axis.ticks</span> <span class="o">=</span> <span class="nf">element_blank</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">panel.grid.major.y</span> <span class="o">=</span> <span class="nf">element_blank</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">panel.spacing.x</span> <span class="o">=</span> <span class="n">grid</span><span class="o">::</span><span class="nf">unit</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="s">&#34;lines&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">plot.margin</span> <span class="o">=</span> <span class="n">grid</span><span class="o">::</span><span class="nf">unit</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0.5</span><span class="p">,</span> <span class="m">0.5</span><span class="p">),</span> <span class="s">&#34;lines&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggsave</span><span class="p">(</span><span class="s">&#34;diamonds-cut-price.png&#34;</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">12</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="m">9</span><span class="p">)</span>
</span></span></code></pre></div>
</section>
<section>
<h2 id="ç™ºå±•çš„ãªå†…å®¹">ç™ºå±•çš„ãªå†…å®¹</h2>
<dl>
<dt>ggplot2ã‚’<a href="https://exts.ggplot2.tidyverse.org/">ã•ã‚‰ã«æ‹¡å¼µã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚ç¶šã€…</a></dt>
<dd>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ <a href="https://gganimate.com/">gganimate</a></dd>
<dd>é‡ãªã‚Šã‚’é¿ã‘ã¦ãƒ©ãƒ™ãƒ«ä»˜ã‘ <a href="https://ggrepel.slowkow.com/">ggrepel</a></dd>
<dd>ã‚°ãƒ©ãƒ•/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ <a href="https://ggraph.data-imaginist.com/">ggraph</a></dd>
<dd>ç³»çµ±æ¨¹ <a href="https://github.com/YuLab-SMU/ggtree">ggtree</a></dd>
<dd>åœ°å›³ <a href="https://ggplot2.tidyverse.org/reference/ggsf.html#examples"><code>geom_sf</code></a></dd>
<dd>å­¦è¡“è«–æ–‡å‘ã‘ã®ã„ã‚ã„ã‚ <a href="https://github.com/kassambara/ggpubr">ggpubr</a></dd>
</dl>
<img src="/slides/image/tumopp/driver.gif" align="right" height="200">
<dl>
<dt>ggplot2ã¯3DãŒè‹¦æ‰‹</dt>
<dd>æœ¬å½“ã«3DãŒå¿…è¦? è‰²åˆ†ã‘ã‚„ãƒ•ã‚¡ã‚»ãƒƒãƒˆã§è¶³ã‚Šãªã„?</dd>
<dd>åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã‚„ã‚‹:
<a href="http://rgl.neoscientists.org/gallery.shtml">rgl</a>,
<a href="https://plotly.com/r/3d-charts/">plotly</a>, etc.</dd>
</dl>

</section>
<section>
<h2 id="-1æ—¥ç›®ã®èª²é¡Œ1-æ¨¡å†™">ğŸ”° 1æ—¥ç›®ã®èª²é¡Œ1: æ¨¡å†™</h2>
<p>ä¸‹å›³ã«ãªã‚‹ã¹ãä¼¼ã‚‹ã‚ˆã†ã«ä½œå›³ãƒ»èª¿æ•´ã—ã¦ãã ã•ã„ã€‚<br></p>
<p><img src="./figure/ggplot-homework-1.png" alt="plot of chunk ggplot-homework"></p>
<ul>
<li>ç´°ã‹ã„è¨­å®šã¾ã§è¦‹é€ƒã•ãªã„ã‚ˆã†ã«ã€ç­ã§å”åŠ›ã—ã¾ã—ã‚‡ã†ã€‚</li>
</ul>

</section>
<section>
<h2 id="-1æ—¥ç›®ã®èª²é¡Œ2-æœªç™»å ´ã®é–¢æ•°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç´¹ä»‹">ğŸ”° 1æ—¥ç›®ã®èª²é¡Œ2: æœªç™»å ´ã®é–¢æ•°ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç´¹ä»‹</h2>
<ol>
<li>ggplot2ã«é–¢ã—ã¦æœ¬è¬›ç¾©ã§èª¬æ˜ã•ã‚Œãªã‹ã£ãŸé–¢æ•°ã‚„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¢ã™ã€‚<br>
<a href="https://ggplot2.tidyverse.org/">å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚„è§£èª¬ãƒ–ãƒ­ã‚°ãªã©ã‚’å‚è€ƒã«ã€‚</li>
<li>ãã‚Œã‚’ä½¿ã£ã¦ã€ä½œå›³ã—ã¦ã¿ã‚‹ã€‚</li>
<li>ã€Œã“ã®è¬›ç¾©ã‚’å—ã‘ã¦ggplot2ã®åŸºç¤ã¯ã‚ã‹ã£ãŸã€ãã‚‰ã„ã®å‹é”ã«ç´¹ä»‹ã™ã‚‹ã¤ã‚‚ã‚Šã§ã€
<strong>ä½¿ã„æ–¹ã®èª¬æ˜ã‚’ãƒ¬ãƒãƒ¼ãƒˆã«æ›¸ã</strong>ã€‚
ã©ã†ã„ã†ã¨ãã«ä½¿ãˆãã†ã‹ã€ãŒèª¬æ˜ã§ãã‚‹ã¨ãªãŠè‰¯ã„ã€‚</li>
</ol>
<hr>
<p>èª¬æ˜æ–‡ã€Rã‚³ãƒ¼ãƒ‰ã€å®Ÿè¡Œçµæœã€å›³ã€‚<br>
ãã‚Œã‚‰ã‚’ã²ã¨ã¾ã¨ã‚ã«æ‰±ãˆã‚‹ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ãŒã‚ã‚‹ã‚‰ã—ã„&hellip;</p>
</section>
<section>
<h2 id="ãŠã—ãªãŒã-rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã¨ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ">ãŠã—ãªãŒã: Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã¨ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</h2>
<a href="https://ggplot2.tidyverse.org/">
<img src="/_img/hex-stickers/ggplot2.webp" width="180" align="right">
</a>
<h3 id="-ãƒ‡ãƒ¼ã‚¿è§£æå…¨ä½“ã®æµã‚Œå¯è¦–åŒ–ã ã„ã˜">âœ… ãƒ‡ãƒ¼ã‚¿è§£æå…¨ä½“ã®æµã‚Œã€‚å¯è¦–åŒ–ã ã„ã˜</h3>
<h3 id="ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹ggplot2">âœ…ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹ggplot2</h3>
<ul>
<li>aesthetic mapping ãŒéµ</li>
<li>è‰²è¦šå¤šæ§˜æ€§ã‚’æ„è­˜</li>
<li>ç”»åƒå‡ºåŠ›ã¾ã§ãã£ã¡ã‚Šãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°</li>
</ul>
<h3 id="-rã®ã‚³ãƒ¼ãƒ‰ã¨å®Ÿè¡Œçµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã«åŸ‹ã‚è¾¼ã‚€quarto">â¬œ Rã®ã‚³ãƒ¼ãƒ‰ã¨å®Ÿè¡Œçµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã«åŸ‹ã‚è¾¼ã‚€Quarto</h3>

</section>
<section>
<h2 id="rã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œçµæœã‚’ã¨ã£ã¦ãŠããŸã„">Rã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œçµæœã‚’ã¨ã£ã¦ãŠããŸã„</h2>
<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆ.Rã•ãˆä¿å­˜ã—ã¦ãŠã‘ã°ã„ã¤ã§ã‚‚å®Ÿè¡Œã§ãã‚‹ã‘ã©&hellip; <strong>é¢å€’</strong></p>
<p><code>ggsave()</code> ã§ç”»åƒã‚’æ›¸ãå‡ºã—ã¦ãŠã‘ã‚‹ã‘ã©&hellip; <strong>ã©ã®ã‚³ãƒ¼ãƒ‰ã®çµæœã‹åˆ†ã‹ã‚‰ãªã„</strong></p>
<p>â†’ <strong>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨å®Ÿè¡Œçµæœã‚’ä¸€ç·’ã«è¦‹æ¸¡ã›ã‚‹å½¢å¼</strong>ãŒæ¬²ã—ã„ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="m">3</span> <span class="o">*</span> <span class="m">14</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">mpg</span><span class="p">)</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">displ</span><span class="p">,</span> <span class="n">hwy</span><span class="p">)</span> <span class="o">+</span> <span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">drv</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code>[1] 42
</code></pre><p><img src="./figure/hello-1.png" alt="plot of chunk hello"></p>

</section>
<section>
<h2 id="quarto-document-ã¨ã—ã¦ç ”ç©¶ãƒãƒ¼ãƒˆã‚’ä½œã‚‹">Quarto Document ã¨ã—ã¦ç ”ç©¶ãƒãƒ¼ãƒˆã‚’ä½œã‚‹</h2>
<a href="https://quarto.org/">
<img src="/_img/hex-stickers/quarto.webp" width="160" align="right">
</a>
<p>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‹ã‚‰ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã¾ã§ä¸€å…ƒç®¡ç†ã§ãã¦æ¥½ã¡ã‚“ã€‚</p>
<ul>
<li>æœ¬æ–‡ã¨Rã‚³ãƒ¼ãƒ‰ã‚’å«ã‚€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«.qmdã‚’ä½œã‚‹ã€‚</li>
<li>HTML, PDFãªã©ãƒªãƒƒãƒãªå½¢å¼ã«å¤‰æ›ã—ã¦èª­ã‚€ã€‚
<ul>
<li>ã‚³ãƒ¼ãƒ‰ã ã‘ã§ãªãå®Ÿè¡Œçµæœã®<strong>å›³</strong>ã‚„<strong>è¡¨</strong>ã‚‚åŸ‹ã‚è¾¼ã‚ã‚‹ã€‚</li>
</ul>
</li>
</ul>
<hr>
<a href="https://rmarkdown.rstudio.com/">
<img src="/_img/hex-stickers/rmarkdown.webp" width="160" align="right">
</a>
<dl>
<dt>Quarto Markdown (<code>.qmd</code>)</dt>
<dd><strong>Markdown</strong>äºœç¨®ã€‚Rã‚„Pythonã®ã‚³ãƒ¼ãƒ‰ã¨å›³è¡¨ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹ã€‚</dd>
<dd>Quartoç™»å ´å‰ã«ã»ã¼Rå°‚ç”¨ã ã£ãŸ <code>.Rmd</code> ã¨ä½¿ã„å‹æ‰‹ã¯åŒã˜ã€‚</dd>
<dt>Markdown (<code>.md</code>)</dt>
<dd>æœ€ã‚‚ã‚ˆãæ™®åŠã—ã¦ã„ã‚‹<strong>è»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª</strong>ã®ã²ã¨ã¤ã€‚</dd>
<dd>å¾®å¦™ã«ç•°ãªã‚‹æ–¹è¨€ãŒã‚ã‚‹ã€‚qmdã§ä½¿ã†ã®ã¯ Pandoc Markdown ã€‚</dd>
</dl>
<p>(ã©ã‚“ãªã‚‚ã®ãŒä½œã‚Œã‚‹ã®ã‹
<a href="https://quarto.org/docs/gallery/">ä½œæˆä¾‹ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a>
ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€‚)</p>

</section>
<section>
<h2 id="ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª">ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª</h2>
<p>æ–‡æ›¸ã®æ§‹é€ ã‚„è¦–è¦šçš„ä¿®é£¾ã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã®è¨€èªã€‚<br>
e.g., <strong>HTML</strong>+CSS, XML, LaTeX</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>è¦‹å‡ºã—3<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>ã“ã“ã¯æ®µè½ã€‚
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span>å¼·èª¿(italic)<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>ã€
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>å¼·ã„å¼·èª¿(bold)<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>ã€
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://www.lifesci.tohoku.ac.jp/&#34;</span><span class="p">&gt;</span>ãƒªãƒ³ã‚¯<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>ã¨ã‹ã€‚
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span></code></pre></div><div style="border: solid 1px #888888; padding: 0 4px;">
<h3>è¦‹å‡ºã—3</h3>
<p>ã“ã“ã¯æ®µè½ã€‚
<em>å¼·èª¿(italic)</em>ã€
<strong>å¼·ã„å¼·èª¿(bold)</strong>ã€
<a href="https://www.lifesci.tohoku.ac.jp/">ãƒªãƒ³ã‚¯</a>ã¨ã‹ã€‚
</p>
</div>
<p>è¡¨ç¾åŠ›è±Šã‹ã§å¼·åŠ›ã ãŒäººé–“ãŒèª­ã¿æ›¸ãã™ã‚‹ã«ã¯è¤‡é›‘ã™ãã€æ©Ÿæ¢°å¯„ã‚Šã€‚</p>
<p>(å¥½ããªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®HTMLã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€‚)</p>

</section>
<section>
<h2 id="è»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª">è»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª</h2>
<p><strong>ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª</strong>ã®ä¸­ã§ã‚‚äººé–“ãŒèª­ã¿æ›¸ãã—ã‚„ã™ã„ã‚‚ã®ã€‚<br>
e.g., <strong>Markdown</strong>, reStructuredText, å„ç¨®Wikiè¨˜æ³•ãªã©</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-md" data-lang="md"><span class="line"><span class="cl"><span class="gu">### è¦‹å‡ºã—3
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl">ã“ã“ã¯æ®µè½ã€‚
</span></span><span class="line"><span class="cl"><span class="ge">*å¼·èª¿(italic)*</span>ã€
</span></span><span class="line"><span class="cl"><span class="gs">**å¼·ã„å¼·èª¿(bold)**</span>ã€
</span></span><span class="line"><span class="cl">[<span class="nt">ãƒªãƒ³ã‚¯</span>](<span class="na">https://www.lifesci.tohoku.ac.jp/</span>)ã¨ã‹ã€‚
</span></span></code></pre></div><div style="border: solid 1px #888888; padding: 0 4px;">
<h3>è¦‹å‡ºã—3</h3>
<p>ã“ã“ã¯æ®µè½ã€‚
<em>å¼·èª¿(italic)</em>ã€
<strong>å¼·ã„å¼·èª¿(bold)</strong>ã€
<a href="https://www.lifesci.tohoku.ac.jp/">ãƒªãƒ³ã‚¯</a>ã¨ã‹ã€‚
</p>
</div>

</section>
<section>
<h2 id="quartoã™ã‚‹ç’°å¢ƒã¯æ—¢ã«æ•´ã£ã¦ã„ã‚‹ã¯ãš">Quartoã™ã‚‹ç’°å¢ƒã¯æ—¢ã«æ•´ã£ã¦ã„ã‚‹ã¯ãš</h2>
<ul>
<li><strong>R (â‰¥ 4.2.3)</strong>: æœ€æ–°ç‰ˆ â€“ 0.1 ãã‚‰ã„ã¾ã§ãŒè¨±å®¹ç¯„å›²</li>
<li><strong>RStudio (â‰¥ 2023.03.0+386)</strong>: Quarto CLI ã‚’åŒæ¢±</li>
<li><strong>tidyverse (â‰¥ 2.0.0)</strong>: æ¬¡ã®2ã¤ã‚’è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
<ul>
<li>rmarkdown (â‰¥ 2.21)</li>
<li>knitr (â‰¥ 1.42)</li>
</ul>
</li>
</ul>
<p>(ç¤ºã—ã¦ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æœ€ä½è¦ä»¶ã§ã¯ãªãç§ã®ç¾åœ¨ã®ç’°å¢ƒã®)</p>
<hr>
<ul>
<li><a href="https://quarto.org/docs/get-started/">Quarto CLI</a>:
æœ€æ–°ç‰ˆã‚’æ±‚ã‚ã‚‹ãªã‚‰æ‰‹å‹•ã§å…¥ã‚Œã‚‹ã€‚</li>
<li><a href="https://github.com/quarto-dev/quarto-r"><code>install.packages(&quot;quarto&quot;)</code></a>:
å¤šãã®äººã«ã¯ä¸è¦ã€‚
Quarto CLIã‚’Rã‚³ãƒãƒ³ãƒ‰ã§å‘¼ã¹ã‚‹ã‚ˆã†ã«ã™ã‚‹ã ã‘ã€‚</li>
<li><a href="https://pandoc.org/">pandoc</a>: Quarto CLI ã«åŒæ¢±ã€‚
æ‰‹å‹•ã§æœ€æ–°ç‰ˆã‚’å…¥ã‚Œã¦ã‚‚RStudio+QuartoãŒãã‚Œã‚’ä½¿ã†ã‹ã¯ä¸æ˜ã€‚</li>
</ul>
</section>
<section>
<h2 id="markdownè¨˜æ³•ã§æ›¸ã„ã¦ã¿ã‚ˆã†">Markdownè¨˜æ³•ã§æ›¸ã„ã¦ã¿ã‚ˆã†</h2>
<ol>
<li>RStudio &gt; New File &gt; Markdown File
<img src="/slides/image/rstudio/new-markdown.png" width="60%"></li>
<li><a href="https://duckduckgo.com/?q=markdown+syntax">&ldquo;markdown è¨˜æ³•&quot;ã§æ¤œç´¢</a>ã—ã¦ä½•ã‹æ›¸ãã€‚
æœ€ä½é™ã€æ¬¡ã®æ¦‚å¿µã‚’å«ã‚€ã‚ˆã†ã«:
<ul>
<li>è¦‹å‡ºã—1, 2, 3</li>
<li>ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã€ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰</li>
<li>ç®‡æ¡æ›¸ã (ç•ªå·ã‚ã‚Šãƒ»ãªã—)</li>
</ul>
</li>
<li><kbd>Preview</kbd>ãƒœã‚¿ãƒ³ã§ç¢ºèª</li>
</ol>

</section>
<section>
<h2 id="quarto-document-ã‚’ä½œã£ã¦ã¿ã‚ˆã†">Quarto Document ã‚’ä½œã£ã¦ã¿ã‚ˆã†</h2>
<p>RStudio &gt; New File &gt; Quarto Document&hellip;<br>
(Documentã¨HTMLã‚’é¸æŠã—ã€)ã‚¿ã‚¤ãƒˆãƒ«ã¨è‘—è€…ã‚’åŸ‹ã‚ã¦ã€OKã€‚</p>
<img src="/slides/image/rstudio/new-quarto-document.png" width="100%">
</section>
<section>
<h2 id="æ™®é€šã®mdã«ã¯ç„¡ã„qmdã®ç‰¹å¾´">æ™®é€šã®mdã«ã¯ç„¡ã„qmdã®ç‰¹å¾´</h2>
<dl>
<dt>ãƒ˜ãƒƒãƒ€ãƒ¼ (ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼)</dt>
<dd>æœ€ä¸Šéƒ¨ã® <code>---</code> ã§æŒŸã¾ã‚ŒãŸéƒ¨åˆ†ã€‚
æ–‡æ›¸å…¨ä½“ã«é–¢ã‚ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã€‚</dd>
<dd>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯å‡ºåŠ›å½¢å¼ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã€‚
e.g., <a href="https://quarto.org/docs/output-formats/html-basics.html"><code>html</code></a></dd>
<dt>R code chunk</dt>
<dd><code>```{r}</code> ã®ã‚ˆã†ã«å§‹ã¾ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã€‚</dd>
<dd>ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œçµæœã‚’æœ€çµ‚ç”£ç‰©ã«åŸ‹ã‚è¾¼ã‚ã‚‹ã€‚</dd>
<dd><a href="https://quarto.org/docs/computations/execution-options.html">ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã„ã‚ã„ã‚ã‚ã‚‹</a>ã€‚e.g.,
<ul>
<li><code>echo: false</code>: ã‚³ãƒ¼ãƒ‰ã‚’éè¡¨ç¤ºã€‚çµæœã¯è¡¨ç¤ºã€‚</li>
<li><code>eval: false</code>: ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã›ãšè¡¨ç¤ºã ã‘ã€‚</li>
<li><code>include: false</code>: ã‚³ãƒ¼ãƒ‰ã‚‚çµæœã‚‚è¡¨ç¤ºã›ãšã€å®Ÿè¡Œã ã‘ã™ã‚‹ã€‚</li>
<li><code>fig.width: 7</code>, <code>fig.height: 7</code>: å›³ã®å¤§ãã•ã‚’åˆ¶å¾¡ã€‚</li>
</ul>
</dd>
</dl>
<p>ã¾ã‚ç´°ã‹ã„ã“ã¨ã¯å¿…è¦ã«ãªã£ã¦ã‹ã‚‰èª¿ã¹ã‚‹ã¨ã—ã¦&hellip;</p>
</section>
<section>
<h2 id="qmdã‚’htmlã«å¤‰æ›ã—ã¦ã¿ã‚ˆã†">qmdã‚’HTMLã«å¤‰æ›ã—ã¦ã¿ã‚ˆã†</h2>
<p>å·¦ã®qmdã‚’ &ldquo;â†’Render&rdquo; ã™ã‚‹ã¨å³ã®ãŒã§ãã‚‹ã€‚æ‰‹é †ã¯æ¬¡ã‚¹ãƒ©ã‚¤ãƒ‰ã€‚</p>
<div>
<img src="/slides/image/rstudio/quarto-viewer.png" width="100%">
</div>
</section>
<section>
<h2 id="qmdã‚’htmlã«å¤‰æ›ã—ã¦ã¿ã‚ˆã†">qmdã‚’HTMLã«å¤‰æ›ã—ã¦ã¿ã‚ˆã†</h2>
<ol>
<li>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«åå‰ã‚’ã¤ã‘ã¦ä¿å­˜ <kbd>command</kbd><kbd>s</kbd><br>
e.g., <code>report.qmd</code></li>
<li>âš™ï¸ ãƒœã‚¿ãƒ³ã‹ã‚‰ &ldquo;Preview in Viewer Pane&rdquo; ã‚’é¸æŠã€‚</li>
<li>&ldquo;â†’Render&rdquo; ã‚’æŠ¼ã™ã€‚
<ul>
<li>åŸ‹ã‚è¾¼ã¾ã‚ŒãŸRã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚</li>
<li>å®Ÿè¡Œçµæœã‚’å«ã‚€MarkdownãŒä½œã‚‰ã‚Œã‚‹ã€‚</li>
<li>Markdownã‹ã‚‰HTMLã«å¤‰æ›ã•ã‚Œã‚‹ã€‚ e.g., <code>report.html</code></li>
<li>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè‡ªå‹•çš„ã«é–‹ãã€‚</li>
</ul>
</li>
<li>ç·¨é›† â†’ ä¿å­˜ â†’ Render ã‚’ç¹°ã‚Šè¿”ã—ã¦ä½œã‚Šè¾¼ã‚€ã€‚</li>
</ol>

</section>
<section>
<h2 id="ãƒ¬ãƒãƒ¼ãƒˆã®ä½“è£ã®ä¾‹">ãƒ¬ãƒãƒ¼ãƒˆã®ä½“è£ã®ä¾‹</h2>
<p>å·¦ã®ã‚ˆã†ãªqmdã‚’ä½œã£ã¦Renderã—ã€å³ã®ã‚ˆã†ãªHTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’æå‡ºã€‚</p>
<div>
<img src="../tohoku2023r/image/report-example.webp" width="90%"></img>
</div>
</section>
<section>
<h2 id="-ãƒ¬ãƒãƒ¼ãƒˆ-ç· åˆ‡-2023-05-18">ğŸ”° ãƒ¬ãƒãƒ¼ãƒˆ (ç· åˆ‡: 2023-05-18)</h2>
<ul>
<li>é…’äº•å…ˆç”Ÿã®ãƒ¬ãƒãƒ¼ãƒˆè¬›åº§5/8ã‚’å—ã‘ã¦ã‹ã‚‰æå‡ºã€‚</li>
<li>èª²é¡Œ: è¬›ç¾©è³‡æ–™ã®ğŸ”°è‹¥è‘‰ãƒãƒ¼ã‚¯ã™ã¹ã¦ã€‚</li>
<li>æ§˜å¼: Quarto Markdownã§æ›¸ãã€Renderæ¸ˆã¿HTMLã‚’æå‡ºã€‚
<ul>
<li>1æ—¥åˆ†ã§1ãƒ•ã‚¡ã‚¤ãƒ«ã€ãã‚Œãã‚ŒClassroomãƒˆãƒ”ãƒƒã‚¯ã«æå‡ºã€‚è¨ˆ4ã¤ã€‚</li>
<li><code>{ID}-{name}-day{d}.html</code>, e.g., <code>C0SB0000-iwasaki-day2.html</code></li>
<li><code>embed-resources: true</code> ã§ç”»åƒãªã©ã‚’åŸ‹ã‚è¾¼ã‚“ã ç‹¬ç«‹HTMLã€‚</li>
</ul>
</li>
<li>è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ
<ul>
<li>ã‚¨ãƒ©ãƒ¼ã‚‚è­¦å‘Šã‚‚ç„¡ãã‚³ãƒ¼ãƒ‰ãŒèµ°ã‚‹ã€‚</li>
<li>æ–‡æ›¸ã®æ§‹é€ ã‚„å›³ãŒè¦–è¦šçš„ã«è¦‹ã‚„ã™ãæ•´ç†ã•ã‚Œã¦ã„ã‚‹ã€‚</li>
<li>åŠå¹´å¾Œã®è‡ªåˆ†ãŒèª­ã‚“ã§ã‚ã‹ã‚‹ã‚ˆã†ãª <code># è¦ªåˆ‡ã‚³ãƒ¡ãƒ³ãƒˆ</code>ã€‚</li>
</ul>
</li>
<li>æ‰‹æŠœããƒã‚¤ãƒ³ãƒˆ
<ul>
<li>ç”Ÿç‰©å­¦çš„ãªæ„ç¾©ãŒã‚ã‚‹ã‹ã€ã¿ãŸã„ãªã®ã¯ã»ã¼ä¸å•ã€‚</li>
</ul>
</li>
</ul>

</section>
<section>
<h2 id="ä»Šæ—¥ã®æ®‹ã‚Šæ™‚é–“">ä»Šæ—¥ã®æ®‹ã‚Šæ™‚é–“</h2>
<ul>
<li>ç­ã‚„TAã«ç›¸è«‡ã—ã€æ¶ˆåŒ–ã—ãã‚Œãªã‹ã£ãŸéƒ¨åˆ†ã‚’ãªã‚‹ã¹ãè§£æ¶ˆã™ã‚‹ã€‚</li>
<li>èª²é¡Œ1 æ¨¡å†™ã‚’ <code>ggsave()</code> ã¾ã§ãã£ã¡ã‚Šã‚„ã‚‹ã€‚</li>
<li>TAãŒç­ã®ä»£è¡¨ç”»åƒã‚’è©•ä¾¡ã—ã€åˆæ ¼ã—ãŸç­ã‹ã‚‰è§£æ•£ã€‚</li>
<li>æ®‹ã£ã¦ã»ã‹ã®èª²é¡Œã«å–ã‚Šçµ„ã‚“ã§ã‚‚OKã€‚</li>
</ul>

</section>
<section>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<dl>
<dt>R for Data Science &mdash; Hadley Wickham and Garrett Grolemund</dt>
<dd><a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a></dd>
<dd><a href="https://amzn.to/2tbRmVc">Book</a></dd>
<dd><a href="https://amzn.to/2yyFRKt">æ—¥æœ¬èªç‰ˆæ›¸ç±(Rã§ã¯ã˜ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹)</a></dd>
<dt>Older versions</dt>
<dd>ã€Œ<a href="https://heavywatal.github.io/slides/nagoya2018/">Rã«ã‚„ã‚‰ã›ã¦æ¥½ã—ã‚ˆã† â€” ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã¨ä¸‹ã”ã—ã‚‰ãˆ</a>ã€
å²©åµœèˆª 2018</dd>
<dd>ã€ŒRã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨ã€çŸ³å·ç”±å¸Œ 2019 åå¤å±‹å¤§å­¦</dd>
<dd>ã€Œ<a href="https://heavywatal.github.io/slides/tmd2022/">Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’</a>ã€
å²©åµœèˆª 2022 æ±äº¬åŒ»ç§‘æ­¯ç§‘å¤§</dd>
<dd>ã€Œ<a href="https://comicalcommet.github.io/r-training-2022/">Rã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨</a>ã€
çŸ³å·ç”±å¸Œ 2022 åå¤å±‹å¤§å­¦</dd>
<dt>ggplot2å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</dt>
<dd><a href="https://ggplot2.tidyverse.org/">https://ggplot2.tidyverse.org/</a></dd>
</dl>
<a href="3-structure1.html" class="readmore">
3. ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†1: æŠ½å‡ºã€é›†ç´„ãªã©ã€‚
</a>

</section>
</div>
</div>
</body>
</html>
