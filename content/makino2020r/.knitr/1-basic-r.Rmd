+++
url = "makino2020r/1-basic-r.html"
title = "R basics â€” Hands-on R Lecture for Makino Lab"
linktitle = "R basics"
date = 2020-05-27T13:15:00+09:00
type = "reveal"
draft = false
+++

# [Hands-on Introduction to R 2020](.)


<div class="author">
å²©åµœ èˆª (Watal M. Iwasaki)
</div>

<div class="affiliation">
æ±åŒ—å¤§å­¦ ç”Ÿå‘½ç§‘å­¦ç ”ç©¶ç§‘ é€²åŒ–ã‚²ãƒãƒŸã‚¯ã‚¹åˆ†é‡
</div>

<ol start="0">
<li><a href="0-why-r.html">Why do we use R?</a>
<li class="current-deck"><a href="1-basic-r.html">R basics</a>
<li><a href="2-ggplot.html">Visualization with R</a>
<li><a href="3-tidy-data.html">Tidying and transforming data with R</a>
<li><a href="4-statistics.html">Statistical analysis with R</a>
</ol>

<div class="footnote">
è³‡æ–™ä½œæˆå”åŠ›: çŸ³å·ç”±å¸Œ (åå¤å±‹å¤§å­¦ ç†å­¦ç ”ç©¶ç§‘ è„³å›è·¯æ§‹é€ å­¦ è¬›å¸«)<br>
2020-05-27
</div>

```{r setup-global, include=FALSE, code=readLines("setup.R")}
```

```{r setup-local, include=FALSE}
iris = tibble::as_tibble(iris)
```

---
## R basics: Index

ğŸ–¥ Setup R environment

ğŸ‘½ Conversation with R

ğŸ“ Create a "project" and "script"

â• Basic operations and types

ğŸ“¦ Package

â“ Errors and questions


---
## ç’°å¢ƒä¾å­˜ã®ä¸å…·åˆ ğŸ¤®

- <strong>"<img height=22 width=22 src="https://cdn.simpleicons.org/windows"> Windows + ğŸ‡¯ğŸ‡µæ—¥æœ¬èªãƒ¦ãƒ¼ã‚¶ãƒ¼å"
  ã ã¨ä¸å…·åˆãŒç”Ÿã˜ãŒã¡ã€‚</strong><br>
  è‹±èªåãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œã‚ŠãªãŠã—ã¦å¼•ã£è¶Šã—ãŸã»ã†ãŒã„ã„ã€‚

- OSå…¨ä½“ã®è¨€èªè¨­å®šã‚‚è‹±èªã«ã™ã‚‹ã®ãŒã‚ªã‚¹ã‚¹ãƒ¡ã€‚

- <span style="color: #999999;">
  ã§ãã‚Œã° <img height=22 width=22 src="https://cdn.simpleicons.org/apple"> Macã‚’ä½¿ã†ã®ãŒç„¡é›£ã€‚<br>
  <img height=22 width=22 src="https://cdn.simpleicons.org/linux/333333"> LinuxãŒä½¿ãˆã‚‹ãªã‚‰ãªãŠè‰¯ã„ã€‚
  </span>


---
## Keyboard shortcuts

Action | <img height=22 width=22 src="https://cdn.simpleicons.org/apple"> Mac | <img height=22 width=22 src="https://cdn.simpleicons.org/windows"> Windows
------ | ------- | ----
Switch apps | <kbd>command</kbd><kbd>tab</kbd> | <kbd>alt</kbd><kbd>tab</kbd>
Quit apps | <kbd>command</kbd><kbd>q</kbd>     | <kbd>alt</kbd><kbd>F4</kbd>
Spotlight | <kbd>command</kbd><kbd>space</kbd>
Cut, Copy, Paste | <kbd>command</kbd><kbd>x</kbd>, -<kbd>c</kbd>, -<kbd>v</kbd> | <kbd>ctrl</kbd><kbd>x</kbd>, -<kbd>c</kbd>, -<kbd>v</kbd>
Select all | <kbd>command</kbd><kbd>a</kbd>    | <kbd>ctrl</kbd><kbd>a</kbd>
Undo | <kbd>command</kbd><kbd>z</kbd>    | <kbd>ctrl</kbd><kbd>z</kbd>
Find | <kbd>command</kbd><kbd>f</kbd>    | <kbd>ctrl</kbd><kbd>f</kbd>
Save | <kbd>command</kbd><kbd>s</kbd>    | <kbd>ctrl</kbd><kbd>s</kbd>

See https://support.apple.com/HT201236

---
## Setup Mac environment

- Set OS language to **English** (System Preferences â†’ Language & Region)
- Install **Command Line Tools** via **Terminal.app**:

    ```sh
    xcode-select --install
    ```

    Full Xcode is not necessary, but you can have it if you like.

- Install [Homebrew](/mac/homebrew.html) (software manager):

    ```sh
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
    ```

- Try installing some softwares:

    ```sh
    brew install wget
    wget https://cran.r-project.org/Rlogo.svg
    ls
    ```

---
## Setup R environment

```sh
brew cask install r rstudio
```

[R](https://cran.r-project.org/)
: Core software to interpret and execute commands.
: Standard packages and functions are included.

[RStudio Desktop](https://www.rstudio.com/)
: Integrated environment to help users interact with R.
: Not necessary, but many people like it.

<img src="/slides/image/rstudio/rstudio-300x260.png">


---
## Launch RStudio and play with Console

**Workspace (Environment)** = a set of temporary objects

<img src="/slides/image/rstudio/console.png" class="screenshot" width="100%">

```{r rstudio-demo, include=FALSE, eval=FALSE}
1 + 2
x = 2980
y = 1.08 * x
y
z = "I love beer!"
?sum
hist(iris$Petal.Length)
```


---
## Configure RStudio NOT to save/load workspace

<img height=22 width=22 src="https://cdn.simpleicons.org/apple"> RStudio â†’ Preferences &nbsp; <kbd>command</kbd><kbd>,</kbd><br>
<img height=22 width=22 src="https://cdn.simpleicons.org/windows"> Tools â†’ Global options

**Uncheck** "Restore ...", Choose **Never** for "Save workspace ...".

<figure style="margin: 0;">
<a href="https://r4ds.had.co.nz/workflow-projects.html">
<img src="/slides/image/rstudio/preferences-workspace.png" width="75%"
     style="object-fit: cover; object-position: top; height: 450px;">
<figcaption class="url">https://r4ds.had.co.nz/workflow-projects.html</figcaption>
</a>
</figure>


---
## Create "Project"

File â†’ New Project... â†’ New Directory â†’ New Project â†’<br>
â†’ Directory name: `r-training-2020`<br>
â†’ as subdirectory of: `~/project`

<img src="/slides/image/rstudio/create-new-project.png" class="screenshot" width="90%">

---
## Write R script, and send it to Console

File â†’ New File â†’ R script

<img src="/slides/image/rstudio/newfile.png" width="100%">

---
## Write R script, and send it to Console

File â†’ New File â†’ R script

<img src="/slides/image/rstudio/script-console.png" width="100%">

---
## Write R script, and send it to Console

Select text with <kbd>shift</kbd><kbd>â†</kbd><kbd>â†“</kbd><kbd>â†‘</kbd><kbd>â†’</kbd><br>
Execute them with <kbd>ctrl</kbd><kbd>return</kbd>

<img src="/slides/image/rstudio/101.png" width="100%">

---
## Save R script in the project: <kbd>command</kbd><kbd>s</kbd>

Separate data, scripts, and results, e.g.,

```
r-training-2020/           # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€ä¸Šéš
â”œâ”€â”€ data/                  # å…ƒãƒ‡ãƒ¼ã‚¿ã‚’ç½®ãã¨ã“ã‚
â”‚Â Â  â”œâ”€â”€ iris.tsv
â”‚Â Â  â””â”€â”€ diamonds.xlsx
â”œâ”€â”€ r-training-2020.Rproj  # ã“ã‚Œãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§RStudioã‚’èµ·å‹•
â”œâ”€â”€ hello.R
â”œâ”€â”€ output/                # çµæœã®å‡ºåŠ›å…ˆ
â”‚Â Â  â”œâ”€â”€ iris-petal.png
â”‚Â Â  â””â”€â”€ iris-summary.tsv
â”œâ”€â”€ transform.R            # ãƒ‡ãƒ¼ã‚¿æ•´ç†ãƒ»å¤‰å½¢ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ visualize.R            # ä½œå›³ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæœ€ä¸Šéšã‚’ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã€<br>
ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ãã®åŸºæº–ã«ã™ã‚‹ã€‚(å¾Œã§è©³ã—ã)

ã»ã‚“ã®ä¸€ä¾‹ã§ã™ã€‚å¥½ããªæ§‹é€ ã«æ±ºã‚ã¦ãã ã•ã„ã€‚

---
## Rã¨æ¥ã™ã‚‹ä¸Šã§ã®å¿ƒæ§‹ãˆ

ã‚¨ãƒ©ãƒ¼æ–‡ã‚’æã‚Œãªã„
: ç†Ÿç·´ãƒ—ãƒ­ã‚°ãƒ©ãƒã§ã‚‚é »ç¹ã«ã‚¨ãƒ©ãƒ¼ã‚’èµ·ã“ã™ã€‚
: ã‚¨ãƒ©ãƒ¼ã¯Rã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚æ„å›³ã‚’èª­ã¿å–ã£ã¦ä¿®æ­£ã—ã‚ˆã†ã€‚

å›°ã£ãŸã‚‰ã‚¦ã‚§ãƒ–æ¤œç´¢
: ã‚ãªãŸã®å•é¡Œã¯å…¨ä¸–ç•Œã®Rãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢ã«é€šã£ãŸé“ã€‚
: æ—¥æœ¬èªã§ã€è‹±èªã§ã€ã‚¨ãƒ©ãƒ¼æ–‡ãã®ã‚‚ã®ã§æ¤œç´¢ã™ã‚Œã°è§£æ±ºç­–ã«å½“ãŸã‚‹ã€‚

<figure style="float: right; margin: 0;">
<img src="/slides/image/rstats/error.png" height="300">
</figure>

(ã‚³ãƒ¼ãƒ‰ã®)ã‚³ãƒ”ãƒšæ¨å¥¨
: æ‰“ã¡é–“é•ã„ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã‚’é˜²ã’ã‚‹ã—ã€æ—©ã„ã€‚
: ãƒãƒƒãƒˆä¸Šã§è¦‹ã¤ã‘ãŸã‚³ãƒ¼ãƒ‰ã‚‚ã¾ãšã¯ã‚³ãƒ”ãƒšã—ã¦ã‹ã‚‰è‡ªåˆ†ç”¨ã«æ”¹å¤‰ã€‚
: (ãŸã ã—ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«ã¯æ³¨æ„...)

---
## Create objects/variables (å¤‰æ•°)

```{r objects}
x = 42       # Create x
x            # What's in x?
y = "24601"  # Create y
y            # What's in y?
```

Rã§ã¯ä»£å…¥æ¼”ç®—å­ã¨ã—ã¦çŸ¢å° `<-` ã‚‚ä½¿ãˆã‚‹ã‘ã©ç§ã¯ `=` æ¨å¥¨ã€‚

ã“ã® `x` ã¨ `y` ã‚’è¶³ãã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚ãªãœï¼Ÿ

```{r error}
x + y        # Error! Why?
```

---
## Object types (å‹)

```{r isas}
class(x)
is.numeric(x)
is.character(x)
as.character(x)
```

Try applying the same functions to `y`.

---
## Object types (å‹)

- `vector`: åŸºæœ¬å‹ã€‚ä¸€æ¬¡å…ƒã®é…åˆ—ã€‚
    - `logical`: è«–ç†å€¤ (`TRUE` or `FALSE`)
    - `numeric`: æ•°å€¤ (æ•´æ•° `42L` or å®Ÿæ•° `3.1416`)
    - `character`: æ–‡å­—åˆ— (`"a string"`)
    - `factor`: å› å­ (æ–‡å­—åˆ—ã£ã½ã„ã‘ã©å¾®å¦™ã«é•ã†)
- `array`: å¤šæ¬¡å…ƒé…åˆ—ã€‚`vector`åŒæ§˜ã€å…¨è¦ç´ ãŒåŒã˜å‹ã€‚
    - `matrix`: è¡Œåˆ— = äºŒæ¬¡å…ƒã®é…åˆ—ã€‚
- `list`: ç•°ãªã‚‹å‹ã§ã‚‚è©°ã‚è¾¼ã‚ã‚‹å¤ªã£è…¹ãƒ™ã‚¯ãƒˆãƒ«ã€‚
- **`data.frame`: åŒã˜é•·ã•ã®ãƒ™ã‚¯ãƒˆãƒ«ã‚’ä¸¦ã¹ãŸé•·æ–¹å½¢ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚é‡è¦ã€‚** <br>
  **`tibble`** ã¨ã‹ **`tbl_df`** ã¨å‘¼ã°ã‚Œã‚‹äºœç¨®ã‚‚ã‚ã‚‹ã‘ã©ã»ã¼åŒã˜ã€‚

---
## Function (é–¢æ•°)

å¤‰æ•°ã‚’å—ã‘å–ã£ã¦ã€ä½•ã‹ä»•äº‹ã—ã¦ã€è¿”ã™å‘½ä»¤ã‚»ãƒƒãƒˆ

```{r function}
x = seq(1, 3)  # 1ã¨3ã‚’æ¸¡ã™ã¨vectorãŒè¿”ã£ã¦ãã‚‹
x
sum(x)         # vectorã‚’æ¸¡ã™ã¨è¶³ã—ç®—ãŒè¿”ã£ã¦ãã‚‹
square = function(something) {  # è‡ªåˆ†ã®é–¢æ•°ã‚’å®šç¾©
  something ** 2
}
square(x)                       # ä½¿ã£ã¦ã¿ã‚‹
```

---
## `vector`: 1-dimensional array

1å€‹ã®å€¤ã§ã‚‚ãƒ™ã‚¯ãƒˆãƒ«æ‰±ã„ã€‚<br>
åŒã˜é•·ã•(ã¾ãŸã¯é•·ã•1)ã®ç›¸æ‰‹ã¨ã®è¨ˆç®—ãŒå¾—æ„ã€‚

```{r vector}
x = c(1, 2, 9)  # é•·ã•3ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«
x + x           # åŒã˜é•·ã•åŒå£«ã®è¨ˆç®—
y = 10          # é•·ã•1ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«
x + y           # é•·ã•3 + é•·ã•1 = é•·ã•3 (ãã‚Œãã‚Œè¶³ã—ç®—)
sqrt(x)         # square root
# We don't have to write for-loop like this
z = c(0, 0, 0)
for (i in seq(1, 3)) {
  z[i] = sqrt(x[i])
}
```

---
## `matrix`: 2-dimensional array (è¡Œåˆ—)

1æœ¬ã® `vector` ã‚’æŠ˜ã‚Šæ›²ã’ã¦é•·æ–¹å½¢ã«ã—ãŸã‚‚ã®ã€‚<br>
ä¸­èº«ã¯å…¨ã¦åŒã˜å‹ã€‚æ©Ÿæ¢°å­¦ç¿’ã¨ã‹ç”»åƒå‡¦ç†ã¨ã‹ã§ä½¿ã†ã€‚

```{r matrix}
v = seq(1, 8)              # c(1, 2, 3, 4, 5, 6, 7, 8)
x = matrix(v, nrow = 2)    # 2è¡Œã«ç•³ã‚€ã€‚åˆ—ã”ã¨ã«è©°ã‚ã‚‹
x
y = matrix(v, nrow = 2, byrow = TRUE)  # è¡Œã”ã¨ã«è©°ã‚ã‚‹
y
```

Let's try `x + y`, `dim(x)`, `nrow(x)`, `ncol(x)`.


---
## è¡Œ (row), åˆ— (column) ã®æ†¶ãˆæ–¹

<div class="column-container">
  <div class="column">
    <figure>
    <a href="https://commons.wikimedia.org/wiki/File:2012_Super_GT_Sugo_starting_grid.jpg">
    <img src="/slides/image/free/front-row.jpg" height="480">
    <figcaption class="url">https://commons.wikimedia.org/wiki/File:2012_Super_GT_Sugo_starting_grid.jpg</figcaption>
    </a>
    </figure>
  </div>
  <div class="column">
    <figure>
    <a href="https://en.wikipedia.org/wiki/Rhodes">
    <img src="/slides/image/free/apollon-columns.jpg" height="480">
    <figcaption class="url">https://en.wikipedia.org/wiki/Rhodes</figcaption>
    </a>
    </figure>
  </div>
</div>


---
## `data.frame`: rectangle table (IMPORTANT!)

åŒã˜é•·ã•ã®åˆ— `vector` ã‚’è¤‡æ•°æŸã­ãŸé•·æ–¹å½¢ã®è¡¨ã€‚<br>
e.g., é•·ã•150ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«4æœ¬ã¨å› å­ãƒ™ã‚¯ãƒˆãƒ«1æœ¬:

```{r data.frame}
print(iris)
```

`iris` ã¯ã‚¢ãƒ¤ãƒ¡å±3ç¨®150å€‹ä½“ã«é–¢ã™ã‚‹æ¸¬å®šãƒ‡ãƒ¼ã‚¿ã€‚<br>
Rã«æœ€åˆã‹ã‚‰å…¥ã£ã¦ã¦ã€ä¾‹ã¨ã—ã¦ã‚ˆãä½¿ã‚ã‚Œã‚‹ã€‚

---
## data.frameã‚’çœºã‚ã‚‹

æ¦‚è¦ã‚’æ´ã‚€:
```r
head(iris, 6)   # å…ˆé ­ã ã‘è¦‹ã¦ã¿ã‚‹
nrow(iris)      # è¡Œæ•°: Number of ROWs
ncol(iris)      # åˆ—æ•°: Number of COLumns
names(iris)     # åˆ—å
summary(iris)   # è¦ç´„
View(iris)      # RStudioã§é–²è¦§
```
```{r str}
str(iris)       # æ§‹é€ ãŒåˆ†ã‹ã‚‹å½¢ã§è¡¨ç¤º
```

ã»ã‹ã®ãƒ‡ãƒ¼ã‚¿ã‚‚ã„ã‚ã„ã‚è¦‹ã¦ã¿ã‚ˆã†, e.g., `mtcars`, `quakes`, `data()`

---
## data.frameã‚’çœºã‚ã‚‹

éƒ¨åˆ†çš„ãªdata.frameã‚’å–å¾—ã™ã‚‹:
```r
iris[2, ]                  # 2è¡Œç›®
iris[2:5, ]                # 2è¡Œç›®ã‹ã‚‰5è¡Œç›®ã¾ã§
iris[, 3:4]                # 3-4åˆ—ç›®
iris[2:5, 3:4]             # 2-5è¡Œç›®, 3-4åˆ—ç›®
```

vectorã¨ã—ã¦å–å¾—ã™ã‚‹:
```r
iris[[3]]                  # 3åˆ—ç›®
iris$Petal.Length          # Petal.Lengthåˆ—
iris[["Petal.Length"]]     # Petal.Lengthåˆ—
iris[["Petal.Length"]][2]  # Petal.Lengthåˆ—ã®2ç•ªç›®
```

çµæœãŒdata.frameã«ãªã‚‹ã‹vectorã«ãªã‚‹ã‹å¾®å¦™:
```r
iris[, 3]                  # 3åˆ—ç›®
iris[, "Petal.Length"]     # Petal.Lengthåˆ—
iris[2, 3]                 # 2è¡Œç›®3åˆ—ç›®
iris[2, "Petal.Length"]    # 2è¡Œç›®Petal.Lengthåˆ—
```

---
## data.frameã®æ–°è¦ä½œæˆ

åŒã˜é•·ã•ã® **åˆ—(column) vector** ã‚’çµåˆã—ã¦ä½œã‚‹:
```{r data.frame.new}
x = c(1, 2, 3)
y = c("A", "B", "C")
mydata = data.frame(x, y)
print(mydata)
```

---
## data.frameã®èª­ã¿æ›¸ã

- readxlãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ãˆã° `.xlsx` ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã‚ã‚‹ã€ã‘ã©
- ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š(CSV)ã¨ã‹ã‚¿ãƒ–åŒºåˆ‡ã‚Š(TSV)ã®ãƒ†ã‚­ã‚¹ãƒˆãŒç„¡é›£ã€‚
- ãƒ•ã‚¡ã‚¤ãƒ«åã¯**ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**ã‹ã‚‰ã®**ç›¸å¯¾ãƒ‘ã‚¹**ã§æŒ‡å®šã€‚

    ```r
    install.packages("readr") # Ræ¨™æº–ã® read.table() ã¨ã‹ã¯é›£ã—ã„ã®ã§
    library(readr)            # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚„ã¤ã‚’ä½¿ã†ã‚ˆ
    write_tsv(iris, "data/iris.tsv")   # æ›¸ãå‡ºã—
    iris2 = read_tsv("data/iris.tsv")  # èª­ã¿è¾¼ã¿
    ```

- ç¾åœ¨ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãã®ä¸­èº«ã‚’ç¢ºèªã—ã¦ãŠã“ã†:

    ```r
    getwd()               # Get Working Directory
    list.files(".")       # List files in "."
    list.files("data")    # List files in "./data"
    ```

Rçµ„ã¿è¾¼ã¿ãƒ‡ãƒ¼ã‚¿ã‚„è‡ªä½œãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿æ›¸ãã—ã¦ã¿ã‚ˆã†

---
## R package

ä¾¿åˆ©ãªé–¢æ•°ã‚„ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãªã©ã‚’ã²ã¨ã¾ã¨ã‚ã«ã—ãŸã‚‚ã®ã€‚

Standard Packages
: Rã®æ¨™æº–æ©Ÿèƒ½ã€‚ä½•ã‚‚ã—ãªãã¦ã‚‚ä½¿ç”¨å¯èƒ½

Contributed Packages
: æœ‰å¿—ã«ã‚ˆã‚Šé–‹ç™ºã•ã‚Œã€
  [CRAN](https://cran.rstudio.com/web/packages/index.html)
  ã«ã¾ã¨ã‚ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã€‚
: è¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ä½¿ã†å‰ã«èª­ã¿è¾¼ã‚€ãŠã¾ã˜ãªã„ãŒå¿…è¦ã€‚

```{r package, eval=FALSE}
install.packages("readr")  # ä¸€åº¦ã‚„ã‚Œã°OK
library(readr)             # èª­ã¿è¾¼ã¿ã¯Rã‚’èµ·å‹•ã™ã‚‹ãŸã³ã«å¿…è¦
update.packages()          # ãŸã¾ã«ã¯æ›´æ–°ã—ã‚ˆã†
```

ç´ ã®Rã‚‚è¦šãˆãã£ã¦ãªã„ã®ã«ã„ããªã‚Šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼Ÿ
: å¤§ä¸ˆå¤«ã€‚èª°ã‚‚è¦šãˆãã£ã¦ãªã„ã€‚
: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã‚ãªã„Rä½œæ¥­ = ç«ã‚‚ãƒŠã‚¤ãƒ•ã‚‚ä½¿ã‚ãªã„æ–™ç†

---
## tidyverse

<a href="https://www.tidyverse.org/">
<img src="/slides/image/rstats/hex-badges.png" width="260" align="right">
</a>

Rã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ‰‹ã«æ‰±ã†ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¾¤

```r
install.packages("tidyverse")
library(tidyverse)
# é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¸€æŒ™ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹
```

- çµ±ä¸€çš„ãªä½¿ã„å‹æ‰‹
- æš—é»™ã®å‡¦ç†ã‚’ãªã‚‹ã¹ãã—ãªã„å®‰å…¨è¨­è¨ˆ
- ã‚·ãƒ³ãƒ—ãƒ«ãªé–¢æ•°ã‚’ç¹‹ã’ã¦ä½¿ã†ãƒ‡ã‚¶ã‚¤ãƒ³

<figure>
<a href="https://r4ds.had.co.nz/introduction.html">
<img src="/slides/image/r4ds/data-science.png">
<figcaption class="url">https://r4ds.had.co.nz/introduction.html</figcaption>
</a>
</figure>

---
## tidyverse

<a href="https://www.tidyverse.org/">
<img src="/slides/image/rstats/hex-badges.png" width="260" align="right">
</a>

Rã§ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ‰‹ã«æ‰±ã†ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¾¤

```r
install.packages("tidyverse")
library(tidyverse)
# é–¢é€£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¸€æŒ™ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹
```

- `Conflicts âŒ` ã¨ã‹è¡¨ç¤ºã•ã‚Œã¦ä¸å®‰ã ã‘ã©<br>
  ã“ã‚Œã¯å¤§ä¸ˆå¤«ãªã‚„ã¤:

```
â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.3.0 â”€â”€
âœ” ggplot2 3.3.0     âœ” purrr   0.3.4
âœ” tibble  3.0.1     âœ” dplyr   0.8.5
âœ” tidyr   1.1.0     âœ” stringr 1.4.0
âœ” readr   1.3.1     âœ” forcats 0.5.0
â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
âœ– dplyr::filter() masks stats::filter()
âœ– dplyr::lag()    masks stats::lag()
```

---
## Many other useful packages

<a href="https://readxl.tidyverse.org/">
<img src="/_img/hex-stickers/readxl.webp" width="120" align="right">
</a>
<a href="https://stringr.tidyverse.org/">
<img src="/_img/hex-stickers/stringr.webp" width="120" align="right">
</a>

- [readxl](https://readxl.tidyverse.org/): ã‚¨ã‚¯ã‚»ãƒ«å½¢å¼ã®èª­ã¿è¾¼ã¿
- [stringr](https://stringr.tidyverse.org/): æ–‡å­—åˆ—ã®å‡¦ç†
- [Bioconductor](https://www.bioconductor.org/): ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹é–¢é€£
- [igraph](https://igraph.org/r/): ã‚°ãƒ©ãƒ•(ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯)é–¢é€£
- [rgl](https://cran.r-project.org/package=rgl): 3Dã®ä½œå›³
- [R Markdown](https://rmarkdown.rstudio.com/):
  Rã‚³ãƒãƒ³ãƒ‰ã¨çµæœã‚’åŸ‹ã‚è¾¼ã‚“ã PDFã‚„HTMLã‚’ä½œã‚‹ã€‚<br>
  ã“ã®ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰ã‚‚ãã†ã‚„ã£ã¦ä½œã£ãŸã€‚<br>
  ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã‚„å…±åŒç ”ç©¶è€…ã¸ã®å ±å‘Šã«ã‚‚ä¾¿åˆ©ï¼

---
## How to solve problems

- RStudioå†…ã«ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º: `?sum`, `help.start()`
- å¤‰æ•°ã®æ§‹é€ ã‚’ç¢ºã‹ã‚ã‚‹: `str(iris)`, `attributes(iris)`
- ã‚¨ãƒ©ãƒ¼æ–‡ã‚’ã¡ã‚ƒã‚“ã¨èª­ã‚€: `No such file or directory`
- ã‚¨ãƒ©ãƒ¼æ–‡ã‚„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã‚’ã‚³ãƒ”ãƒšã—ã¦ã‚¦ã‚§ãƒ–æ¤œç´¢<br>
  â†’ [StackOverflow](https://stackoverflow.com/questions/tagged/r)
  ã‚„å€‹äººã‚µã‚¤ãƒˆã«è§£æ±ºç­–
- Slack <img height=22 width=22 src="https://cdn.simpleicons.org/slack">
  [r-wakalang](https://github.com/tokyor/r-wakalang)
  ã§è³ªå•ã‚’æŠ•ç¨¿ã™ã‚‹ã€‚<br>
  (è³ªå•ã«é£¢ãˆãŸå„ªã—ã„ãƒ¯ãƒ‹ãŒå¤šæ•°ç”Ÿæ¯ ğŸ‘€ &nbsp; ğŸ‘€ &nbsp; ğŸ‘€ &nbsp; ğŸ‘€)
- çŠ¶æ³å†ç¾ã§ãã‚‹å°ã•ãªä¾‹
  [(reprex)](https://reprex.tidyverse.org/)
  ã‚’æ·»ãˆã‚‹ã¨å›ç­”ã‚’å¾—ã‚„ã™ã„ã€‚<br>
  (ã“ã‚Œã‚’æº–å‚™ã—ã¦ã‚‹ã†ã¡ã«å•é¡ŒãŒåˆ‡ã‚Šåˆ†ã‘ã‚‰ã‚Œã¦è‡ªå·±è§£æ±ºã—ãŸã‚Š)
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã¡ã‚ƒã‚“ã¨èª­ã‚€

---
## R basics: Summary

âœ… Write **R script**, and send it to **Console**.

âœ… Object types: numeric **vector**, **data.frame**, etc.

âœ… Use **packages**.

âœ… **Relax.** You know how to solve problems.


---
## Reference

R for Data Science --- Hadley Wickham and Garrett Grolemund
: https://r4ds.had.co.nz/
: [Book](https://amzn.to/2tbRmVc)
: [æ—¥æœ¬èªç‰ˆæ›¸ç±(Rã§ã¯ã˜ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹)](https://amzn.to/2yyFRKt)

Older versions
: ã€Œ[Rã«ã‚„ã‚‰ã›ã¦æ¥½ã—ã‚ˆã† â€” ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã¨ä¸‹ã”ã—ã‚‰ãˆ](https://heavywatal.github.io/slides/nagoya2018/)ã€
   å²©åµœèˆª 2018
: ã€ŒRã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨ã€çŸ³å·ç”±å¸Œ 2019 åå¤å±‹å¤§å­¦
: ã€Œ[Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’](https://heavywatal.github.io/slides/tmd2019/)ã€
   å²©åµœèˆª 2019 æ±äº¬åŒ»ç§‘æ­¯ç§‘å¤§

<a href="2-ggplot.html" rel="next" class="readmore">
2. Visualization with R
</a>
