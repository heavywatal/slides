```{r, setup-common}
#| file: "setup.R"
#| echo: false
#| results: "asis"
```
```{r, setup-local}
#| include: false
#| cache: false
data(starwars, package = "dplyr")
data(world_bank_pop, package = "tidyr")
data(fruit, package = "stringr")
```

---
## ä½œæ¥­å†é–‹ã€å‡ºæ¬ ç¢ºèª

1. `r-training-2024.Rproj` ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã€‚<br>
   æ­£ã—ã„ working directory ã§RStudioãŒèµ·å‹•ã•ã‚Œã‚‹ã€‚
1. [åˆæ—¥ã¨åŒã˜æ‰‹é †](1-introduction.html#/29)ã§å‡ºæ¬ ç¢ºèªã€‚
1. ä»Šæ—¥ã®ã¶ã‚“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ–°è¦ä½œæˆã—ã€å¥½ããªåå‰ã§ä¿å­˜ã€‚<br>
1. [tidyverseã®èª­ã¿è¾¼ã¿](2-visualization.html#/23)ã‚„[ãƒ‘ãƒ¬ãƒƒãƒˆè¨­å®š](2-visualization.html#/36)ãªã©ã€
   ãŠã¾ã˜ãªã„ã‚’ã¾ãšå®Ÿè¡Œã€‚


---
## å‰å›ã¾ã§ã®ã¾ã¨ã‚

### âœ… Rã®åŸºç¤

- èª¿ã¹æ–¹ã•ãˆã‚ã‹ã‚Œã°ã€å…¨éƒ¨è¦šãˆãªãã¦ã‚‚å¤§ä¸ˆå¤«
- ã‚¨ãƒ©ãƒ¼ã¯æ—¥å¸¸èŒ¶é£¯äº‹ã€‚è½ã¡ç€ã„ã¦èª­ã¿å–ã‚ã†
- ã¾ãš**Rã‚¹ã‚¯ãƒªãƒ—ãƒˆ**ã«æ›¸ã„ã¦ã‹ã‚‰ã€**ã‚³ãƒ³ã‚½ãƒ¼ãƒ«**ã§å®Ÿè¡Œ
- ä¾¿åˆ©ãª**ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**ã‚’ä½¿ãŠã†

### âœ… ãƒ‡ãƒ¼ã‚¿è§£æå…¨ä½“ã®æµã‚Œã€‚å¯è¦–åŒ–ã ã„ã˜

### âœ… ä¸€è²«æ€§ã®ã‚ã‚‹æ–‡æ³•ã§åˆç†çš„ã«æã‘ã‚‹ggplot2

### âœ… ä½¿ãˆã‚‹æ•´ç„¶ãƒ‡ãƒ¼ã‚¿ã«ã™ã‚‹ãŸã‚ã®å‰å‡¦ç†ãŒãŸã„ã¸ã‚“

---
## ãƒ‡ãƒ¼ã‚¿è§£æã®ãŠãŠã¾ã‹ãªæµã‚Œ

1. ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ç’°å¢ƒã®æ•´å‚™ âœ…
1. ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã€èª­ã¿è¾¼ã¿ â¬œ
1. æ¢ç´¢çš„ãƒ‡ãƒ¼ã‚¿è§£æ
    - **å‰å‡¦ç†ã€åŠ å·¥** (åœ°å‘³ã€‚æ„å¤–ã¨é‡ã„) ğŸ‘ˆ ä»Šå›ã®ä¸»é¡Œ
    - å¯è¦–åŒ–ã€ä»®èª¬ç”Ÿæˆ (æ´¾æ‰‹ï¼ã ã„ã˜ï¼) âœ… å®Œå…¨ã«ç†è§£ã—ãŸ
    - çµ±è¨ˆè§£æã€ä»®èª¬æ¤œè¨¼ (ã¿ã‚“ãªå‹‰å¼·ã—ãŸãŒã‚‹) â¬œ
1. å ±å‘Šã€ç™ºè¡¨ â¬œ Quartoæ¥½ã—ã„

<figure>
<a href="https://r4ds.hadley.nz/intro">
<img src="/slides/image/r4ds/data-science.png" width="720">
<figcaption class="url">https://r4ds.hadley.nz/intro</figcaption>
</a>
</figure>

---
## å‰å‡¦ç†ã¯å¤§ãã2ã¤ã«åˆ†ã‘ã‚‰ã‚Œã‚‹

<div style="float: right;">
<a href="https://dplyr.tidyverse.org/">
<img src="/_img/hex-stickers/dplyr.webp" width="180">
</a><br>
<a href="https://tidyr.tidyverse.org/">
<img src="/_img/hex-stickers/tidyr.webp" width="180">
</a>
</div>

- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç† --- ç¬¬3, 4å›
    - ä½¿ã„ãŸã„éƒ¨åˆ†ã ã‘æŠ½å‡º --- `select()`, `filter()`
    - ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ç‰¹å¾´ã‚’è¦ç´„ --- `group_by()`, `summarize()`
    - ä½•ã‹ã®é †ã«ä¸¦ã¹æ›¿ãˆ --- `arrange()`, `relocate()`
    - ç•°ãªã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆ --- `*_join()`
    - å¤‰å½¢: ç¸¦é•· â†” æ¨ªåºƒ --- `pivot_longer()`, `pivot_wider()`
- **ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç†** ğŸ‘ˆ ç¬¬5å› æœ¬æ—¥ã®è©±é¡Œ
    - æ•°å€¤ã®å¤‰æ›: å¯¾æ•°ã€æ­£è¦åŒ–
    - å¤–ã‚Œå€¤ãƒ»æ¬ æå€¤ã¸ã®å¯¾å‡¦
    - å‹å¤‰æ›: é€£ç¶šå¤‰æ•°ã€ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«å¤‰æ•°ã€æŒ‡ç¤ºå¤‰æ•°ã€å› å­ã€æ—¥æ™‚
    - æ–‡å­—åˆ—å‡¦ç†: æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ

<cite style="display: block; text-align: right;"><a href="https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=heavywatal-22&linkId=8a3fd4e9a0c944b1b41242bbab8d147b">
æœ¬æ©‹æ™ºå…‰ã€Œå‰å‡¦ç†å¤§å…¨ã€
</a></cite>

---
## tidyverse: ãƒ‡ãƒ¼ã‚¿ç§‘å­¦ã®ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¾¤

<a href="https://www.tidyverse.org/">
<img src="/slides/image/rstats/hex-badges8.png" width="33%" align="right">
</a>

```r
install.packages("tidyverse")
library(conflicted) # å®‰å…¨ã®ãŠã¾ã˜ãªã„
library(tidyverse)  # ä¸€æŒ™ã«èª­ã¿è¾¼ã¿
```
```{r, tidyverse-message}
#| echo: false
withr::with_namespace("tidyverse", {
  cat(tidyverse_attach_message(core), sep = "\n")
})
```

ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ãƒ‡ãƒ¼ã‚¿è§£æã®æ§˜ã€…ãªå·¥ç¨‹ã‚’ã‚«ãƒãƒ¼

<figure style="margin-block: 0;">
<a href="https://r4ds.hadley.nz/intro">
<img src="/slides/image/r4ds/data-science.png" width="720">
<figcaption class="url">https://r4ds.hadley.nz/intro</figcaption>
</a>
</figure>

---
## å¤‰æ•°/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ (å¾©ç¿’)

- **`vector`: åŸºæœ¬å‹ã€‚ä¸€æ¬¡å…ƒã®é…åˆ—ã€‚** (ğŸ‘ˆä»Šå›ã®ä¸»å½¹)
    - `logical`: è«–ç†å€¤ (`TRUE` or `FALSE`)
    - `numeric`: æ•°å€¤ (æ•´æ•° `42L` or å®Ÿæ•° `3.1416`)
    - `character`: æ–‡å­—åˆ— (`"a string"`)
    - `factor`: å› å­ (æ–‡å­—åˆ—ã£ã½ã„ã‘ã©å¾®å¦™ã«é•ã†)
- `array`: å¤šæ¬¡å…ƒé…åˆ—ã€‚`vector`åŒæ§˜ã€å…¨è¦ç´ ãŒåŒã˜å‹ã€‚
    - `matrix`: è¡Œåˆ— = äºŒæ¬¡å…ƒã®é…åˆ—ã€‚
- `list`: ç•°ãªã‚‹å‹ã§ã‚‚è©°ã‚è¾¼ã‚ã‚‹å¤ªã£è…¹ãƒ™ã‚¯ãƒˆãƒ«ã€‚
- **`data.frame`: åŒã˜é•·ã•ã®ãƒ™ã‚¯ãƒˆãƒ«ã‚’ä¸¦ã¹ãŸé•·æ–¹å½¢ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã€‚é‡è¦ã€‚** <br>
  `tibble` ã¨ã‹ `tbl_df` ã¨å‘¼ã°ã‚Œã‚‹äºœç¨®ã‚‚ã‚ã‚‹ã‘ã©ã»ã¼åŒã˜ã€‚


---
## vector: ä¸€æ¬¡å…ƒã®é…åˆ— (å¾©ç¿’)

1å€‹ã®å€¤ã§ã‚‚ãƒ™ã‚¯ãƒˆãƒ«æ‰±ã„ã€‚<br>
ãƒ™ã‚¯ãƒˆãƒ«ã®å„è¦ç´ ã«ä¸€æ°—ã«è¨ˆç®—ã‚’é©ç”¨ã§ãã‚‹ã€‚

```{r, vector}
x = c(1, 2, 9)  # é•·ã•3ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«
x + x           # åŒã˜é•·ã•åŒå£«ã®è¨ˆç®—
y = 10          # é•·ã•1ã®æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«
x + y           # é•·ã•3 + é•·ã•1 = é•·ã•3 (ãã‚Œãã‚Œè¶³ã—ç®—)
x < 5           # ãã‚Œãã‚Œã®è¦ç´ ã‚’æ¯”è¼ƒ
```

---
## æ•°å€¤: numericå‹

æ™®é€šã¯å€ç²¾åº¦æµ®å‹•å°æ•°ç‚¹å‹ `double` ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹:

```{r, numeric}
answer = 42
typeof(answer)
```

æ˜ç¤ºçš„ã«å¤‰æ›ã—ãŸã‚Šæœ«å°¾ã«Lã‚’ä»˜ã‘ã‚‹ã“ã¨ã§æ•´æ•°æ‰±ã„ã‚‚ã§ãã‚‹:

```{r, integer}
typeof(as.integer(answer))
whoami = 24601L
typeof(whoami)
```
Rã§ã¯ã»ã¨ã‚“ã©æ°—ã«ã™ã‚‹å¿…è¦ã¯ãªã„ã€‚

---
## æ§˜ã€…ãªæ•°å­¦é–¢æ•°

ãƒ™ã‚¯ãƒˆãƒ«ã‚’å—ã‘å–ã‚Šã€ãã‚Œãã‚Œã®è¦ç´ ã«é©ç”¨

```{r, math}
x = c(1, 2, 3)
sqrt(x)
log(x)
log10(x)
exp(x)
```

<div style="text-align: right;"><a class="url" href="https://stat.ethz.ch/R-manual/R-patched/library/base/html/00Index.html">
https://stat.ethz.ch/R-manual/R-patched/library/base/html/00Index.html
</a></div>

---
## data.frameã¯åˆ—vectorã®é›†ã¾ã‚Š

å†…å®¹ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚‹ã€‚<br>
`diamonds` ã® `price` åˆ—ã‚’ãƒ‰ãƒ«ã‹ã‚‰å††ã«å¤‰æ›ã™ã‚‹ä¾‹:

```{r, dfcolumn}
dia = diamonds    # åˆ¥åã‚³ãƒ”ãƒ¼

# dollaræ¼”ç®—å­ $ ã§æŒ‡å®š
dia$price = 105.59 * dia$price

# åå‰ã‚’ [[æ–‡å­—åˆ—]] ã§æŒ‡å®š
dia[["price"]] = 105.59 * dia[["price"]]

# dplyr::mutate with pipe
dia = diamonds |>
  dplyr::mutate(price = 105.59 * price) |>
  dplyr::filter(carat > 1) |>
  dplyr::summarize(avg_price = mean(price))
```

1ç™ºãªã‚‰ã©ã‚Œã§ã‚‚ã„ã„ã€‚æµã‚Œä½œæ¥­ã«ã¯ `mutate()` ãŒä¾¿åˆ©ã€‚


---
## å¤–ã‚Œå€¤ã®é™¤å»

å¹³å‡å€¤ã‹ã‚‰æ¨™æº–åå·®ã®3å€ä»¥ä¸Šé›¢ã‚Œã¦ã„ã‚‹ã‚‚ã®($\lvert z \rvert \ge 3$)ã‚’å–ã‚Šé™¤ãä¾‹:

```{r, outlier}
result = diamonds |>
  dplyr::filter(abs(price - mean(price)) / sd(price) < 3) |>
  print()
```

å”¯ä¸€ã®æ–¹æ³•ã§ã¯ãªã„ã—ã€ãã‚‚ãã‚‚ã‚„ã‚‹ã¹ãã‹ã©ã†ã‹ã‚‚è¦æ¤œè¨


---
## æ¬ æå€¤ã®é™¤å» `tidyr::drop_na()`

(æŒ‡å®šã—ãŸåˆ—ã«) `NA` ãŒå«ã¾ã‚Œã¦ã‚‹è¡Œã‚’å‰Šé™¤ã™ã‚‹ã€‚

```{r, drop-na}
df = tibble::tibble(x = c(1, 2, NA), y = c("a", NA, "c"), z = c("D", "E", NA))
df |> tidyr::drop_na()
```

ğŸ”° `starwars` ã§**èº«é•·ä½“é‡ãƒ‡ãƒ¼ã‚¿ã®ã‚ã‚‹è¡Œã ã‘æŠ½å‡º**ã—ã¦ã¿ã‚ˆã†

```{r, starwars-drop}
#| echo: false
starwars
```

---
## æ¬ æå€¤ã®è£œå®Œ `tidyr::replace_na()`

æ¬ æå€¤ `NA` ã‚’ä»»æ„ã®å€¤ã§ç½®ãæ›ãˆã‚‹ã€‚

```{r, replace-na}
df = tibble::tibble(x = c(1, 2, NA), y = c("a", NA, "c"), z = c("D", "E", NA))
df |> tidyr::replace_na(list(x = 9999, y = "unknown"))
```

ğŸ”° `starwars` ã§**é«ªã‚„ç›®ã®è‰²ãŒä¸æ˜ã®éƒ¨åˆ†ã‚’"UNKNOWN"ã«ç½®æ›**ã—ã‚ˆã†

```{r, starwars-replacena}
#| echo: false
starwars
```

---
## æ¬ æå€¤ã¨ã¿ãªã™ `dplyr::na_if()`

ç‰¹å®šã®å€¤ã‚’ `NA` ã«ç½®ãæ›ãˆã‚‹:

```{r, na-if}
df = tibble::tibble(x = c(1, 2, NA), y = c("a", NA, "c"), z = c("D", "E", NA))
df |> dplyr::mutate(x = dplyr::na_if(x, 1), y = dplyr::na_if(y, "a"))
```

ğŸ”° `starwars` ã®**æ€§åˆ¥"none"ã‚’æ¬ æå€¤ã«**ã—ã‚ˆã†

```{r, starwars-na-if}
#| echo: false
starwars
```

---
## æ¬ æå€¤ã®è£œå®Œ `dplyr::coalesce()`

å…ˆã«æŒ‡å®šã—ãŸvectorã®å€¤ãŒ `NA` ãªã‚‰æ¬¡ã®vectorã®å€¤ã‚’æ¡ç”¨:

```{r, coalesce}
df = tibble::tibble(x = c(1, 2, NA), y = c("a", NA, "c"), z = c("D", "E", NA))
df |> dplyr::mutate(y_or_z = dplyr::coalesce(y, z))
```

ç•°ãªã‚‹å‹ã‚’æ··ãœã‚‹ã¨æ€’ã‚‰ã‚Œã‚‹:
```{r, coalesce-type}
#| error: true
df |> dplyr::mutate(x_or_y = dplyr::coalesce(x, y))
```

ğŸ”° `starwars` ã§**é«ªè‰²ã®æ¬ æå€¤ã‚’è‚Œè‰²ã§è£œãŠã†**

---
## æ¡ä»¶ã«å¿œã˜ã¦å€¤ã‚’é¸æŠ `dplyr::if_else()`

`TRUE` ã®ä½ç½®ã§ã¯ `x` ã‚’æ¡ç”¨ã€`FALSE` ã®ä½ç½®ã§ã¯ `y` ã‚’æ¡ç”¨:

```{r, ifelse}
condition = c(TRUE, TRUE, FALSE)
x = c(1, 2, 3)
y = c(100, 200, 300)
dplyr::if_else(condition, x, y)
```

ğŸ”° `starwars` ã§**ç¨®æ—ãŒãƒ‰ãƒ­ã‚¤ãƒ‰ã®è¡Œã ã‘èº«é•·ã‚’100å€**ã—ã¦ã¿ã‚ˆã†


```{r, starwars-ifelse}
#| echo: false
starwars
```

---
## æ–‡å­—åˆ—: characterå‹ (string)

ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã‚€ã€‚ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã‚‚ä½¿ãˆã‚‹ã€‚

```{r, string}
x = "This is a string"
y = 'If I want to include a "quote" inside a string, I use single quotes'
```

é–‰ã˜ãã³ã‚Œã‚‹ã¨å¤‰ãªçŠ¶æ…‹ã«ãªã‚‹ã®ã§ã€è½ã¡ç€ã„ã¦ <kbd>esc</kbd> or <kbd>ctrl</kbd><kbd>c</kbd>

```
> "This is a string without a closing quote
+
+
+ HELP I'M STUCK
```

<div style="text-align: right;"><a class="url" href=https://r4ds.hadley.nz/strings.html>
https://r4ds.hadley.nz/strings.html
</a></div>

---
## Rå‚™ãˆä»˜ã‘ã®æ–‡å­—åˆ—æ©Ÿèƒ½ã¯ä½¿ã„ã«ãã„

-   ä½•ã‚’ã‚„ã‚‹é–¢æ•°ãªã®ã‹åå‰ã‹ã‚‰åˆ†ã‹ã‚Šã«ãã„<br>
    `grep`, `grepl`, `regexpr`, `gregexpr`, `regexec`<br>
    `sub`, `gsub`, `substr`, `substring`
-   å¯¾è±¡æ–‡å­—åˆ—ã¯ã„ãã¤ã‚ã«æ¸¡ã™ï¼Ÿé–¢æ•°ã”ã¨ã«é•ã†ã€‚e.g.,<br>

    ```r
    grep(pattern, x, ...)
    sub(pattern, replacement, x, ...)
    substr(x, start, stop)
    ```

-   æ¬ æå€¤ `NA` ã«å¯¾ã™ã‚‹æŒ™å‹•ãŒå¾®å¦™

    ```{r, base-str-na}
    x = c(1, 2, NA)
    y = c("a", NA, "c")
    paste(x, y)  # NA is not distinguished from character "NA"
    ```

---
## stringr --- tidyverseã®æ–‡å­—åˆ—å‡¦ç†æ‹…å½“

<a href="https://stringr.tidyverse.org/">
<img src="/_img/hex-stickers/stringr.webp" width="180" align="right">
</a>

-   é–¢æ•°ã‚„å¼•æ•°ã®åå‰ã«ä¸€è²«æ€§ãŒã‚ã£ã¦åˆ†ã‹ã‚Šã‚„ã™ã„
-   å¯¾è±¡æ–‡å­—åˆ—ãŒä¸€è²«ã—ã¦ç¬¬ä¸€å¼•æ•°ãªã®ã§ `|>` able
-   å¼•æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å„è¦ç´ ã®åå‰ã‚„ä½ç½®ã‚’ä¿æŒã™ã‚‹
    -   é•·ã•ã‚¼ãƒ­ã®å…¥åŠ›ã‹ã‚‰ã¯é•·ã•ã‚¼ãƒ­ã®å‡ºåŠ›
    -   å…¥åŠ›ã« `NA` ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯å¯¾å¿œã™ã‚‹å‡ºåŠ›ã‚‚ `NA`
-   [å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://stringr.tidyverse.org/)ã‚’è¦‹ã‚Œã°å…¨å®¹ãŒæ´ã‚ã‚‹

<figure style="margin: 0;">
<a href="https://stringr.tidyverse.org/">
<img src="/slides/image/cheatsheet/strings.png" width="40%">
<img src="/slides/image/cheatsheet/strings-regex.png" width="40%">
</a>
</figure>


---
## æ–‡å­—åˆ—ã®åŸºæœ¬æ“ä½œ

```{r, str-length}
fruit4 = head(fruit, 4L) |> print()
stringr::str_length(fruit4)            # é•·ã•
stringr::str_sub(fruit4, 2, 4)         # éƒ¨åˆ†æŠ½å‡º
stringr::str_c(1:4, " ", fruit4, "!")  # çµåˆ
```

ğŸ”° `words` ã®ä¸­ã§9æ–‡å­—ã‚ˆã‚Šé•·ã„ã‚‚ã®ã‚’æŠœãå‡ºã—ã¦ã¿ã‚ˆã†

ğŸ”° ãã‚Œã‚‰é•·ã„å˜èªã« `str_sub()` ã‚„ `str_c()` ã‚’é©ç”¨ã—ã¦ã¿ã‚ˆã†

---
## ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°

å˜ç´”ãªä¸€è‡´ã ã‘ã˜ã‚ƒãªãã€ã„ã‚ã‚“ãªæ¡ä»¶ã§ãƒãƒƒãƒãƒ³ã‚°ã§ãã‚‹:

```{r, pattern}
# aã§å§‹ã¾ã‚‹
stringr::str_subset(fruit, "^a")

# rã§çµ‚ã‚ã‚‹
stringr::str_subset(fruit, "r$")

# è‹±æ•°å­—3-4æ–‡å­—
stringr::str_subset(fruit, "^\\w{3,4}$")
```

ã“ã® `^` ã¨ã‹ `$` ã£ã¦ä½•è€…ï¼Ÿ

---
## æ­£è¦è¡¨ç¾: æŸ”è»Ÿãªæ¤œç´¢ãƒ»ç½®æ›ã‚’å¯èƒ½ã«ã™ã‚‹ãƒ„ãƒ¼ãƒ«

| ãƒ¡ã‚¿æ–‡å­— | æ„å‘³ | &emsp;&emsp; | æ¼”ç®—å­ | æ„å‘³ |
| ---- | ---- | --- | ---- | ---- |
| `\d` | æ•°å­— (é€†ã¯ `\D`) | | `a?`  | 0å›ã‹1å›ã®a |
| `\s` | ç©ºç™½ (é€†ã¯ `\S`) | | `a*`  | 0å›ä»¥ä¸Šç¹°ã‚Šè¿”ã•ã‚ŒãŸa |
| `\w` | è‹±æ•°å­— (é€†ã¯ `\W`) | | `a+`  | 1å›ä»¥ä¸Šç¹°ã‚Šè¿”ã•ã‚ŒãŸa |
| `.`  | **ä½•ã§ã‚‚1æ–‡å­—** | | `a{n,m}` | nå›ä»¥ä¸Šmå›ä»¥ä¸‹ã®a |
| `^`  | è¡Œé ­   | | `a(?=c)`  | cã«å…ˆç«‹ã¤a |
| `$`  | è¡Œæœ«   | | `(?<=b)a`  | bã«ç¶šãa |

<div style="text-align: right;"><a class="url" href="https://unicode-org.github.io/icu/userguide/strings/regexp.html#regular-expression-metacharacters">
https://unicode-org.github.io/icu/userguide/strings/regexp.html#regular-expression-metacharacters
</a></div>

Rã®`"æ™®é€šã®æ–‡å­—åˆ—"`ã§ã¯ãƒãƒƒã‚¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’é‡ã­ã‚‹å¿…è¦ãŒã‚ã‚‹: `"^\\d"`.
<aside style="font-size: 0.9rem; color: #888888;">

æ”¹è¡Œ `\n` ã¨ã‹ã‚¿ãƒ– `\t` ã®ã‚ˆã†ãª[ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹](https://duckduckgo.com/?q=escape+sequence)ã¨åŒºåˆ¥ã™ã‚‹ãŸã‚ã€‚<br>
`r"(rawæ–‡å­—åˆ—)"`ã‚’ä½¿ã†å ´åˆã¯ã²ã¨ã¤ã§ã„ã„: `r"(^\d)"`.

</aside>

---
## æ­£è¦è¡¨ç¾: ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

<figure style="margin: 0;">
<a href="https://stringr.tidyverse.org/">
<img src="/slides/image/cheatsheet/strings-regex.png" width="90%">
<figcaption class="url">https://stringr.tidyverse.org/</figcaption>
</a>
</figure>

---
## æ­£è¦è¡¨ç¾: ç·´ç¿’å•é¡Œ

ğŸ”° `str_subset()` ã¨ `fruit` ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’èº«ã«ç€ã‘ã‚ˆã†:

- "o" ã‚’å«ã‚€ã‚‚ã®
- "o" ã§å§‹ã¾ã‚‹ã‚‚ã®
- "berry" ã§çµ‚ã‚ã‚‹ã‚‚ã®
- "c" ã§å§‹ã¾ã‚Š "r" ã§çµ‚ã‚ã‚‹ã‚‚ã®
- ç©ºç™½ã‚’å«ã‚€ã‚‚ã®ã€å«ã¾ãªã„ã‚‚ã®

ğŸ”° `starnames = starwars[["name"]]` ã¨ã—ã¦æ¬¡ã®ãƒãƒƒãƒã«ã‚‚æŒ‘æˆ¦:

- æ•°å­—ã‚’å«ã‚€ã‚‚ã®ã€å«ã¾ãªã„ã‚‚ã®
- 3èªä»¥ä¸Šã®ã‚‚ã®
- å°æ–‡å­—ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã‚’å«ã¾ãªã„ã‚‚ã®


---
## æ¤œå‡º `str_detect()`

ãƒãƒƒãƒã™ã‚‹ã‹ã©ã†ã‹ `TRUE`/`FALSE` ã‚’è¿”ã™ã€‚
```{r, str-detect}
fruit4 = head(fruit, 4L)
stringr::str_detect(fruit4, "^a")
```

ğŸ”° `starwars` ã‹ã‚‰ `name` åˆ—ã«ç©ºç™½ã‚’å«ã¾ãªã„è¡Œã‚’æŠ½å‡ºã—ã‚ˆã†

```{r, starwars-detect}
#| echo: false
starwars |>
  dplyr::filter(stringr::str_detect(name, "^\\S+$"))
```

---
## æŠ½å‡º `str_extract()`

ãƒãƒƒãƒã—ãŸéƒ¨åˆ†æ–‡å­—åˆ—ã‚’å–ã‚Šå‡ºã™ã€‚ã—ãªã‹ã£ãŸè¦ç´ ã«ã¯ `NA`ã€‚
```{r, str-extract}
fruit4 = head(fruit, 4L)
stringr::str_extract(fruit4, "^a..")
```

ğŸ”° `diamonds` ã® `clarity` åˆ—ã‚’æ•°å­—ãªã—ã«ã—ã¦ã¿ã‚ˆã†

```{r, diamonds-extract}
#| echo: false
diamonds |>
  dplyr::mutate(clarity = stringr::str_extract(clarity, "\\D+"))
```


---
## ç½®æ› `str_replace()`, `str_replace_all()`

ã‚«ãƒƒã‚³ `()` ã§å›²ã‚“ã ãƒãƒƒãƒãƒ³ã‚°ã¯å¾Œã§å‚ç…§ã§ãã‚‹:
```{r, str-replace}
fruit4 = head(fruit, 4L)
stringr::str_replace(fruit4, "..$", "!!")
stringr::str_replace(fruit4, "(..)$", "_\\1_")
```

ğŸ”° `starwars` ã® `name` åˆ—ã®æ•°å­—ã‚’å…¨éƒ¨ã‚¼ãƒ­ã«ã—ã¦ã¿ã‚ˆã†

```{r, starwars-replace}
#| echo: false
starwars |>
  dplyr::filter(stringr::str_detect(name, "\\d")) |>
  dplyr::mutate(name = stringr::str_replace_all(name, "\\d", "0"))
```

---
## dplyr, tidyr ã®åˆ—é¸æŠãªã©ã§ã‚‚æ´»èº

`matches()` ã ã‘ã§ `starts_with()`/`ends_with()` ã®å½¹ã‚‚ã“ãªã›ã‚‹:

```{r, tidyselect}
#| results: "hide"
                        # starts_with("c")
diamonds |> dplyr::select(matches("^c"))

                        # ends_with("s")
starwars |> dplyr::select(matches("s$"))

                        # æ•°å­—ã ã‘
world_bank_pop |>
  tidyr::pivot_longer(matches("^\\d+$"), names_to = "year")
```

See [selection helpers](https://tidyselect.r-lib.org/reference/language.html) for more details.


---
## å½¢å¼ã‚’å¤‰ãˆã‚‹ãƒ»æ•´ãˆã‚‹

```{r, upperlower}
fruit4 = head(fruit, 4L)
stringr::str_to_upper(fruit4)              # å¤§æ–‡å­—ã«
stringr::str_pad(fruit4, 8, "left", "_")   # å¹…ã‚’åŸ‹ã‚ã¦æŒ‡å®šå¹…ã«
```

[`stringi`](http://www.gagolewski.com/software/stringi/) ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã•ã‚‰ã«å¤šæ©Ÿèƒ½
```{r, stringi}
stringi::stri_trans_nfkc(c("ï½¶ï¾€ï½¶ï¾…", "ï¼”ï¼’"))  # åŠè§’ã‚«ãƒŠãƒ»å…¨è§’æ•°å­—ã«å¯¾å‡¦
```

ğŸ”° `starwars` ã® `name` åˆ—ã‚’å…¨éƒ¨å°æ–‡å­—ã«ã—ã¦ã¿ã‚ˆã†

```{r, starwars-tolower}
#| echo: false
starwars |>
  dplyr::mutate(name = stringr::str_to_lower(name))
```

---
## æ–‡å­—åˆ—ã‹ã‚‰åˆ¥ã®å‹ã«

<a href="https://readr.tidyverse.org/">
<img src="/_img/hex-stickers/readr.webp" width="180" align="right">
</a>

ã“ã‚Œã¯stringrã§ã¯ãªãreadrã®æ‹…å½“:

```{r, parse-character}
readr::parse_number(c("p = 0.02 *", "N_A = 6e23"))
readr::parse_double(c("0.02", "6e+23"))
readr::parse_logical(c("1", "true", "0", "false"))
readr::parse_date("2020-06-03")
```

`6e+23` ã¯ $6 \times 10 ^ {23}$ ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°çš„è¡¨ç¾ã€‚
$6e^{23}$ ã§ã¯ãªã„ã€‚

---
## å› å­å‹ `factor` ã§ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«å¤‰æ•°(è³ªçš„å¤‰æ•°)ã‚’æ‰±ã†

```{r, factor}
month_levels = c(                       # å–ã‚Šã†ã‚‹å€¤
  "Jan", "Feb", "Mar", "Apr", "May", "Jun",
  "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
)
x1 = c("Dec", "Apr", "Jan", "Mar")      # ãŸã ã®æ–‡å­—åˆ—vector
y1 = factor(x1, levels = month_levels)  # å› å­å‹ã«å¤‰æ›
print(y1)
```

æ–‡å­—åˆ—ã£ã½ã„ã‘ã©**å®Ÿä½“ã¯æ•´æ•°**:
```{r, factor-int}
typeof(y1)
as.integer(y1)                          # æ•´æ•°å‹ã«å¤‰æ›å¯èƒ½
```

ğŸ”° `iris` ã«å«ã¾ã‚Œã‚‹å› å­å‹ã‚’ç¢ºèªã—ã‚ˆã†: `str(iris)`

<div style="text-align: right;"><a class="url" href="https://r4ds.hadley.nz/factors.html">
https://r4ds.hadley.nz/factors.html
</a></div>

---
## å› å­å‹ `factor`: æ–‡å­—åˆ—ã¨ã®é•ã„1

å–ã‚Šã†ã‚‹å€¤ (levels) ãŒæ—¢çŸ¥ã€‚

typoãªã©ã«ã‚ˆã‚Šlevelså¤–ã«ãªã‚‹ã¨ `NA` æ‰±ã„ã€‚

```{r, factor-levels}
x2 = c("Dec", "Apr", "Jam", "Mar")
factor(x2, levels = month_levels)
```

å…ƒã®æ–‡å­—åˆ—vectorã«å…¨ã¦ã®levelsãŒå«ã¾ã‚Œã¦ã‚‹ãªã‚‰ç°¡å˜ã«å¤‰æ›å¯èƒ½:
```{r, as-factor}
as.factor(starwars[["gender"]])
```

---
## å› å­å‹ `factor`: æ–‡å­—åˆ—ã¨ã®é•ã„2

ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã˜ã‚ƒãªã„é †åºãŒã‚ã‚‹:

```{r, factor-sort}
x1 = c("Dec", "Apr", "Jan", "Mar")
sort(x1)     # æ–‡å­—åˆ—ã¨ã—ã¦ã‚½ãƒ¼ãƒˆã™ã‚‹ã¨ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †
y1 = factor(x1, levels = month_levels)
sort(y1)     # å› å­ã¨ã—ã¦ã‚½ãƒ¼ãƒˆã™ã‚‹ã¨levelsé †
```

---
## å› å­å‹ `factor`: é †åºã®æƒ…å ±ã¯ä½œå›³ã§ç”Ÿãã‚‹

æ–‡å­—åˆ—ã ã¨å‹æ‰‹ã«ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã€‚å› å­å‹ãªã‚‰ä»»æ„æŒ‡å®šå¯èƒ½:

```{r, factor-mpg}
mpg_fct = mpg |>
  dplyr::mutate(drv = factor(drv, levels = c("f", "r", "4")))
```

```{r, factor-plot}
#| fig.width: 7
#| fig.height: 5
#| echo: false
set.seed(1)
p1 = mpg |>
  ggplot() +
  aes(drv, hwy) +
  geom_boxplot(aes(fill = drv), outlier.alpha = 0) +
  geom_jitter(height = 0, width = 0.25, alpha = 0.5) +
  labs(x = "drv") +
  theme_classic(base_size = 18) +
  theme(legend.position = "none")
cowplot::plot_grid(p1 + ggtitle("mpg"), p1 %+% mpg_fct + ggtitle("mpg_fct"), nrow = 1L)
```

---
## é †åºã¤ãå› å­å‹ `ordered`

å¤§å°ã®æ¯”è¼ƒãŒã§ãã‚‹ã€‚

```{r, ordered}
x1 = c("Dec", "Apr", "Jan", "Mar")
y3 = factor(x1, levels = month_levels, ordered = TRUE)
class(y3)
print(y3)
y3 < "Sep"
```

ğŸ”° `diamonds` ã«å«ã¾ã‚Œã‚‹orderedå‹ã‚’ç¢ºèªã—ã‚ˆã†: `str(diamonds)`<br>
ğŸ”° `cut` ãŒPremiumä»¥ä¸Šã®è¡Œã ã‘æŠœãå‡ºã™ã€ã¨ã‹ã€‚

---
## tidyverse ã®å› å­å‹æ‹…å½“ã¯ forcats

<a href="https://forcats.tidyverse.org/">
<img src="/_img/hex-stickers/forcats.webp" width="180" align="right">
</a>

- `fct_relevel()`: æ‰‹å‹•ã§é †åºè¨­å®š
- `fct_reorder()`: åˆ¥ã®å¤‰æ•°ã«å¿œã˜ã¦é †åºã‚’ä¸¦ã¹æ›¿ãˆ
- `fct_infreq()`: é »åº¦ã«å¿œã˜ã¦é †åºã‚’ä¸¦ã¹æ›¿ãˆ
- `fct_lump()`: å°‘ãªã™ãã‚‹ã‚«ãƒ†ã‚´ãƒªã‚’"ãã®ä»–"ã¨ã—ã¦ã¾ã¨ã‚ã‚‹

```{r, fct-infreq-data}
diamonds_fct = diamonds |>
  dplyr::mutate(color = forcats::fct_infreq(color))
mpg_fct = mpg |>
  dplyr::mutate(fl = forcats::fct_lump(fl, n = 2))
```

```{r, fct-infreq}
#| fig.width: 8
#| fig.height: 3
#| echo: false
p1 = diamonds_fct |>
  ggplot() + aes(x = color) + geom_bar() + coord_flip() +
  theme_minimal(base_size = 16)
p2 = mpg_fct |>
  ggplot() + aes(fl, cty, fill = fl) +
  geom_dotplot(binaxis = "y", stackdir = "center", binwidth = 0.5, stroke = 0) +
  theme_minimal(base_size = 16) +
  theme(legend.position = "none")
cowplot::plot_grid(p1, p2, nrow = 1L)
```

---
## factorã§é †åºã‚’å¤‰ãˆã¦ä½œå›³ã™ã‚‹ç·´ç¿’

ğŸ”° `mpg` ã§æ¬¡ã®ã‚ˆã†ãªå›³ã‚’æã„ã¦ã¿ã‚ˆã†

```{r, plot-factor}
#| echo: false
#| fig.width: 5
#| fig.height: 5
mpg |>
  dplyr::mutate(drv = forcats::fct_relevel(drv, "f", "r", "4")) |>
  dplyr::mutate(class = forcats::fct_rev(forcats::fct_infreq(class))) |>
  ggplot() +
  aes(class) +
  geom_bar(aes(fill = drv)) +
  coord_flip() +
  theme_classic(base_size = 18) +
  theme(panel.grid = element_blank(), axis.title.y = element_blank(),
        axis.line.y = element_blank(), axis.ticks.y = element_blank(),
        legend.position = "top")
```

---
## æŒ‡ç¤ºå¤‰æ•°(ãƒ€ãƒŸãƒ¼å¤‰æ•°)ã«å¤‰æ›

ã‚¤ãƒã‚¼ãƒ­ã®å€¤ã‚’æŒãŸã›ã¦æ¨ªåºƒã«å¤‰å½¢ã™ã‚‹ã®ã¨ç­‰ä¾¡ã€‚

```{r, dummy}
iris |> tibble::rowid_to_column() |>
  dplyr::mutate(value = 1L) |>
  tidyr::pivot_wider(names_from = Species,
                     values_from = value, values_fill = 0L)
```

ğŸ”° ã“ã‚Œã‚’å…ƒã® `iris` ã«æˆ»ã—ã¦ã¿ã‚ˆã†


---
## æ—¥æ™‚å‹: POSIXct, POSIXlt

- POSIXct: ã‚¨ãƒãƒƒã‚¯ã‹ã‚‰ã®çµŒéç§’æ•°ã€‚æ¯”è¼ƒã‚„å·®åˆ†ãªã©ã‚’å–ã‚Šã‚„ã™ã„ã€‚
- POSIXlt: list(ç§’, åˆ†, æ™‚, æ—¥, æœˆ, å¹´, ...)ã€‚å˜ä½ã”ã¨ã«æŠœãå‡ºã—ã‚„ã™ã„ã€‚

```{r, datetime}
now = "2024-04-10 14:10:00"
ct = as.POSIXct(now)
unclass(ct)
lt = as.POSIXlt(now)
unclass(lt) |> as_tibble()
```

ç´ ã®Rã§ã‚‚æ‰±ãˆã‚‹ã‘ã© lubridate ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã¨ã‚‚ã£ã¨æ¥½ã«ã€‚

---
## lubridate --- æ—¥æ™‚å‹å‡¦ç†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

<a href="https://lubridate.tidyverse.org/">
<img src="/_img/hex-stickers/lubridate.webp" width="180" align="right">
</a>

æ—¥æ™‚å‹ã¸ã®å¤‰æ›:
```{r, lubridate-parse}
lubridate::ymd(c("20240410", "2024-04-10", "24/04/10"))
```

æ—¥æ™‚å‹ã‹ã‚‰å˜ä½ã”ã¨ã«å€¤ã‚’å–å¾—:
```{r, lubridate-get}
today = lubridate::ymd(20230412)
lubridate::month(today)
lubridate::wday(today, label = TRUE)
```

---
## ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç† | ã¾ã¨ã‚

<div style="float: right;">
<a href="https://stringr.tidyverse.org/">
<img src="/_img/hex-stickers/stringr.webp" width="180">
</a><br>
<a href="https://forcats.tidyverse.org/">
<img src="/_img/hex-stickers/forcats.webp" width="180">
</a><br>
<a href="https://lubridate.tidyverse.org/">
<img src="/_img/hex-stickers/lubridate.webp" width="180">
</a><br>
</div>

- æ­£è¦åŒ–ãƒ»æ¬ æå€¤å‡¦ç†ã¯ç›®çš„ã«å¿œã˜ã¦æ¤œè¨
- vectorã«ã¯**å‹**ãŒã‚ã‚‹: æ–‡å­—åˆ—ã€æ•°å€¤ã€å› å­ã€æ—¥æ™‚ã€etc.
- æ–‡å­—åˆ—ã‚’æ‰±ã†ã«ã¯ [stringr](https://stringr.tidyverse.org/)
    - **æ­£è¦è¡¨ç¾**ã¯ä¸€åº¦ç¿’å¾—ã™ã‚Œã°è¶…å¼·åŠ›
- å› å­ã‚’æ‰±ã†ã«ã¯ [forcats](https://forcats.tidyverse.org/)
    - çŸ¥ã£ã¦ãŠãã¨ãŸã¾ã«ä¾¿åˆ©ã€‚è‹¦æ‰‹ãªã‚‰å…¨éƒ¨æ–‡å­—åˆ—ã«ã—ã¦ã‚‚ã„ã„ã€‚
- æ—¥æ™‚ã‚’æ‰±ã†ã«ã¯ [lubridate](https://lubridate.tidyverse.org/)

å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®[ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ.pdf](https://www.rstudio.com/resources/cheatsheets/)ã‚’æ‰‹å…ƒã«æŒã£ã¦ãŠãã¨ä¾¿åˆ©ã€‚


---
## å‰å‡¦ç†ã«å¿…è¦ãªé“å…·ã¯ã ã„ãŸã„æƒã£ãŸ

<div style="float: right;">
<a href="https://dplyr.tidyverse.org/">
<img src="/_img/hex-stickers/dplyr.webp" width="180">
</a><br>
<a href="https://tidyr.tidyverse.org/">
<img src="/_img/hex-stickers/tidyr.webp" width="180">
</a><br>
<a href="https://stringr.tidyverse.org/">
<img src="/_img/hex-stickers/stringr.webp" width="180">
</a>
</div>

- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç† â€” ç¬¬3, 4å›
    - ä½¿ã„ãŸã„éƒ¨åˆ†ã ã‘æŠ½å‡º --- `select()`, `filter()`
    - ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ç‰¹å¾´ã‚’è¦ç´„ --- `group_by()`, `summarize()`
    - ä½•ã‹ã®é †ã«ä¸¦ã¹æ›¿ãˆ --- `arrange()`, `relocate()`
    - ç•°ãªã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆ --- `*_join()`
    - å¤‰å½¢: ç¸¦é•· â†” æ¨ªåºƒ --- `pivot_longer()`, `pivot_wider()`
- **ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç†** â€” ğŸ‘ˆ ç¬¬5å› æœ¬æ—¥ã®è©±é¡Œ
    - æ•°å€¤ã®å¤‰æ›: å¯¾æ•°ã€æ­£è¦åŒ–
    - å¤–ã‚Œå€¤ãƒ»æ¬ æå€¤ã¸ã®å¯¾å‡¦
    - å‹å¤‰æ›: é€£ç¶šå¤‰æ•°ã€ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«å¤‰æ•°ã€æŒ‡ç¤ºå¤‰æ•°ã€å› å­ã€æ—¥æ™‚
    - æ–‡å­—åˆ—å‡¦ç†: æ­£è¦è¡¨ç¾ã«ã‚ˆã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ

<cite style="display: block; text-align: right;"><a href="https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=heavywatal-22&linkId=8a3fd4e9a0c944b1b41242bbab8d147b">
æœ¬æ©‹æ™ºå…‰ã€Œå‰å‡¦ç†å¤§å…¨ã€
</a></cite>


---
## ğŸ”° 3æ—¥ç›®ã®èª²é¡Œ1: çµ„ã¿è¾¼ã¿ãƒ‡ãƒ¼ã‚¿ã‚’ã„ã˜ãã‚Šå€’ã—ã¦ã¿ã‚ˆã†

<div style="float: right;">
<a href="https://dplyr.tidyverse.org/">
<img src="/_img/hex-stickers/dplyr.webp" width="180">
</a><br>
<a href="https://tidyr.tidyverse.org/">
<img src="/_img/hex-stickers/tidyr.webp" width="180">
</a><br>
<a href="https://forcats.tidyverse.org/">
<img src="/_img/hex-stickers/forcats.webp" width="180">
</a><br>
<a href="https://lubridate.tidyverse.org/">
<img src="/_img/hex-stickers/lubridate.webp" width="180">
</a><br>
</div>

- ãƒ‡ãƒ¼ã‚¿ã‚’1äºº1ã¤é¸ã³ã€ä½œå›³ã—ã¦èª­ã¿å–ã‚Œã‚‹ã“ã¨ã‚’ä¸€è¨€ã€‚
- å‰å‡¦ç†ã§ã„ã‚ã„ã‚ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ»é–¢æ•°ã‚’é§†ä½¿ã™ã‚‹ã»ã©è‰¯ã„ã€‚

```r
dplyr::storms
dplyr::starwars
tidyr::billboard
tidyr::cms_patient_experience
tidyr::cms_patient_care
tidyr::relig_income
tidyr::us_rent_income
tidyr::who
tidyr::population
tidyr::world_bank_pop
forcats::gss_cat
lubridate::lakers
ggplot2::midwest
ggplot2::msleep
ggplot2::txhousing
```


---
## Reference

R for Data Science --- Hadley Wickham et al.
: <https://r4ds.hadley.nz>,
  [Paperback](https://amzn.to/4cpL6w8),
  [æ—¥æœ¬èªç‰ˆæ›¸ç±](https://amzn.to/2yyFRKt)

[å‰å‡¦ç†å¤§å…¨ --- æœ¬æ©‹æ™ºå…‰](https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=heavywatal-22&linkId=8a3fd4e9a0c944b1b41242bbab8d147b)<br>
[Rãƒ¦ãƒ¼ã‚¶ã®ãŸã‚ã®RStudio[å®Ÿè·µ]å…¥é–€ (å®‡å®™èˆ¹æœ¬) --- æ¾æ‘ã‚‰](https://amzn.to/2Yy5LND)

Official documents:
: [tidyverse](https://www.tidyverse.org/),
  [dplyr](https://dplyr.tidyverse.org/),
  [tidyr](https://tidyr.tidyverse.org/),
  [stringr](https://stringr.tidyverse.org/),
  [forcats](https://forcats.tidyverse.org/),
  [lubridate](https://lubridate.tidyverse.org/)

Older versions
: ã€Œ[Rã«ã‚„ã‚‰ã›ã¦æ¥½ã—ã‚ˆã† â€” ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã¨ä¸‹ã”ã—ã‚‰ãˆ](https://heavywatal.github.io/slides/nagoya2018/)ã€
   å²©åµœèˆª 2018
: ã€ŒRã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨ã€çŸ³å·ç”±å¸Œ 2019 åå¤å±‹å¤§å­¦
: ã€Œ[Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’](https://heavywatal.github.io/slides/tmd2022/)ã€
   å²©åµœèˆª 2022 æ±äº¬åŒ»ç§‘æ­¯ç§‘å¤§
: ã€Œ[Rã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨](https://comicalcommet.github.io/r-training-2023/)ã€
   çŸ³å·ç”±å¸Œ 2023 åå¤å±‹å¤§å­¦

`r .meta$next_link`
