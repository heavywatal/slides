<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<title>4. ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†2: çµåˆã€å¤‰å½¢ãªã© â€” Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’ 2020</title>
<link rel="stylesheet" href="/slides/lib/reveal.js/reveal.css">
<link rel="stylesheet" href="/slides/css/theme-reveal.css">
<meta name="author" content="Watal M. Iwasaki">
<meta property="og:title" content="4. ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†2: çµåˆã€å¤‰å½¢ãªã© â€” Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’ 2020">
<meta property="og:type" content="article">
<meta property="og:url" content="https://heavywatal.github.io/slides/tmd2020/4-structure2.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/heavywatal">
<meta property="og:description" content="">
<meta property="og:site_name" content="Slide decks â€” Heavy Watal">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@heavywatal">
<meta name="twitter:creator" content="@heavywatal">
<meta name="generator" content="Hugo 0.110.0">
<link rel="stylesheet" href="/lib/katex/katex.min.css">
<script defer src="/lib/katex/katex.min.js"></script>
<script defer src="/lib/katex/contrib/auto-render.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  renderMathInElement(document.body, {
    delimiters: [
      {left: "\\[", right: "\\]", display: true},
      {left: "$", right: "$", display: false}
    ]
  });
});
</script>
<style>
.katex {
  font-size: 1.12em;
}

.katex-display > .katex {
  text-align: left;
  padding-left: 2rem;
}
</style>

<script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-V60H2JH0G6"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-V60H2JH0G6', { 'anonymize_ip': false });
}
</script>

</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<link rel="stylesheet" href="style.css">
<h1 id="rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’2020"><a href=".">Rã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†å®Ÿç¿’2020</a></h1>
<div class="author">
å²©åµœ èˆª (Watal M. Iwasaki, PhD)
</div>
<div class="affiliation">
æ±åŒ—å¤§å­¦ ç”Ÿå‘½ç§‘å­¦ç ”ç©¶ç§‘ é€²åŒ–ã‚²ãƒãƒŸã‚¯ã‚¹åˆ†é‡ ç‰¹ä»»åŠ©æ•™<br>
(Graduate School of Life Sciences, Tohoku University)
</div>
<ol>
<li><a href="1-introduction.html">å…¥é–€1: å‰å‡¦ç†ã¨ã¯ã€‚Rã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆã€‚Rã®åŸºæœ¬ã€‚</a>
<li><a href="2-visualization.html">å…¥é–€2: ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®é‡è¦æ€§ã¨æ–¹æ³•ã€‚</a>
<li><a href="3-structure1.html">ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†1: æŠ½å‡ºã€é›†ç´„ãªã©ã€‚</a>
<li class="current-deck"><a href="4-structure2.html">ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å‡¦ç†2: çµåˆã€å¤‰å½¢ãªã©ã€‚</a>
<li><a href="5-content.html">ãƒ‡ãƒ¼ã‚¿å†…å®¹ã®å‡¦ç†: æ•°å€¤ã€æ–‡å­—åˆ—ã€æ—¥æ™‚ãªã©ã€‚</a>
<li><a href="6-practice.html">å®Ÿè·µ: ç¾å®Ÿã®å•é¡Œã«å¯¾å‡¦ã—ã¦ã¿ã‚‹ã€‚</a>
</ol>
<div class="footnote">
2020-10-10 æ±äº¬åŒ»ç§‘æ­¯ç§‘å¤§å­¦ M&Dã‚¿ãƒ¯ãƒ¼ æƒ…å ±æ¤œç´¢å®¤1
<a href="https://heavywatal.github.io/slides/tmd2020/">https://heavywatal.github.io/slides/tmd2020/</a>
</div>

</section>
<section>
<h2 id="å‰å‡¦ç†ã¯å¤§ãã2ã¤ã«åˆ†ã‘ã‚‰ã‚Œã‚‹">å‰å‡¦ç†ã¯å¤§ãã2ã¤ã«åˆ†ã‘ã‚‰ã‚Œã‚‹</h2>
<ul>
<li><strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç†</strong> â€” ç¬¬3, 4å› æœ¬æ—¥ã®è©±é¡Œ
<ul>
<li>ä½¿ã„ãŸã„éƒ¨åˆ†ã ã‘æŠ½å‡º</li>
<li>ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ç‰¹å¾´ã‚’è¦ç´„</li>
<li>ä½•ã‹ã®é †ã«ä¸¦ã¹æ›¿ãˆ</li>
<li><strong>ç•°ãªã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆ</strong> ğŸ‘ˆ ç¬¬4å›ã“ã“ã‹ã‚‰</li>
<li><strong>å¤‰å½¢: ç¸¦é•· â†” æ¨ªåºƒ</strong></li>
</ul>
</li>
<li>ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç† <span style="color: #888888;">â€” ç¬¬5å› æ¥é€±</span>
<ul>
<li>æ•°å€¤ã‚’å¤‰æ›ã™ã‚‹ (e.g., å¯¾æ•°ã€åº§æ¨™ç³»)</li>
<li>å¤‰æ›: é€£ç¶šå¤‰æ•° â†” ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«å¤‰æ•° â†” ãƒ€ãƒŸãƒ¼å¤‰æ•°</li>
<li>å¤–ã‚Œå€¤ãƒ»æ¬ æå€¤ã«å¯¾å‡¦</li>
<li>æ–‡å­—åˆ—ã‹ã‚‰æ•°å€¤ã‚„æ—¥æ™‚ã‚’æŠœãå‡ºã™</li>
</ul>
</li>
</ul>
<p><cite style="display: block; text-align: right;"><a href="https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=heavywatal-22&linkId=8a3fd4e9a0c944b1b41242bbab8d147b">
æœ¬æ©‹æ™ºå…‰ã€Œå‰å‡¦ç†å¤§å…¨ã€
</a></cite>
</section>
<section>
<h2 id="dplyr-----dataframeã®é«˜é€Ÿå‡¦ç†æ‹…å½“">dplyr &mdash; data.frameã®é«˜é€Ÿå‡¦ç†æ‹…å½“</h2>
<a href="https://dplyr.tidyverse.org/">
<img src="/_img/hex-stickers/dplyr.webp" width="120" align="right">
</a>
<p>ã‚·ãƒ³ãƒ—ãƒ«ãªé–¢æ•°ãŒãŸãã•ã‚“ã€‚ç¹‹ã’ã¦ä½¿ã† (piping)</p>
<dl>
<dt>æŠ½å‡º</dt>
<dd>åˆ—: <code>select()</code>,</dd>
<dd>è¡Œ: <code>filter()</code>, <code>distinct()</code>, <code>slice()</code></dd>
<dt>è¦ç´„ãƒ»é›†è¨ˆ</dt>
<dd><code>group_by()</code>, <code>summarize()</code>, <code>count()</code></dd>
<dt>ä¸¦ã¹æ›¿ãˆ</dt>
<dd><code>arrange()</code>, <code>relocate()</code></dd>
<dt>åˆ—ã®è¿½åŠ ãƒ»å¤‰æ›´</dt>
<dd><code>mutate()</code>, <code>rename()</code></dd>
<dt>çµåˆ</dt>
<dd>è¡Œæ–¹å‘: <code>bind_rows()</code></dd>
<dd>åˆ—æ–¹å‘: <code>left_join()</code>, <code>inner_join()</code>, <code>full_join()</code></dd>
</dl>

</section>
<section>
<h2 id="è¡Œã®çµåˆ-bind_rows">è¡Œã®çµåˆ: <code>bind_rows()</code></h2>
<p>ä¾‹ã€‚å…ˆé ­ã¨æœ«å°¾ã‚’6è¡Œãšã¤å–ã£ã¦ã²ã¨ã¤ã®è¡¨ã«çµåˆã™ã‚‹:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">bind_rows</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">diamonds</span><span class="p">),</span> <span class="nf">tail</span><span class="p">(</span><span class="n">diamonds</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code>   carat       cut color clarity depth table price     x     y     z
   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43
 2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31
 3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
 4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63
--                                                                  
 9  0.72      Good     D     SI1  63.1    55  2757  5.69  5.75  3.61
10  0.70 Very Good     D     SI1  62.8    60  2757  5.66  5.68  3.56
11  0.86   Premium     H     SI2  61.0    58  2757  6.15  6.12  3.74
12  0.75     Ideal     D     SI2  62.2    55  2757  5.83  5.87  3.64
</code></pre><p>ğŸ”° <code>mpg</code> ã§åŒæ§˜ã«3è¡Œãšã¤å–ã£ã¦çµåˆã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="å…±é€šã™ã‚‹åˆ—ã§çµåˆ-full_join">å…±é€šã™ã‚‹åˆ—ã§çµåˆ: <code>full_join()</code></h2>
<p>ä»–æ–¹ã«ç„¡ã„éƒ¨åˆ†ã‚’ <code>NA</code> ã§è£œå®Œã—ã¦<strong>å·¦å³ã¨ã‚‚å…¨è¡Œ</strong>ä¿æŒ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">full_join</span><span class="p">(</span><span class="n">band_members</span><span class="p">,</span> <span class="n">band_instruments</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#34;name&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>   name    band  plays
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones   &lt;NA&gt;
2  John Beatles guitar
3  Paul Beatles   bass
4 Keith    &lt;NA&gt; guitar
</code></pre><pre tabindex="0"><code>band_members          band_instruments
   name    band          name  plays
  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones       1  John guitar
2  John Beatles       2  Paul   bass
3  Paul Beatles       3 Keith guitar
</code></pre><p>ğŸ”° ãƒ‘ã‚¤ãƒ—æ¼”ç®—å­ <code>%&gt;%</code> ã‚’ä½¿ã£ã¦åŒã˜å‡¦ç†ã‚’ã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="å…±é€šã™ã‚‹åˆ—ã§çµåˆ-full_join">å…±é€šã™ã‚‹åˆ—ã§çµåˆ: <code>full_join()</code></h2>
<p>çµåˆã«ä½¿ã†åˆ—ã®åå‰ãŒé•ã£ã¦ã¦ã‚‚å¤§ä¸ˆå¤«:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">full_join</span><span class="p">(</span><span class="n">band_members</span><span class="p">,</span> <span class="n">band_instruments2</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&#34;artist&#34;</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code>   name    band  plays
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones   &lt;NA&gt;
2  John Beatles guitar
3  Paul Beatles   bass
4 Keith    &lt;NA&gt; guitar
</code></pre><pre tabindex="0"><code>band_members          band_instruments2
   name    band         artist  plays
  &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones       1   John guitar
2  John Beatles       2   Paul   bass
3  Paul Beatles       3  Keith guitar
</code></pre><p>ğŸ”° ãƒ‘ã‚¤ãƒ—æ¼”ç®—å­ <code>%&gt;%</code> ã‚’ä½¿ã£ã¦åŒã˜å‡¦ç†ã‚’ã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="å…±é€šã™ã‚‹åˆ—ã§çµåˆ-left_join">å…±é€šã™ã‚‹åˆ—ã§çµåˆ: <code>left_join()</code></h2>
<p>å³å´ã«ç„¡ã„éƒ¨åˆ†ã‚’ <code>NA</code> ã§è£œå®Œã—ã¦<strong>å·¦å´ã ã‘å…¨è¡Œ</strong>ä¿æŒ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">left_join</span><span class="p">(</span><span class="n">band_members</span><span class="p">,</span> <span class="n">band_instruments</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#34;name&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>   name    band  plays
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones   &lt;NA&gt;
2  John Beatles guitar
3  Paul Beatles   bass
</code></pre><pre tabindex="0"><code>band_members          band_instruments
   name    band          name  plays
  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones       1  John guitar
2  John Beatles       2  Paul   bass
3  Paul Beatles       3 Keith guitar
</code></pre><p>ãã®é€†ã¯ <code>right_join()</code></p>
<p>ğŸ”° ãƒ‘ã‚¤ãƒ—æ¼”ç®—å­ <code>%&gt;%</code> ã‚’ä½¿ã£ã¦åŒã˜å‡¦ç†ã‚’ã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="å…±é€šã™ã‚‹åˆ—ã§çµåˆ-inner_join">å…±é€šã™ã‚‹åˆ—ã§çµåˆ: <code>inner_join()</code></h2>
<p>å·¦å³ã¨ã‚‚ã«<strong>å…±é€šã™ã‚‹å€¤ã®ã‚ã‚‹è¡Œã ã‘</strong>ä¿æŒ:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">inner_join</span><span class="p">(</span><span class="n">band_members</span><span class="p">,</span> <span class="n">band_instruments</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s">&#34;name&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>   name    band  plays
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;
1  John Beatles guitar
2  Paul Beatles   bass
</code></pre><pre tabindex="0"><code>band_members          band_instruments
   name    band          name  plays
  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;
1  Mick  Stones       1  John guitar
2  John Beatles       2  Paul   bass
3  Paul Beatles       3 Keith guitar
</code></pre><p>ğŸ”° ãƒ‘ã‚¤ãƒ—æ¼”ç®—å­ <code>%&gt;%</code> ã‚’ä½¿ã£ã¦åŒã˜å‡¦ç†ã‚’ã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="joinã¾ã¨ã‚">joinã¾ã¨ã‚</h2>
<figure>
<a href="https://r4ds.had.co.nz/relational-data.html#mutating-joins">
<img src="/slides/image/r4ds/join.png" height="550">
<br>
<figcaption class="url">https://r4ds.had.co.nz/relational-data.html#mutating-joins</figcaption>
</a>
</figure>

</section>
<section>
<h2 id="joinä¾‹é¡Œ-nycflights13-ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ">joinä¾‹é¡Œ: <code>nycflights13</code> ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ</h2>
<p>ğŸ”° é–¢é€£ã™ã‚‹data.frameã‚’ã„ã‚ã„ã‚ãªæ–¹æ³•ã§çµåˆã—ã¦ã¿ã‚ˆã†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#34;nycflights13&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">nycflights13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">data</span><span class="p">(</span><span class="n">package</span> <span class="o">=</span> <span class="s">&#34;nycflights13&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># airlines, airports, flights, planes, weather</span>
</span></span></code></pre></div><figure>
<a href="https://r4ds.had.co.nz/relational-data.html#nycflights13-relational">
<img src="/slides/image/r4ds/relational-nycflights.png" height="320">
<br>
<figcaption class="url">https://r4ds.had.co.nz/relational-data.html#nycflights13-relational</figcaption>
</a>
</figure>

</section>
<section>
<h2 id="tidyr-----dataframeã®å¤‰å½¢æ•´å½¢æ‹…å½“">tidyr &mdash; data.frameã®å¤‰å½¢ãƒ»æ•´å½¢æ‹…å½“</h2>
<a href="https://tidyr.tidyverse.org/">
<img src="/_img/hex-stickers/tidyr.webp" width="120" align="right">
</a>
<dl>
<dt>æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«</dt>
<dd><code>pivot_longer()</code>, <strike><code>gather()</code></strike></dd>
<dt>ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«</dt>
<dd><code>pivot_wider()</code>, <strike><code>spread()</code></strike></dd>
<dt>åˆ—ã‚’åˆ†é›¢ã€çµåˆ</dt>
<dd><code>separate()</code>, <code>unite()</code></dd>
<dt>å…¥ã‚Œå­æ§‹é€ ã‚’ã¤ãã‚‹ã€è§£æ¶ˆã™ã‚‹</dt>
<dd><code>nest()</code>, <code>unnest()</code></dd>
</dl>
<p><em>etc.</em>
</section>
<section>
<h2 id="pivot_longer-æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«"><code>pivot_longer()</code> æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«</h2>
<p>è¤‡æ•°åˆ—ã«ã¾ãŸãŒã‚‹å€¤ã‚’1åˆ—ã«ã™ã‚‹ã€‚<br>
ãã®ãƒ©ãƒ™ãƒ«ã‚‚åˆã‚ã›ã¦ç§»å‹•ã€‚</p>
<figure>
<a href="https://r4ds.had.co.nz/tidy-data.html#longer">
<img src="/slides/image/r4ds/tidy-gather.png" width="800">
<br>
<figcaption class="url">https://r4ds.had.co.nz/tidy-data.html#longer</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="pivot_longer-æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«-relig_income-ã®ä¾‹"><code>pivot_longer()</code> æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«: <code>relig_income</code> ã®ä¾‹</h2>
<p>å®—æ•™ã¨åå…¥ã®é–¢ä¿‚ã‚’èª¿æŸ»ã—ãŸãƒ‡ãƒ¼ã‚¿ã€‚<br>
ä¸–å¸¯æ•°ã®ã‚«ã‚¦ãƒ³ãƒˆãŒè¤‡æ•°åˆ—ã«ã¾ãŸãŒã£ã¦ã„ã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">relig_income</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>                religion &lt;$10k $10-20k $20-30k $30-40k $40-50k $50-75k $75-100k $100-150k &gt;150k Don&#39;t know/refused
                   &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;              &lt;dbl&gt;
 1              Agnostic    27      34      60      81      76     137      122       109    84                 96
 2               Atheist    12      27      37      52      35      70       73        59    74                 76
 3              Buddhist    27      21      30      34      33      58       62        39    53                 54
 4              Catholic   418     617     732     670     638    1116      949       792   633               1489
--                                                                                                                
15       Other Christian     9       7      11      13      13      14       18        14    12                 18
16          Other Faiths    20      33      40      46      49      63       46        40    41                 71
17 Other World Religions     5       2       3       4       2       7        3         4     4                  8
18          Unaffiliated   217     299     374     365     341     528      407       321   258                597
</code></pre>
</section>
<section>
<h2 id="pivot_longer-æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«-relig_income-ã®ä¾‹"><code>pivot_longer()</code> æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«: <code>relig_income</code> ã®ä¾‹</h2>
<p>å®—æ•™ã¨åå…¥ã®é–¢ä¿‚ã‚’èª¿æŸ»ã—ãŸãƒ‡ãƒ¼ã‚¿ã€‚<br>
ã“ã†ãªã£ã¦ãŸã‚‰ggplotã§ãã‚‹ã®ã«ã€‚</p>
<div class="column-container">
<div class="column">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">relig_long</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>        religion             income count
           &lt;chr&gt;              &lt;chr&gt; &lt;dbl&gt;
  1     Agnostic              &lt;$10k    27
  2     Agnostic            $10-20k    34
  3     Agnostic            $20-30k    60
  4     Agnostic            $30-40k    81
 --
177 Unaffiliated           $75-100k   407
178 Unaffiliated          $100-150k   321
179 Unaffiliated              &gt;150k   258
180 Unaffiliated Don&#39;t know/refused   597
</code></pre></div>
<div class="column">
<p><img src="figure/relig_income-plot-1.png" alt="plot of chunk relig_income-plot"></p>
</div>
</div>
</section>
<section>
<h2 id="pivot_longer-æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«-relig_income-ã®ä¾‹"><code>pivot_longer()</code> æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«: <code>relig_income</code> ã®ä¾‹</h2>
<p>è¤‡æ•°åˆ—ã«ã¾ãŸãŒã£ã¦ã„ã‚‹ä¸–å¸¯æ•°ã‚«ã‚¦ãƒ³ãƒˆã‚’ <code>count</code> 1åˆ—ã«ç§»å‹•ã€‚<br>
åˆ—åã«ãªã£ã¦ãŸåå…¥å¸¯ã‚’ <code>income</code> åˆ—ã«ç§»å‹•ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">relig_long</span> <span class="o">=</span> <span class="n">relig_income[1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="n">]</span> <span class="o">%&gt;%</span> <span class="nf">print</span><span class="p">()</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="o">!</span><span class="n">religion</span><span class="p">,</span> <span class="n">names_to</span> <span class="o">=</span> <span class="s">&#34;income&#34;</span><span class="p">,</span> <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;count&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>
</span></span></code></pre></div><pre tabindex="0"><code>  religion &lt;$10k $10-20k $20-30k
     &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Agnostic    27      34      60
2  Atheist    12      27      37
  religion  income count
     &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;
1 Agnostic   &lt;$10k    27
2 Agnostic $10-20k    34
3 Agnostic $20-30k    60
4  Atheist   &lt;$10k    12
5  Atheist $10-20k    27
6  Atheist $20-30k    37
</code></pre><p>ç§»å‹•ã™ã‚‹åˆ—ã‚’æŒ‡å®šã™ã‚‹ <code>!religion</code> ã®ã¨ã“ã‚ã¯ç›´æ¥ <code>2:10</code> ã¨ã‹ã‚‚å¯ã€‚</p>

</section>
<section>
<h2 id="pivot_longer-æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«-ç·´ç¿’å•é¡Œ"><code>pivot_longer()</code> æ¨ªåºƒã‹ã‚‰ç¸¦é•·ã«: ç·´ç¿’å•é¡Œ</h2>
<p>ğŸ”° <code>world_bank_pop</code> ã®äººå£ãƒ‡ãƒ¼ã‚¿ã‚’ç¸¦é•·ã«ã—ã¦ã¿ã‚ˆã†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">world_bank_pop</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>     country   indicator         2000         2001         2002         2003         2004         2005          2006          2007          2008          2009          2010         2011         2012         2013         2014         2015         2016         2017
       &lt;chr&gt;       &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
   1     ABW SP.URB.TOTL 4.244400e+04 4.304800e+04 4.367000e+04 4.424600e+04 4.466900e+04 4.488900e+04  4.488100e+04  4.468600e+04  4.437500e+04  4.405200e+04  4.377800e+04 4.382200e+04 4.406400e+04 4.436000e+04 4.467400e+04 4.497900e+04 4.527500e+04 4.557200e+04
   2     ABW SP.URB.GROW 1.182632e+00 1.413021e+00 1.434560e+00 1.310360e+00 9.514777e-01 4.913027e-01 -1.782333e-02 -4.354289e-01 -6.984006e-01 -7.305493e-01 -6.239346e-01 1.004566e-01 5.507148e-01 6.695040e-01 7.053514e-01 6.804037e-01 6.559290e-01 6.538489e-01
   3     ABW SP.POP.TOTL 9.085300e+04 9.289800e+04 9.499200e+04 9.701700e+04 9.873700e+04 1.000310e+05  1.008320e+05  1.012200e+05  1.013530e+05  1.014530e+05  1.016690e+05 1.020530e+05 1.025770e+05 1.031870e+05 1.037950e+05 1.043410e+05 1.048220e+05 1.052640e+05
   4     ABW SP.POP.GROW 2.055027e+00 2.225930e+00 2.229056e+00 2.109354e+00 1.757353e+00 1.302039e+00  7.975628e-01  3.840600e-01  1.313107e-01  9.861642e-02  2.126801e-01 3.769848e-01 5.121450e-01 5.929140e-01 5.874924e-01 5.246582e-01 4.599292e-01 4.207807e-01
  --                                                                                                                                                                                                                                                                   
1053     ZWE SP.URB.TOTL 4.125987e+06 4.225519e+06 4.323307e+06 4.356041e+06 4.381920e+06 4.413845e+06  4.452539e+06  4.497911e+06  4.550222e+06  4.609702e+06  4.676094e+06 4.749752e+06 4.830153e+06 4.915898e+06 5.009411e+06 5.109528e+06 5.215921e+06 5.328745e+06
1054     ZWE SP.URB.GROW 2.523735e+00 2.383683e+00 2.287853e+00 7.542999e-01 5.923367e-01 7.259207e-01  8.728304e-01  1.013857e+00  1.156296e+00  1.298719e+00  1.429993e+00 1.562926e+00 1.678574e+00 1.759630e+00 1.884390e+00 1.978869e+00 2.060865e+00 2.140007e+00
1055     ZWE SP.POP.TOTL 1.222225e+07 1.236616e+07 1.250052e+07 1.263390e+07 1.277751e+07 1.294003e+07  1.312427e+07  1.332991e+07  1.355847e+07  1.381060e+07  1.408632e+07 1.438665e+07 1.471083e+07 1.505451e+07 1.541168e+07 1.577745e+07 1.615036e+07 1.652990e+07
1056     ZWE SP.POP.GROW 1.298782e+00 1.170597e+00 1.080653e+00 1.061280e+00 1.130323e+00 1.263909e+00  1.413720e+00  1.554735e+00  1.700106e+00  1.842497e+00  1.976756e+00 2.109672e+00 2.228306e+00 2.309366e+00 2.344799e+00 2.345643e+00 2.336070e+00 2.322864e+00
</code></pre>
</section>
<section>
<h2 id="pivot_wider-ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«"><code>pivot_wider()</code> ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«</h2>
<p>1åˆ—ã«åã¾ã£ã¦ã„ãŸå€¤ã‚’è¤‡æ•°åˆ—ã®è¡Œåˆ—ã«å¤‰æ›ã€‚<br>
ãã®ãƒ©ãƒ™ãƒ«ã‚’åˆ—ã®åå‰ã«ã™ã‚‹ã€‚</p>
<figure>
<a href="https://r4ds.had.co.nz/tidy-data.html#wider">
<img src="/slides/image/r4ds/tidy-spread.png" height="480">
<br>
<figcaption class="url">https://r4ds.had.co.nz/tidy-data.html#wider</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="pivot_wider-ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«-fish_encounters"><code>pivot_wider()</code> ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«: <code>fish_encounters</code></h2>
<p>ç™ºä¿¡å™¨ã®ã¤ã„ãŸé­šãŒè¦³æ¸¬åœ°ç‚¹ã‚’é€šéã—ãŸã“ã¨ã‚’è¨˜éŒ²ã—ãŸãƒ‡ãƒ¼ã‚¿ã€‚<br>
æ—¢ã«ggplotã—ã‚„ã™ãã†ãªå½¢ã ã‘ã©ã€ã‚ãˆã¦1é­š1è¡Œã®æ¨ªåºƒã«ã—ãŸã„ã€‚</p>
<div class="column-container">
<div class="column">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">fish_encounters</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>     fish station  seen
    &lt;fct&gt;   &lt;fct&gt; &lt;int&gt;
  1  4842 Release     1
  2  4842   I80_1     1
  3  4842  Lisbon     1
  4  4842    Rstr     1
 --                    
111  4864   I80_1     1
112  4865 Release     1
113  4865   I80_1     1
114  4865  Lisbon     1
</code></pre></div>
<div class="column">
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">fish_wide</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>    fish Release I80_1 Lisbon  Rstr Base_TD   BCE   BCW  BCE2  BCW2   MAE   MAW
   &lt;fct&gt;   &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;int&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1  4842       1     1      1     1       1     1     1     1     1     1     1
 2  4843       1     1      1     1       1     1     1     1     1     1     1
 3  4844       1     1      1     1       1     1     1     1     1     1     1
 4  4845       1     1      1     1       1    NA    NA    NA    NA    NA    NA
--                                                                             
16  4862       1     1      1     1       1     1     1     1     1    NA    NA
17  4863       1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA
18  4864       1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA
19  4865       1     1      1    NA      NA    NA    NA    NA    NA    NA    NA
</code></pre></div>
</div>
</section>
<section>
<h2 id="pivot_wider-ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«-fish_encounters"><code>pivot_wider()</code> ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«: <code>fish_encounters</code></h2>
<p>è¦³æ¸¬åœ°ç‚¹ <code>station</code> ã‚’åˆ—åã«ç§»å‹•ã€‚<br>
è¦³å¯Ÿã•ã‚ŒãŸã‹ã©ã†ã‹ <code>seen</code> ã‚’å„åˆ—ã«ç§»å‹•ã€‚å­˜åœ¨ã—ãªã‘ã‚Œã° <code>NA</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">fish_encounters</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_wider</span><span class="p">(</span><span class="n">names_from</span> <span class="o">=</span> <span class="n">station</span><span class="p">,</span> <span class="n">values_from</span> <span class="o">=</span> <span class="n">seen</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>    fish Release I80_1 Lisbon  Rstr Base_TD   BCE   BCW  BCE2  BCW2   MAE   MAW
   &lt;fct&gt;   &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;int&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1  4842       1     1      1     1       1     1     1     1     1     1     1
 2  4843       1     1      1     1       1     1     1     1     1     1     1
 3  4844       1     1      1     1       1     1     1     1     1     1     1
 4  4845       1     1      1     1       1    NA    NA    NA    NA    NA    NA
--                                                                             
16  4862       1     1      1     1       1     1     1     1     1    NA    NA
17  4863       1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA
18  4864       1     1     NA    NA      NA    NA    NA    NA    NA    NA    NA
19  4865       1     1      1    NA      NA    NA    NA    NA    NA    NA    NA
</code></pre><p><code>values_fill = 0</code> ã¨ã™ã‚Œã° <code>NA</code> ã˜ã‚ƒãªã <code>0</code> ã§åŸ‹ã‚ã‚‰ã‚Œã‚‹ã€‚</p>

</section>
<section>
<h2 id="pivot_wider-ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«-ç·´ç¿’å•é¡Œ"><code>pivot_wider()</code> ç¸¦é•·ã‹ã‚‰æ¨ªåºƒã«: ç·´ç¿’å•é¡Œ</h2>
<p>ğŸ”° <code>population</code> ã§1å¹´ã®ãƒ‡ãƒ¼ã‚¿ãŒ1è¡Œã«ãªã‚‹ã‚ˆã†ã«å¤‰å½¢ã—ã‚ˆã†<br>
ğŸ”° <code>population</code> ã§1å›½ã®ãƒ‡ãƒ¼ã‚¿ãŒ1è¡Œã«ãªã‚‹ã‚ˆã†ã«å¤‰å½¢ã—ã‚ˆã†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>         country  year population
           &lt;chr&gt; &lt;int&gt;      &lt;int&gt;
   1 Afghanistan  1995   17586073
   2 Afghanistan  1996   18415307
   3 Afghanistan  1997   19021226
   4 Afghanistan  1998   19496836
  --                             
4057    Zimbabwe  2010   13076978
4058    Zimbabwe  2011   13358738
4059    Zimbabwe  2012   13724317
4060    Zimbabwe  2013   14149648
</code></pre><p>ğŸ”° <code>us_rent_income</code> ã§ <code>income</code> ã¨ <code>rent</code> ã®æ¨å®šå€¤ãŒãã‚Œãã‚Œåˆ—ã¨ãªã‚‹ã‚ˆã†ã«å¤‰å½¢ã—ã‚ˆã†</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">us_rent_income</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>    GEOID        NAME variable estimate   moe
    &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
  1    01     Alabama   income    24476   136
  2    01     Alabama     rent      747     3
  3    02      Alaska   income    32940   508
  4    02      Alaska     rent     1200    13
 --                                          
101    56     Wyoming   income    30854   342
102    56     Wyoming     rent      828    11
103    72 Puerto Rico   income       NA    NA
104    72 Puerto Rico     rent      464     6
</code></pre>
</section>
<section>
<h2 id="separate-åˆ—ã‚’åˆ†é›¢"><code>separate()</code> åˆ—ã‚’åˆ†é›¢</h2>
<figure>
<a href="https://r4ds.had.co.nz/tidy-data.html#separate">
<img src="/slides/image/r4ds/tidy-separate.png" width="800">
<br>
<figcaption class="url">https://r4ds.had.co.nz/tidy-data.html#separate</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="separate-åˆ—ã‚’åˆ†é›¢-table3"><code>separate()</code> åˆ—ã‚’åˆ†é›¢: <code>table3</code></h2>
<p><a href="https://r4ds.had.co.nz/tidy-data.html#separate">R for Data Science</a>
ã«ç™»å ´ã™ã‚‹ãŠè©¦ã—ãƒ‡ãƒ¼ã‚¿ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">table3</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      country  year              rate
        &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;
1 Afghanistan  1999      745/19987071
2 Afghanistan  2000     2666/20595360
3      Brazil  1999   37737/172006362
4      Brazil  2000   80488/174504898
5       China  1999 212258/1272915272
6       China  2000 213766/1280428583
</code></pre>
</section>
<section>
<h2 id="separate-åˆ—ã‚’åˆ†é›¢-table3"><code>separate()</code> åˆ—ã‚’åˆ†é›¢: <code>table3</code></h2>
<p><a href="https://r4ds.had.co.nz/tidy-data.html#separate">R for Data Science</a>
ã«ç™»å ´ã™ã‚‹ãŠè©¦ã—ãƒ‡ãƒ¼ã‚¿ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">table3</span> <span class="o">%&gt;%</span> <span class="nf">separate</span><span class="p">(</span><span class="n">rate</span><span class="p">,</span> <span class="n">into</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;cases&#34;</span><span class="p">,</span> <span class="s">&#34;population&#34;</span><span class="p">),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#34;/&#34;</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      country  year  cases population
        &lt;chr&gt; &lt;int&gt;  &lt;chr&gt;      &lt;chr&gt;
1 Afghanistan  1999    745   19987071
2 Afghanistan  2000   2666   20595360
3      Brazil  1999  37737  172006362
4      Brazil  2000  80488  174504898
5       China  1999 212258 1272915272
6       China  2000 213766 1280428583
</code></pre><p><code>sep</code> ã¯æŒ‡å®šã—ãªãã¦ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è¨˜å·ã‚„ç©ºç™½ã‚’èªè­˜ã—ã¦ãã‚Œã‚‹ã€‚</p>

</section>
<section>
<h2 id="unite-åˆ—ã‚’èåˆ"><code>unite()</code> åˆ—ã‚’èåˆ</h2>
<figure>
<a href="https://r4ds.had.co.nz/tidy-data.html#unite">
<img src="/slides/image/r4ds/tidy-unite.png" width="800">
<br>
<figcaption class="url">https://r4ds.had.co.nz/tidy-data.html#unite</figcaption>
</a>
</figure>
</section>
<section>
<h2 id="unite-åˆ—ã‚’èåˆ-table5"><code>unite()</code> åˆ—ã‚’èåˆ: <code>table5</code></h2>
<p><a href="https://r4ds.had.co.nz/tidy-data.html#unite">R for Data Science</a>
ã«ç™»å ´ã™ã‚‹ãŠè©¦ã—ãƒ‡ãƒ¼ã‚¿ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">table5</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      country century  year              rate
        &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;             &lt;chr&gt;
1 Afghanistan      19    99      745/19987071
2 Afghanistan      20    00     2666/20595360
3      Brazil      19    99   37737/172006362
4      Brazil      20    00   80488/174504898
5       China      19    99 212258/1272915272
6       China      20    00 213766/1280428583
</code></pre>
</section>
<section>
<h2 id="unite-åˆ—ã‚’èåˆ-table5"><code>unite()</code> åˆ—ã‚’èåˆ: <code>table5</code></h2>
<p><a href="https://r4ds.had.co.nz/tidy-data.html#unite">R for Data Science</a>
ã«ç™»å ´ã™ã‚‹ãŠè©¦ã—ãƒ‡ãƒ¼ã‚¿ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">table5</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">unite</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">century</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">mutate</span><span class="p">(</span><span class="n">year</span> <span class="o">=</span> <span class="nf">as.integer</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code>      country  year              rate
        &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;
1 Afghanistan  1999      745/19987071
2 Afghanistan  2000     2666/20595360
3      Brazil  1999   37737/172006362
4      Brazil  2000   80488/174504898
5       China  1999 212258/1272915272
6       China  2000 213766/1280428583
</code></pre><p>çµåˆç›´å¾Œã¯æ–‡å­—åˆ—ã«ãªã£ã¦ã„ã‚‹ã®ã§æ•°å€¤ãªã‚‰å¿˜ã‚Œãšã«å¤‰æ›ã€‚<br>
ã“ã†ã—ãŸãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç†ã«ã¤ã„ã¦ã¯ã€æ¥é€±ãã‚ã—ãã€‚</p>

</section>
<section>
<h2 id="separate--unite-ç·´ç¿’å•é¡Œ"><code>separate()</code> / <code>unite()</code> ç·´ç¿’å•é¡Œ</h2>
<p>ğŸ”° <code>table3</code> ã® <code>rate</code> ã‚’åˆ†å‰²ã—ãŸã‚ã¨ã€ã¾ãŸå…ƒã«æˆ»ã—ã¦ã¿ã‚ˆã†ã€‚</p>
<p>ğŸ”° <code>table3</code> ã® <code>year</code> ã‚’åˆ†å‰²ã—ã¦ <code>table5</code> ã‚’ä½œã£ã¦ã¿ã‚ˆã†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">table3</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      country  year              rate
        &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;
1 Afghanistan  1999      745/19987071
2 Afghanistan  2000     2666/20595360
3      Brazil  1999   37737/172006362
4      Brazil  2000   80488/174504898
5       China  1999 212258/1272915272
6       China  2000 213766/1280428583
</code></pre><p>ğŸ”° <code>world_bank_pop</code> ã® <code>indicator</code> ã‚’3åˆ—ã«åˆ†å‰²ã—ã¦ã¿ã‚ˆã†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">world_bank_pop</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>     country   indicator         2000         2001         2002         2003         2004         2005          2006          2007          2008          2009          2010         2011         2012         2013         2014         2015         2016         2017
       &lt;chr&gt;       &lt;chr&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
   1     ABW SP.URB.TOTL 4.244400e+04 4.304800e+04 4.367000e+04 4.424600e+04 4.466900e+04 4.488900e+04  4.488100e+04  4.468600e+04  4.437500e+04  4.405200e+04  4.377800e+04 4.382200e+04 4.406400e+04 4.436000e+04 4.467400e+04 4.497900e+04 4.527500e+04 4.557200e+04
   2     ABW SP.URB.GROW 1.182632e+00 1.413021e+00 1.434560e+00 1.310360e+00 9.514777e-01 4.913027e-01 -1.782333e-02 -4.354289e-01 -6.984006e-01 -7.305493e-01 -6.239346e-01 1.004566e-01 5.507148e-01 6.695040e-01 7.053514e-01 6.804037e-01 6.559290e-01 6.538489e-01
   3     ABW SP.POP.TOTL 9.085300e+04 9.289800e+04 9.499200e+04 9.701700e+04 9.873700e+04 1.000310e+05  1.008320e+05  1.012200e+05  1.013530e+05  1.014530e+05  1.016690e+05 1.020530e+05 1.025770e+05 1.031870e+05 1.037950e+05 1.043410e+05 1.048220e+05 1.052640e+05
   4     ABW SP.POP.GROW 2.055027e+00 2.225930e+00 2.229056e+00 2.109354e+00 1.757353e+00 1.302039e+00  7.975628e-01  3.840600e-01  1.313107e-01  9.861642e-02  2.126801e-01 3.769848e-01 5.121450e-01 5.929140e-01 5.874924e-01 5.246582e-01 4.599292e-01 4.207807e-01
  --                                                                                                                                                                                                                                                                   
1053     ZWE SP.URB.TOTL 4.125987e+06 4.225519e+06 4.323307e+06 4.356041e+06 4.381920e+06 4.413845e+06  4.452539e+06  4.497911e+06  4.550222e+06  4.609702e+06  4.676094e+06 4.749752e+06 4.830153e+06 4.915898e+06 5.009411e+06 5.109528e+06 5.215921e+06 5.328745e+06
1054     ZWE SP.URB.GROW 2.523735e+00 2.383683e+00 2.287853e+00 7.542999e-01 5.923367e-01 7.259207e-01  8.728304e-01  1.013857e+00  1.156296e+00  1.298719e+00  1.429993e+00 1.562926e+00 1.678574e+00 1.759630e+00 1.884390e+00 1.978869e+00 2.060865e+00 2.140007e+00
1055     ZWE SP.POP.TOTL 1.222225e+07 1.236616e+07 1.250052e+07 1.263390e+07 1.277751e+07 1.294003e+07  1.312427e+07  1.332991e+07  1.355847e+07  1.381060e+07  1.408632e+07 1.438665e+07 1.471083e+07 1.505451e+07 1.541168e+07 1.577745e+07 1.615036e+07 1.652990e+07
1056     ZWE SP.POP.GROW 1.298782e+00 1.170597e+00 1.080653e+00 1.061280e+00 1.130323e+00 1.263909e+00  1.413720e+00  1.554735e+00  1.700106e+00  1.842497e+00  1.976756e+00 2.109672e+00 2.228306e+00 2.309366e+00 2.344799e+00 2.345643e+00 2.336070e+00 2.322864e+00
</code></pre>
</section>
<section>
<h2 id="nest-å…¥ã‚Œå­ã«ã™ã‚‹"><code>nest()</code> å…¥ã‚Œå­ã«ã™ã‚‹</h2>
<p>ã‚°ãƒ«ãƒ¼ãƒ—æ¯ã«data.frameã‚’åŒºåˆ‡ã£ã¦listå‹ã®åˆ—ã«å…¥ã‚Œã‚‹ã€‚</p>
<figure>
<a href="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/">
<img src="/slides/image/rstats/nest-pack-chop.png" height="400">
<br>
<figcaption class="url">https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/</figcaption>
</a>
</figure>
<div>
<a href="https://purrr.tidyverse.org/">
<img src="/_img/hex-stickers/purrr.webp" width="80" style="vertical-align: middle;">
purrrãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>ã¨å…±ã«æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã¨å¼·åŠ› (ä»Šå›ã¯ç´¹ä»‹ã ã‘)
</div>
</section>
<section>
<h2 id="nest-å…¥ã‚Œå­ã«ã™ã‚‹"><code>nest()</code> å…¥ã‚Œå­ã«ã™ã‚‹</h2>
<p>ã‚°ãƒ«ãƒ¼ãƒ—æ¯ã«data.frameã‚’åŒºåˆ‡ã£ã¦listå‹ã®åˆ—ã«å…¥ã‚Œã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">mpg_nested</span> <span class="o">=</span> <span class="n">mpg</span> <span class="o">%&gt;%</span> <span class="nf">nest</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="o">-</span><span class="n">drv</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">print</span><span class="p">()</span>
</span></span></code></pre></div><pre tabindex="0"><code>    drv                data
  &lt;chr&gt;              &lt;list&gt;
1     f &lt;tbl_df [106 x 10]&gt;
2     4 &lt;tbl_df [103 x 10]&gt;
3     r  &lt;tbl_df [25 x 10]&gt;
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">mpg_nested</span><span class="o">$</span><span class="n">data[[1]]</span>
</span></span></code></pre></div><pre tabindex="0"><code>    manufacturer  model displ  year   cyl      trans   cty   hwy    fl   class
           &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;
  1         audi     a4   1.8  1999     4   auto(l5)    18    29     p compact
  2         audi     a4   1.8  1999     4 manual(m5)    21    29     p compact
  3         audi     a4   2.0  2008     4 manual(m6)    20    31     p compact
  4         audi     a4   2.0  2008     4   auto(av)    21    30     p compact
 --                                                                           
103   volkswagen passat   2.0  2008     4 manual(m6)    21    29     p midsize
104   volkswagen passat   2.8  1999     6   auto(l5)    16    26     p midsize
105   volkswagen passat   2.8  1999     6 manual(m5)    18    26     p midsize
106   volkswagen passat   3.6  2008     6   auto(s6)    17    26     p midsize
</code></pre>
</section>
<section>
<h2 id="å°‘ã—å‰ã«å‡ºã¦ããŸã“ã‚Œãã‚ãã‚ã§ãã‚‹ã®ã§ã¯">å°‘ã—å‰ã«å‡ºã¦ããŸã“ã‚Œã€ãã‚ãã‚ã§ãã‚‹ã®ã§ã¯</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>      Rural Male Rural Female Urban Male Urban Female
50-54       11.7          8.7       15.4          8.4
55-59       18.1         11.7       24.3         13.6
60-64       26.9         20.3       37.0         19.3
65-69       41.0         30.9       54.6         35.1
70-74       66.0         54.3       71.1         50.0
</code></pre><p>â†“ ä¸‹ã”ã—ã‚‰ãˆ: ä½œå›³ãƒ»è§£æã§ä½¿ã„ã‚„ã™ã„æ•´ç„¶ãƒ‡ãƒ¼ã‚¿ã«</p>
<pre tabindex="0"><code>   lbound ubound region    sex death
    &lt;int&gt;  &lt;int&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;
 1     50     54  Rural   Male  11.7
 2     50     54  Rural Female   8.7
 3     50     54  Urban   Male  15.4
 4     50     54  Urban Female   8.4
--                                  
17     70     74  Rural   Male  66.0
18     70     74  Rural Female  54.3
19     70     74  Urban   Male  71.1
20     70     74  Urban Female  50.0
</code></pre>
</section>
<section>
<h2 id="ã¡ã‚‡ã£ã¨è£œè¶³">ã¡ã‚‡ã£ã¨è£œè¶³</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>[1] &#34;matrix&#34; &#34;array&#34; 
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">rownames</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>[1] &#34;50-54&#34; &#34;55-59&#34; &#34;60-64&#34; &#34;65-69&#34; &#34;70-74&#34;
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">VADeaths</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">as.data.frame</span><span class="p">()</span> <span class="o">%&gt;%</span>            <span class="c1"># dplyr/tidyrã§æ‰±ã†ã®ã¯data.frame</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>  <span class="c1"># è¡Œåã¯æ‰±ã„ã«ãã„ã®ã§æ™®é€šã®åˆ—ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>
</span></span></code></pre></div><pre tabindex="0"><code>    age Rural Male Rural Female Urban Male Urban Female
1 50-54       11.7          8.7       15.4          8.4
2 55-59       18.1         11.7       24.3         13.6
3 60-64       26.9         20.3       37.0         19.3
4 65-69       41.0         30.9       54.6         35.1
5 70-74       66.0         54.3       71.1         50.0
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-ã‚’ç¸¦é•·ã«ã—ã¦ggplotã—ã¦ã¿ã‚ˆã†">ä¾‹é¡Œ: <code>VADeaths</code> ã‚’ç¸¦é•·ã«ã—ã¦ggplotã—ã¦ã¿ã‚ˆã†</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">as.data.frame</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span> <span class="o">%&gt;%</span>              <span class="c1"># data.frameã«å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span>              <span class="c1"># è¡Œåã‚’åˆ—ã«</span>
</span></span></code></pre></div><pre tabindex="0"><code>    age Rural Male Rural Female Urban Male Urban Female
1 50-54       11.7          8.7       15.4          8.4
2 55-59       18.1         11.7       24.3         13.6
3 60-64       26.9         20.3       37.0         19.3
4 65-69       41.0         30.9       54.6         35.1
5 70-74       66.0         54.3       71.1         50.0
</code></pre><img src="figure/vadeaths_plot-1.png" alt="plot of chunk vadeaths_plot">

</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-ã‚’ç¸¦é•·ã«ã—ãŸã„">ä¾‹é¡Œ: <code>VADeaths</code> ã‚’ç¸¦é•·ã«ã—ãŸã„</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">as.data.frame</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span> <span class="o">%&gt;%</span>              <span class="c1"># data.frameã«å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># è¡Œåã‚’åˆ—ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">,</span> <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;death&#34;</span><span class="p">)</span>     <span class="c1"># ageä»¥å¤–ã‚’ç§»å‹•ã—ã¦ç¸¦é•·åŒ–</span>
</span></span><span class="line"><span class="cl">                                         <span class="c1"># æ–°ã—ã„nameåˆ—ã‚’åˆ†å‰²</span>
</span></span></code></pre></div><pre tabindex="0"><code>     age         name death
   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt;
 1 50-54   Rural Male  11.7
 2 50-54 Rural Female   8.7
 3 50-54   Urban Male  15.4
 4 50-54 Urban Female   8.4
--                         
17 70-74   Rural Male  66.0
18 70-74 Rural Female  54.3
19 70-74   Urban Male  71.1
20 70-74 Urban Female  50.0
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-ã‚’ç¸¦é•·ã«ã—ãŸã„">ä¾‹é¡Œ: <code>VADeaths</code> ã‚’ç¸¦é•·ã«ã—ãŸã„</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">as.data.frame</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span> <span class="o">%&gt;%</span>              <span class="c1"># data.frameã«å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># è¡Œåã‚’åˆ—ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">,</span> <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;death&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># ageä»¥å¤–ã‚’ç§»å‹•ã—ã¦ç¸¦é•·åŒ–</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;region&#34;</span><span class="p">,</span> <span class="s">&#34;sex&#34;</span><span class="p">))</span>     <span class="c1"># æ–°ã—ã„nameåˆ—ã‚’åˆ†å‰²</span>
</span></span></code></pre></div><pre tabindex="0"><code>     age region    sex death
   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;
 1 50-54  Rural   Male  11.7
 2 50-54  Rural Female   8.7
 3 50-54  Urban   Male  15.4
 4 50-54  Urban Female   8.4
--                          
17 70-74  Rural   Male  66.0
18 70-74  Rural Female  54.3
19 70-74  Urban   Male  71.1
20 70-74  Urban Female  50.0
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-ã‚’ç¸¦é•·ã«ã—ãŸã„">ä¾‹é¡Œ: <code>VADeaths</code> ã‚’ç¸¦é•·ã«ã—ãŸã„</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">va_deaths</span> <span class="o">=</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span> <span class="o">%&gt;%</span>  <span class="c1"># data.frameã«å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># è¡Œåã‚’åˆ—ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">,</span> <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;death&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># ageä»¥å¤–ã‚’ç§»å‹•ã—ã¦ç¸¦é•·åŒ–</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;region&#34;</span><span class="p">,</span> <span class="s">&#34;sex&#34;</span><span class="p">))</span> <span class="o">%&gt;%</span> <span class="c1"># æ–°ã—ã„nameåˆ—ã‚’åˆ†å‰²</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;lbound&#34;</span><span class="p">,</span> <span class="s">&#34;ubound&#34;</span><span class="p">),</span> <span class="s">&#34;-&#34;</span><span class="p">,</span> <span class="n">convert</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>                                <span class="c1"># ä¸‹é™ã¨ä¸Šé™ã‚’åˆ†é›¢</span>
</span></span></code></pre></div><pre tabindex="0"><code>   lbound ubound region    sex death
    &lt;int&gt;  &lt;int&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;
 1     50     54  Rural   Male  11.7
 2     50     54  Rural Female   8.7
 3     50     54  Urban   Male  15.4
 4     50     54  Urban Female   8.4
--                                  
17     70     74  Rural   Male  66.0
18     70     74  Rural Female  54.3
19     70     74  Urban   Male  71.1
20     70     74  Urban Female  50.0
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-åˆ¥è§£">ä¾‹é¡Œ: <code>VADeaths</code> åˆ¥è§£</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">va_deaths</span> <span class="o">=</span> <span class="nf">as.data.frame</span><span class="p">(</span><span class="n">VADeaths</span><span class="p">)</span> <span class="o">%&gt;%</span>  <span class="c1"># data.frameã«å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rownames_to_column</span><span class="p">(</span><span class="s">&#34;age&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># è¡Œåã‚’åˆ—ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span>                          <span class="c1"># ç¸¦é•·ã«å¤‰å½¢ã—ãŸã„</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span><span class="n">age</span><span class="p">,</span>                                <span class="c1"># ageä»¥å¤–ã®åˆ—ã«å…¥ã£ã¦ã‚‹å€¤ã‚’ç§»å‹•</span>
</span></span><span class="line"><span class="cl">    <span class="n">names_to</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;region&#34;</span><span class="p">,</span> <span class="s">&#34;sex&#34;</span><span class="p">),</span>       <span class="c1"># å…ƒã®åˆ—åã‚’2ã¤ã«åˆ†é›¢</span>
</span></span><span class="line"><span class="cl">    <span class="n">names_sep</span> <span class="o">=</span> <span class="s">&#34; &#34;</span><span class="p">,</span>                     <span class="c1"># ã‚¹ãƒšãƒ¼ã‚¹ã§åˆ‡ã‚‹</span>
</span></span><span class="line"><span class="cl">    <span class="n">values_to</span> <span class="o">=</span> <span class="s">&#34;death&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>             <span class="c1"># å€¤ã®è¡Œãå…ˆã®åˆ—å</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;lbound&#34;</span><span class="p">,</span> <span class="s">&#34;ubound&#34;</span><span class="p">),</span> <span class="s">&#34;-&#34;</span><span class="p">,</span> <span class="n">convert</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>                                <span class="c1"># ä¸‹é™ã¨ä¸Šé™ã‚’åˆ†é›¢</span>
</span></span></code></pre></div><pre tabindex="0"><code>   lbound ubound region    sex death
    &lt;int&gt;  &lt;int&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;
 1     50     54  Rural   Male  11.7
 2     50     54  Rural Female   8.7
 3     50     54  Urban   Male  15.4
 4     50     54  Urban Female   8.4
--                                  
17     70     74  Rural   Male  66.0
18     70     74  Rural Female  54.3
19     70     74  Urban   Male  71.1
20     70     74  Urban Female  50.0
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-vadeaths-ä½œå›³ä¾‹">ä¾‹é¡Œ: <code>VADeaths</code> ä½œå›³ä¾‹</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">va_deaths</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">aes</span><span class="p">(</span><span class="n">lbound</span><span class="p">,</span> <span class="n">death</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">color</span> <span class="o">=</span> <span class="n">sex</span><span class="p">,</span> <span class="n">shape</span> <span class="o">=</span> <span class="n">region</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme_classic</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">18</span><span class="p">)</span>
</span></span></code></pre></div><p><img src="figure/vadeaths_plot-1.png" alt="plot of chunk vadeaths_plot"></p>

</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe">ä¾‹é¡Œ: <code>anscombe</code></h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rowid_to_column</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">)</span>              <span class="c1"># IDã‚’ã¤ã‘ã¦ãŠã</span>
</span></span><span class="line"><span class="cl">                                     <span class="c1"># x y ã§å§‹ã¾ã‚‹åˆ—ã®å€¤ã‚’ç§»ã—ã¦ç¸¦é•·ã«</span>
</span></span></code></pre></div><pre tabindex="0"><code>      id    x1    x2    x3    x4    y1    y2    y3    y4
   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1    10    10    10     8  8.04  9.14  7.46  6.58
 2     2     8     8     8     8  6.95  8.14  6.77  5.76
 3     3    13    13    13     8  7.58  8.74 12.74  7.71
 4     4     9     9     9     8  8.81  8.77  7.11  8.84
--                                                      
 8     8     4     4     4    19  4.26  3.10  5.39 12.50
 9     9    12    12    12     8 10.84  9.13  8.15  5.56
10    10     7     7     7     8  4.82  7.26  6.42  7.91
11    11     5     5     5     8  5.68  4.74  5.73  6.89
</code></pre><p>ğŸ”° ã†ã¾ãå¤‰å½¢ã—ã¦ggplotã¨è¦ç´„çµ±è¨ˆé‡ã®è¨ˆç®—ã‚’ã—ã¦ã¿ã‚ˆã†</p>

</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe">ä¾‹é¡Œ: <code>anscombe</code></h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rowid_to_column</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># IDã‚’ã¤ã‘ã¦ãŠã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="nf">matches</span><span class="p">(</span><span class="s">&#34;^x|y&#34;</span><span class="p">))</span>      <span class="c1"># x y ã§å§‹ã¾ã‚‹åˆ—ã®å€¤ã‚’ç§»ã—ã¦ç¸¦é•·ã«</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                                     <span class="c1"># nameåˆ—ã‚’åˆ†å‰²</span>
</span></span></code></pre></div><pre tabindex="0"><code>      id  name value
   &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
 1     1    x1 10.00
 2     1    x2 10.00
 3     1    x3 10.00
 4     1    x4  8.00
--                  
85    11    y1  5.68
86    11    y2  4.74
87    11    y3  5.73
88    11    y4  6.89
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe">ä¾‹é¡Œ: <code>anscombe</code></h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rowid_to_column</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># IDã‚’ã¤ã‘ã¦ãŠã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="nf">matches</span><span class="p">(</span><span class="s">&#34;^x|y&#34;</span><span class="p">))</span> <span class="o">%&gt;%</span>  <span class="c1"># x y ã§å§‹ã¾ã‚‹åˆ—ã®å€¤ã‚’ç§»ã—ã¦ç¸¦é•·ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;axis&#34;</span><span class="p">,</span> <span class="s">&#34;group&#34;</span><span class="p">),</span> <span class="m">1L</span><span class="p">,</span> <span class="n">convert</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                                     <span class="c1"># nameåˆ—ã‚’åˆ†å‰²</span>
</span></span></code></pre></div><pre tabindex="0"><code>      id  axis group value
   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;
 1     1     x     1 10.00
 2     1     x     2 10.00
 3     1     x     3 10.00
 4     1     x     4  8.00
--                        
85    11     y     1  5.68
86    11     y     2  4.74
87    11     y     3  5.73
88    11     y     4  6.89
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe">ä¾‹é¡Œ: <code>anscombe</code></h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">tidy_anscombe</span> <span class="o">=</span> <span class="n">anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">rowid_to_column</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>          <span class="c1"># IDã‚’ã¤ã‘ã¦ãŠã</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span><span class="nf">matches</span><span class="p">(</span><span class="s">&#34;^x|y&#34;</span><span class="p">))</span> <span class="o">%&gt;%</span>  <span class="c1"># x y ã§å§‹ã¾ã‚‹åˆ—ã®å€¤ã‚’ç§»ã—ã¦ç¸¦é•·ã«</span>
</span></span><span class="line"><span class="cl">  <span class="nf">separate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;axis&#34;</span><span class="p">,</span> <span class="s">&#34;group&#34;</span><span class="p">),</span> <span class="m">1L</span><span class="p">,</span> <span class="n">convert</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                                     <span class="c1"># nameåˆ—ã‚’åˆ†å‰²</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_wider</span><span class="p">(</span><span class="n">names_from</span> <span class="o">=</span> <span class="n">axis</span><span class="p">,</span> <span class="n">values_from</span> <span class="o">=</span> <span class="n">value</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                                     <span class="c1"># axisåˆ—å†…ã® x y ã‚’åˆ—ã«ã—ã¦æ¨ªåºƒåŒ–</span>
</span></span><span class="line"><span class="cl">  <span class="nf">arrange</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">%&gt;%</span>                 <span class="c1"># ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ä¸¦ã¹ã‚‹</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>                            <span class="c1"># ggplotã—ãŸã„å½¢ï¼</span>
</span></span></code></pre></div><pre tabindex="0"><code>      id group     x     y
   &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1     1    10  8.04
 2     2     1     8  6.95
 3     3     1    13  7.58
 4     4     1     9  8.81
--                        
41     8     4    19 12.50
42     9     4     8  5.56
43    10     4     8  7.91
44    11     4     8  6.89
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe-åˆ¥è§£">ä¾‹é¡Œ: <code>anscombe</code> åˆ¥è§£</h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">tidy_anscombe</span> <span class="o">=</span> <span class="n">anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">pivot_longer</span><span class="p">(</span>                       <span class="c1"># ç¸¦é•·ã«å¤‰å½¢ã—ãŸã„</span>
</span></span><span class="line"><span class="cl">    <span class="nf">everything</span><span class="p">(),</span>                     <span class="c1"># ã™ã¹ã¦ã®åˆ—ã«ã¤ã„ã¦</span>
</span></span><span class="line"><span class="cl">    <span class="n">names_to</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;.value&#34;</span><span class="p">,</span> <span class="s">&#34;group&#34;</span><span class="p">),</span>  <span class="c1"># æ–°ã—ã„åˆ—å</span>
</span></span><span class="line"><span class="cl">    <span class="n">names_sep</span> <span class="o">=</span> <span class="m">1L</span><span class="p">,</span>                   <span class="c1"># åˆ‡ã‚‹ä½ç½®</span>
</span></span><span class="line"><span class="cl">    <span class="n">names_transform</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">group</span> <span class="o">=</span> <span class="n">as.integer</span><span class="p">))</span> <span class="o">%&gt;%</span> <span class="c1"># å‹å¤‰æ›</span>
</span></span><span class="line"><span class="cl">  <span class="nf">arrange</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">%&gt;%</span>                  <span class="c1"># ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ä¸¦ã¹ã‚‹</span>
</span></span><span class="line"><span class="cl">  <span class="nf">print</span><span class="p">()</span>                             <span class="c1"># ggplotã—ãŸã„å½¢ï¼</span>
</span></span></code></pre></div><pre tabindex="0"><code>   group     x     y
   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1    10  8.04
 2     1     8  6.95
 3     1    13  7.58
 4     1     9  8.81
--                  
41     4    19 12.50
42     4     8  5.56
43     4     8  7.91
44     4     8  6.89
</code></pre>
</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe-ä½œå›³ä¾‹">ä¾‹é¡Œ: <code>anscombe</code> ä½œå›³ä¾‹</h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">tidy_anscombe</span><span class="p">)</span> <span class="o">+</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_point</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">stat_smooth</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="n">lm</span><span class="p">,</span> <span class="n">formula</span> <span class="o">=</span> <span class="n">y</span> <span class="o">~</span> <span class="n">x</span><span class="p">,</span> <span class="n">se</span> <span class="o">=</span> <span class="kc">FALSE</span><span class="p">,</span> <span class="n">fullrange</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">group</span><span class="p">,</span> <span class="n">nrow</span> <span class="o">=</span> <span class="m">1L</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">theme_bw</span><span class="p">(</span><span class="n">base_size</span> <span class="o">=</span> <span class="m">16</span><span class="p">)</span>
</span></span></code></pre></div><img src="figure/plot_anscombe-1.png" title="plot of chunk plot_anscombe" alt="plot of chunk plot_anscombe" width="98%" />
</section>
<section>
<h2 id="ä¾‹é¡Œ-anscombe-è¦ç´„">ä¾‹é¡Œ: <code>anscombe</code> è¦ç´„</h2>
<p>4çµ„ã®x-yã¯ã€å¹³å‡ãƒ»åˆ†æ•£ãƒ»ç›¸é–¢ä¿‚æ•°ãŒã»ã¼åŒã˜ï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">tidy_anscombe</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">group_by</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">%&gt;%</span>   <span class="c1"># groupåˆ—ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦</span>
</span></span><span class="line"><span class="cl">  <span class="nf">summarize</span><span class="p">(</span>            <span class="c1"># x, yåˆ—ã‚’ä½¿ã£ã¦summarize</span>
</span></span><span class="line"><span class="cl">    <span class="n">mean_x</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">mean_y</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">y</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">sd_x</span> <span class="o">=</span> <span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">sd_y</span> <span class="o">=</span> <span class="nf">sd</span><span class="p">(</span><span class="n">y</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">cor_xy</span> <span class="o">=</span> <span class="nf">cor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span></code></pre></div><pre tabindex="0"><code>  group mean_x   mean_y     sd_x     sd_y    cor_xy
  &lt;int&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1     1      9 7.500909 3.316625 2.031568 0.8164205
2     2      9 7.500909 3.316625 2.031657 0.8162365
3     3      9 7.500000 3.316625 2.030424 0.8162867
4     4      9 7.500909 3.316625 2.030579 0.8165214
</code></pre>
</section>
<section>
<h2 id="å‰å‡¦ç†ã¯å¤§ãã2ã¤ã«åˆ†ã‘ã‚‰ã‚Œã‚‹">å‰å‡¦ç†ã¯å¤§ãã2ã¤ã«åˆ†ã‘ã‚‰ã‚Œã‚‹</h2>
<div style="float: right;">
<a href="https://dplyr.tidyverse.org/">
<img src="/_img/hex-stickers/dplyr.webp" width="120">
</a><br>
<a href="https://tidyr.tidyverse.org/">
<img src="/_img/hex-stickers/tidyr.webp" width="120">
</a>
</div>
<ul>
<li><strong>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç†</strong> ğŸ‘ˆ ç¬¬3, 4å› æœ¬æ—¥ã®è©±é¡Œ
<ul>
<li>ä½¿ã„ãŸã„éƒ¨åˆ†ã ã‘æŠ½å‡º &mdash; <code>select()</code>, <code>filter()</code></li>
<li>ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ç‰¹å¾´ã‚’è¦ç´„ &mdash; <code>group_by()</code>, <code>summarize()</code></li>
<li>ä½•ã‹ã®é †ã«ä¸¦ã¹æ›¿ãˆ &mdash; <code>arrange()</code></li>
<li>ç•°ãªã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã®çµåˆ &mdash; <code>*_join()</code></li>
<li>å¤‰å½¢: ç¸¦é•· â†” æ¨ªåºƒ &mdash; <code>pivot_longer()</code>, <code>pivot_wider()</code></li>
</ul>
</li>
<li>ãƒ‡ãƒ¼ã‚¿å†…å®¹ã‚’å¯¾è±¡ã¨ã™ã‚‹å‡¦ç† â€” ç¬¬5å› æ¥é€±
<ul>
<li>æ•°å€¤ã‚’å¤‰æ›ã™ã‚‹ (e.g., å¯¾æ•°ã€åº§æ¨™ç³»)</li>
<li>å¤‰æ›: é€£ç¶šå¤‰æ•° â†” ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«å¤‰æ•° â†” ãƒ€ãƒŸãƒ¼å¤‰æ•°</li>
<li>å¤–ã‚Œå€¤ãƒ»æ¬ æå€¤ã«å¯¾å‡¦</li>
<li>æ–‡å­—åˆ—ã‹ã‚‰æ•°å€¤ã‚„æ—¥æ™‚ã‚’æŠœãå‡ºã™</li>
</ul>
</li>
</ul>
<p><cite style="display: block; text-align: right;"><a href="https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=heavywatal-22&linkId=8a3fd4e9a0c944b1b41242bbab8d147b">
æœ¬æ©‹æ™ºå…‰ã€Œå‰å‡¦ç†å¤§å…¨ã€
</a></cite>
</section>
<section>
<h2 id="æ†¶ãˆãªãã¦ã„ã„å…¬å¼ã‚µã‚¤ãƒˆãªã©ã‚’è¦‹ãªãŒã‚‰ä½œæ¥­">æ†¶ãˆãªãã¦ã„ã„ã€‚å…¬å¼ã‚µã‚¤ãƒˆãªã©ã‚’è¦‹ãªãŒã‚‰ä½œæ¥­</h2>
<figure>
<a href="https://dplyr.tidyverse.org/">
<img src="/slides/image/rstats/dplyr-website.png" width="90%">
<figcaption class="url">https://dplyr.tidyverse.org/</figcaption>
</a>
</figure>

</section>
<section>
<h2 id="reference">Reference</h2>
<dl>
<dt>R for Data Science &mdash; Hadley Wickham and Garrett Grolemund</dt>
<dd><a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>,
<a href="https://amzn.to/2tbRmVc">Paperback</a>,
<a href="https://amzn.to/2yyFRKt">æ—¥æœ¬èªç‰ˆæ›¸ç±</a></dd>
</dl>
<p><a href="https://www.amazon.co.jp/dp/4774196479/ref=as_li_ss_tl?ie=UTF8&amp;linkCode=ll1&amp;tag=heavywatal-22&amp;linkId=8a3fd4e9a0c944b1b41242bbab8d147b">å‰å‡¦ç†å¤§å…¨ &mdash; æœ¬æ©‹æ™ºå…‰</a><br>
<a href="https://amzn.to/3eBprm5">Rãƒ¦ãƒ¼ã‚¶ã®ãŸã‚ã®RStudio[å®Ÿè·µ]å…¥é–€ (å®‡å®™æœ¬) &mdash; æ¾æ‘ã‚‰</a></p>
<dl>
<dt>æ•´ç„¶ãƒ‡ãƒ¼ã‚¿ã¨ã¯ä½•ã‹ &mdash; <a href="https://twitter.com/f_nisihara">@f_nisihara</a></dt>
<dd><a href="https://speakerdeck.com/fnshr/zheng-ran-detatutenani">Speaker Deck</a>,
<a href="https://id.fnshr.info/2017/01/09/tidy-data-intro/">Colorless Green Ideas</a></dd>
<dt>Official documents:</dt>
<dd><a href="https://www.tidyverse.org/">tidyverse</a>,
<a href="https://dplyr.tidyverse.org/">dplyr</a>,
<a href="https://tidyr.tidyverse.org/">tidyr</a>,
<a href="https://purrr.tidyverse.org/">purrr</a>,
<a href="https://tibble.tidyverse.org/">tibble</a>,
<a href="https://readr.tidyverse.org/">readr</a>,</dd>
<dt>Older versions</dt>
<dd>ã€Œ<a href="https://heavywatal.github.io/slides/nagoya2018/">Rã«ã‚„ã‚‰ã›ã¦æ¥½ã—ã‚ˆã† â€” ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–ã¨ä¸‹ã”ã—ã‚‰ãˆ</a>ã€
å²©åµœèˆª 2018</dd>
<dd>ã€ŒRã‚’ç”¨ã„ãŸãƒ‡ãƒ¼ã‚¿è§£æã®åŸºç¤ã¨å¿œç”¨ã€çŸ³å·ç”±å¸Œ 2019 åå¤å±‹å¤§å­¦</dd>
</dl>
<a href="5-content.html" rel="next" class="readmore">
5. ãƒ‡ãƒ¼ã‚¿å†…å®¹ã®å‡¦ç†: æ•°å€¤ã€æ–‡å­—åˆ—ã€æ—¥æ™‚ãªã©ã€‚
</a>

</section>
</div>
</div>
<script src="/slides/lib/reveal.js/reveal.js"></script>
<script src="/slides/lib/reveal.js/plugin/notes.js"></script>
<script>
Reveal.initialize({
  width: 960,
  height: 720,
  margin: 0,
  controls: true,
  controlsLayout: 'bottom-right',
  controlsTutorial: false,
  controlsBackArrows: 'faded',
  progress: false,
  slideNumber: 'c/t',
  showSlideNumber: 'all',
  hashOneBasedIndex: true,
  hash: true,
  history: false,
  keyboard: true,
  overview: true,
  center: false,
  touch: true,
  loop: false,
  rtl: false,
  navigationMode: 'linear',
  shuffle: false,
  fragments: true,
  fragmentInURL: true,
  embedded: false,
  help: true,
  showNotes: false,
  autoPlayMedia: null,
  preloadIframes: null,
  mouseWheel: false,
  previewLinks: false,
  transition: 'none',
  transitionSpeed: 'fast',
  backgroundTransition: 'none',
  pdfMaxPagesPerSlide: 1,
  pdfSeparateFragments: false,
  viewDistance: 2,
  plugins: [ RevealNotes ]
});
</script>
<script>
{
const reload_all_img = function() {
  const imgs = document.getElementsByTagName("img");
  for (let i = 0; i < imgs.length; ++i) {
    const src = imgs[i].src;
    imgs[i].src += "?q";
    imgs[i].src = src;
  }
};
const reload_src_element = function(ev) {
  const original_src = ev.srcElement.src;
  ev.srcElement.src += "?q";
  ev.srcElement.src = original_src;
};
const reload_src = function(ev) {
  if (ev.shiftKey || ev.metaKey || ev.altKey) {
    reload_all_img();
  } else {
    reload_src_element(ev);
  }
};
const img_elements = document.getElementsByTagName("img");
for (let i = 0; i < img_elements.length; ++i) {
  img_elements[i].onclick = reload_src;
}
};
</script>
</body>
</html>
